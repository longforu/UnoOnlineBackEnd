{"version":3,"sources":["api.js","waiting.js","redux.js","lght/util/util.js","lght/lght.js","viewInit.js","webView.js","mobileView.js","view.js","controller.js","Util.js","Page/Game.js","Components/Logo.js","Page/Join.js","Page/Landing.js","Page/Auth.js","Page/Profile.js","App.js","serviceWorker.js","index.js","polygon.svg"],"names":["axios","require","url","window","mobileCheck","baseAPI","create","baseURL","module","exports","join","id","username","post","houseRule","socket","startMatchMaking","token","login","error","console","log","io","query","userToken","on","playerid","message","close","endMatchMaking","disconnect","createStore","localStorage","getItem","parseInt","defaultState","tempJoinID","joined","loggedIn","loggedInUser","matchMaking","skirmish","competitive","Store","state","type","tempJoinId","setItem","removeItem","mergeDefaultPropertyObject","p","d","o","prop","_","cloneDeep","findDistance2Point","x1","y1","x2","y2","Math","sqrt","pow","findAngle2Point","dx","dy","tan","atan","radToDeg","rad","PI","degToRad","deg","rotatePoint","cx","cy","x","y","calculateRotatePoint","r","angleIndex","indexOf","coeff","cos","sin","findIntersection","s1","s2","x11","y11","x12","y12","x21","y21","x22","y22","round","minX1","min","maxX1","max","minX2","maxX2","slope1","slope2","coeff1","findClosestPoint","s","angle","abs","findAngle3Point","d1","d2","changeByDotNotation","propertyString","object","value","propertyArray","split","objectLink","forEach","e","i","length","Array","isArray","getByDotNotation","lght","inputReference","movementIndex","coeffIndex","defaultAppConfig","initFunctions","animateFunctions","lastFrame","undefined","constantRender","background","pixelDensity","eventListeners","eventListenersFunction","defaultObjectProps","shapes","animations","behaviors","behaviorFuncs","behaviorQueue","hoverEvents","animationCount","static","rotation","positionIndicator","display","opacity","mouseUpEvent","mouseDownEvent","mouseMoveEvent","zIndex","alignX","alignDirectionX","alignMarginX","alignY","alignDirectionY","alignMarginY","defaultStorageProps","spacing","direction","model","margin","defaultAdvanceStorageProps","paddingTop","paddingBottom","paddingLeft","paddingRight","backgroundFunction","defaultShapeOptions","kind","scaleX","scaleY","color","lineWidth","borderColor","borderWidth","border","borderOnly","shadow","defaultRectOptions","w","h","clip","clipImageLink","clipCanvas","clipSpriteSheetX","clipSpriteSheetY","spriteLengthX","spriteLengthY","defaultArcOptions","arcDegree","defaultTextOptions","textAlign","fontFamily","fontSize","text","fontBackwardCompatibility","defaultImgOptions","spriteLink","drawWidth","drawHeight","loadedFunction","defaultPolyOptions","points","specialPolygon","numberOfSide","radius","defaultLineOptions","apps","gameloop","list","frameTime","loop","time","requestAnimationFrame","app","elem","options","this","canvas","objects","index","push","turnFunctions","prototype","obj","addEventListener","event","func","removeEventListenr","removeEventListener","kill","f","killed","splice","update","translateMouseCoor","pageX","pageY","clientX","document","body","scrollLeft","documentElement","scrollTop","parentElement","style","position","offsetLeft","offsetTop","objectCount","property","parent","translateToRealPixel","num","extraInfo","match","filter","name","objectName","posX","posY","collide","pointInShape","xs","ys","findMax","minX","maxX","minY","maxY","width","arr","height","templateNames","templates","template","useTemplate","storage","storageShapes","elementFunction","updateToModel","shape","reverse","firstX","content","firstY","updateVisual","advanceStorage","backgroundShape","totalLength","map","unshift","spriteLinkReference","spriteImageReference","funcLists","sprite","link","image","complete","Image","onload","src","sound","createElement","oncanplaythrough","loaded","updateQueue","volume","setAttribute","appendChild","queue","running","mute","play","setTimeout","duration","audioReference","audioLinkReference","playSound","addToQueue","stopAll","from","getElementsByTagName","pause","muteAll","unmuteAll","component","components","Error","option","addComponent","classes","addClass","class","className","attr","importantAttr","includes","vertex","findVertex","offsetMinX","borderWidthIfBorderIsOn","offsetMaxX","offsetMinY","offsetMaxY","shadowOffsetMinX","blur","shadowOffsetMaxX","shadowOffsetMinY","shadowOffsetMaxY","offsetX","offsetY","sides","findSides","compareSide","intersect","result","maxY1","minY1","maxY2","minY2","side1","side2","hasBorder","rect","rx","ry","nx","absoluteX","ny","absoluteY","arc","minAngle","maxAngle","minRadAngle","maxRadAngle","referenceX","referenceY","vertex1","vertex2","pureCircle","ray1","ray2","side","closest","roundedRectangle","borderRadius","clipImage","imageUrl","poly","polyPoints","radiusCoefficient","line","notIncluded","point","rotatedPoints","distance","angleQuadrant","firstDistance","pointOneInFirstQuadrant","pointSecondInSecondQuadrant","pointThreeInThirdQuadrant","pointFourInFourthQuadrant","font","reference","coefficient","c","context","save","measureText","restore","textSize","img","imageLoaded","attachQuickMovement","velocity","cooldown","cd","key","startCursor","cursor","endCursor","enterCursorEvent","alreadyCursorEvent","hoverEvent","attachEvent","trueEvent","changedTouches","touch","mouseInputInit","handleCoor","pointInObject","LargeLoop","a","pressedEvent","makeDraggable","funcDone","onDrag","draggable","changePosition","funcin","funcout","mouseIn","animate","timeDifference","animateFunctionReference","animation","init","timeUp","newValue","addAnimation","timeout","cancelAnimation","alreadyAnimated","find","findIndex","clearTimeout","arguments","fadeIn","Promise","fadeOut","render","clearCanvas","fillBackground","renderShape","visualInit","backgroundColor","getContext","renderPositions","sort","b","draw","clearRect","fillStyle","fillRect","beginPath","closePath","fill","preloader","maxes","createPreloader","clearPreloader","ox","oy","drawShape","drawPreloader","translate","drawImg","drawShapeKind","stroke","globalAlpha","strokeStyle","scale","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawRect","drawArc","drawText","drawPoly","drawLine","drawRoundedRectangle","clipImageLoaded","rotate","spriteWidth","spriteHeight","clipStartX","clipStartY","drawImage","strokeRect","moveTo","lineTo","quadraticCurveTo","br","er","strokeText","fillText","addShape","addObject","getObject","addStorage","addAdvanceStorage","removeObject","initiated","offSetY","webView","ref","ref2","ref3","drawSoundIcon","soundIcon","soundOn","soundOff","animatePlayerPlay","addToAnimationQueue","positionReference","playerDeck","animatePlayerDraw","animateLeaderboardDraw","leaderBoard","animateLeaderboardPlay","drawSpecialInfo","specialInfo","playDeck","colors","textColor","activateInfo","tc","toUpperCase","cancelInfo","animateDraw","endX","endY","card","createCard","drawDeck","animatePlay","startX","startY","drawColorChoser","choosingColor","resolveFunction","colorChooser","chooseColor","staticApp","cardSpriteColumn","cardSpriteRow","cardSpriteReference","wild","Draw4","colorReference","otherReference","processApp","yRow","actionPanel","handHeight","drawable","createDeck","flip","awaitDraw","cancelDraw","createHand","createLeaderboard","drawAnnouncement","configureStartGameMessage","configureUnoMessage","drawEmote","drawEndGame","initAnimation","gameMode","drawAddBot","currentTopCard","endGame","pointText","restartText","activateEndGame","tutorial","showTutorial","addBot","startAddBot","cancelAddBot","emoteChooser","emoteText","timeInterval","emote","emoji","clearInterval","animationQueue","animationCallback","animating","updateAnimation","playordraw","px","py","ec","firstFunc","actionFunction","actionalPanel","turnIndicator","updateTurnIndicator","turn","numberOfLoops","cardElement","updateLeaderboard","players","cardsAmount","pointAmount","verifyFunction","onSelect","playerHand","action","slice","updateCards","awaitSelection","vf","cancelSelection","deck","back","flipped","changeToBack","changeClipImage","changeToFront","flipAnimation","announcementQueue","announcmentPerpetual","announcement","annoucementText","fadeOutThenFadeIn","updateAnnouncement","uno","UNO","startGameObject","activated","initiateStartGameMessage","turnOffStartGameMessage","mobileView","createPlayDeck","configureCanvas","cardApp","clientWidth","innerWidth","clientHeight","innerHeight","createActionPanel","changeInPointText","changeInPoint","textShapes","cardShape","cards","pointStr","timeOut","handWidth","left","getElementById","deckCardOption","onAnnouncementPerpetual","onAnnoucementChanged","check","navigator","userAgent","vendor","opera","test","substr","View","Controller","canvasref","canvasstatic","userid","CopyLink","LeaveGame","canvasSpecial","compFunc","view","emit","sortHand","hand","newhand","countable","notCountable","sorted","sortDeck","red","blue","green","yellow","final","verify","color2","action2","m","info","oldModel","onTurn","then","newAnnoucements","feed","newDirectives","directives","addToAnnoucementQueue","code","user","otherinfo","latestDraw","animateToPlayer","animateToLeaderBoard","oldCard","newCard","JSON","stringify","drawTutorial","initiateWithGameMode","RestartGame","inGame","drawEmoteChooser","win","dispatch","createSkirmish","getState","headers","Authorization","data","cogoToast","Game","connect","triggerCompetitive","useRef","copyToClipboard","str","el","select","execCommand","removeChild","success","leaveGame","restartCompetitive","disconnectFunc","startGame","current","useEffect","alignItems","overflowX","overflowY","top","bottom","Logo","Polygon","Join","changeHistory","useState","loading","setLoading","joinGame","maxWidth","boxShadow","initialValues","onSubmit","handleSubmit","handleChange","handleBlur","onChange","onBlur","css","Checkbox","props","field","form","checked","nextValue","setFieldValue","concat","displayname","Landing","withRouter","history","createGame","values","to","Auth","signingIn","setSigningIn","handleLogIn","signIn","password","signUp","href","onClick","preventDefault","Profile","userInfo","setUserInfo","fetchUserInfo","get","toggleMatchMaking","botGame","casualGame","gamePlayed","gameWon","gameLost","rank","karma","Content","pathname","location","minimized","setMinimized","showCompetitive","setShowCompeititve","joinUser","gameid","path","exact","transform","right","marginTop","App","store","Boolean","hostname","ReactDOM","StrictMode","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.e3c65de6.chunk.js","sourcesContent":["const axios = require('axios')\nlet url = (process.env.NODE_ENV === 'production')?'/':'http://localhost:4000'\nif(window.mobileCheck() && process.env.NODE_ENV !== 'production') url = 'http://10.0.1.10:4000'\nconst baseAPI = axios.create({baseURL:url})\nconst join = (id,username)=>baseAPI.post('join',{id,username})\nconst create = (username,houseRule)=>baseAPI.post('create',{username,houseRule})\n\nmodule.exports = {join,create,baseAPI}","import io from 'socket.io-client'\n\nlet socket = null\nconst startMatchMaking = (token,login,error)=>{\n      let url = (process.env.NODE_ENV==='production')?'/waitingRoom':'http://localhost:4000/waitingRoom'\n      if(window.mobileCheck() && process.env.NODE_ENV !== 'production') url = 'http://10.0.1.10:4000/waitingRoom'\n\n      console.log(token)\n      socket = io(url,{query:{userToken:token}})\n      socket.on('Game Found',({token,playerid})=>{\n            console.log('Found',token,playerid)\n            login({token,playerid})\n      })\n      socket.on('Critical Error',(message)=>{\n            error(message)\n            socket.close()\n            socket = null\n      })\n}\n\nconst endMatchMaking = ()=>{\n      if(socket) socket.disconnect()\n      socket =null\n}\n\nexport {startMatchMaking,endMatchMaking}","import { startMatchMaking } from './waiting'\n\nconst {createStore} = require('redux')\n\nconst token = localStorage.getItem('token')\nconst id = localStorage.getItem('id')\nconst playerid = parseInt(localStorage.getItem('playerid'))\nconst userToken = localStorage.getItem('usertoken')\nconst defaultState = {\n    token,id,playerid,tempJoinID:null,joined:false,\n    loggedIn:!!token,userToken,loggedInUser:!!userToken,matchMaking:false,skirmish:false,competitive:false\n}\n\nconst reducer = (state=defaultState,{id,playerid,token,type,tempJoinId,userToken})=>{\n    console.log(type,id,playerid,token,userToken)\n    switch(type){\n        case 'LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true,skirmish:false,matchMaking:false}\n        case 'JOIN_LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true,joined:true}\n        case 'LOG_OUT':\n            localStorage.removeItem('token')\n            localStorage.removeItem('id')\n            localStorage.removeItem('playerid')\n            return {...state,id:null,token:null,playerid:null,loggedIn:false}\n        case 'LOG_OUT_WITH_TEMP_JOIN':\n            localStorage.removeItem('token')\n            localStorage.removeItem('id')\n            localStorage.removeItem('playerid')\n            return {...state,id:null,token:null,playerid:null,loggedIn:false,tempJoinId:state.tempJoinId||tempJoinId}\n        case 'LOG_IN_SKIRMISH_GAME':\n            return {...state,playerid,token,loggedIn:true,matchMaking:true,skirmish:true}\n        case 'LOG_OUT_SKIRMISH_GAME':\n            return {...state,playerid:null,loggedIn:false,token:null,skirmish:false}\n        case 'END_MATCHMAKING':\n            return {...state,matchMaking:false}\n        case 'SET_TEMP_JOIN':\n            console.log(tempJoinId)\n            return {...state,tempJoinId}\n        case 'JOINED':\n            return {...state,joined:true}\n        case 'LOG_IN_USER':\n            localStorage.setItem('usertoken',userToken)\n            return {...state,userToken,loggedInUser:true}\n        case 'LOG_OUT_USER':\n            localStorage.removeItem('usertoken')\n            return {...state,userToken:null,loggedInUser:false,matchMaking:false}\n        default:\n            return{...state}\n    }\n}\n\nconst Store = createStore(reducer)\n\nexport default Store","import _ from 'lodash'\n\nconst random = (high,low) => {return Math.round(Math.random()*(high-low+1) + low);}\n\t\nconst mergeDefaultPropertyObject = (p,d,o)=>{\n\tfor(var prop in d){\n\t\tif(typeof p == 'object'){\n\t\t\tif(typeof p[prop] === 'function') o[prop] = p[prop]\n\t\t\telse if(typeof p[prop] != 'undefined') o[prop] = _.cloneDeep(p[prop]);\n\t\t\telse o[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t\telse{\n\t\t\to[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t}\n}\n\n//<---------------------GEOMETRIC FUNCTION-------------------->\n\nconst findQuadrant = (angle) => {\n\tif(angle < 90 && angle > 0) return 1;\n\tif(angle > 90 && angle < 180) return 2;\n\tif(angle > 180 && angle < 270) return 3;\n\tif(angle > 270 && angle < 360) return 4;\n}\n\nconst findDistance2Point = (x1,y1,x2,y2)=>Math.sqrt(Math.pow((x1-x2),2) + Math.pow((y1-y2),2))\n\n\nconst findAngle2Point = function(x1,y1,x2,y2){\n\t//CHECK SPECIAL CASES\n\tif(x1===x2&&y1===y2) return 0;\n\tif(x1===x2){\n\t\tif(y1 < y2) return 270;\n\t\tif(y1 > y2) return 90;\n\t} \n\tif(y1===y2){\n\t\tif(x1<x2) return 0;\n\t\tif(x2<x1) return 180;\n\t}\n\n\t//FIND QUADRANT\n\tvar dx = x2-x1; var dy = y2-y1;\n\tvar tan = Math.atan((-dy)/dx);\n\n\tif(x1<x2&&y1>y2) return radToDeg(tan);//QUADRANT 1\n\tif(x1>x2&&y1>y2) return\t180 + radToDeg(tan); //QUADRANT 2\n\tif(x1>x2&&y1<y2) return 180 + radToDeg(tan);//QUADRANT 3\n\tif(x1<x2&&y1<y2) return 360 + radToDeg(tan);//QUADRANT 4\n}\n\nconst radToDeg = (rad) => (rad*180)/Math.PI;\n\nconst degToRad = (deg) => (deg*Math.PI)/180;\n\nconst rotatePoint = (cx,cy,x,y,deg) => (deg===0||deg===360)? [x,y]: calculateRotatePoint(cx,cy,findAngle2Point(cx,cy,x,y)+deg,findDistance2Point(cx,cy,x,y));\n\nconst calculateRotatePoint = function(cx,cy,r,d){\n\tconst rad = degToRad(r);\n\n\t//IF IT'S IN SPECIAL CASE\n\tconst angleIndex = [0,90,180,270,360];\n\tconst coeffIndex = [[1,0],[0,1],[-1,0],[0,-1],[1,0]];\n\tif(angleIndex.indexOf(r) !== -1){\n\t\tconst coeff = coeffIndex[angleIndex.indexOf(r)];\n\t\treturn [cx+coeff[0]*d,cy-coeff[1]*d];\n\t}\n\treturn [cx + Math.cos(rad)*d, cy - Math.sin(rad)*d];\n}\n\n\n//<----------------------SEGMENT INTERSECTION, USED FOR OBJECT COLLISION------------------------------>\nlet findIntersection = function(s1,s2){\n\t//FIND CONSTRAINS FOR USE BEFORE INTERSECTION FUNCTION\n\tlet [x11,y11,x12,y12] = s1\n\tlet [x21,y21,x22,y22] = s2\n\tif(Math.round(x11) === Math.round(x12) || Math.round(x21) === Math.round(x22)){\n\t\t[x11,y11] = rotatePoint(0,0,x11,y11,30);\n\t\t[x12,y12] = rotatePoint(0,0,x12,y12,30);\n\t\t[x21,y21] = rotatePoint(0,0,x21,y21,30);\n\t\t[x22,y22] = rotatePoint(0,0,x22,y22,30);\n\t}\n\n\n\tconst minX1 = Math.min(x11,x12); const maxX1 = Math.max(x11,x12);\n\tconst minX2 = Math.min(x21,x22); const maxX2 = Math.max(x21,x22);\n\n\tconst slope1 =(y11-y12)/(x11-x12); \n\tconst slope2 =(y21-y22)/(x21-x22);\n\tconst coeff1 = -(x11*slope1) + y11;\n\tconst coeff2 = -(x21*slope2) + y21;\n\n\tif(slope1===slope2) return false;\n\tconst x = (coeff2 - coeff1)/(slope1 - slope2);\n\tconst y = slope1*x + coeff1;\n\tif(((x>minX1)&&(x<maxX1))&&((x>minX2)&&(x<maxX2))) return [x,y];\n\treturn false;\n}\n\n\n//<--------------------------OTHER SEGMENT FUNCTION------------------------------>\nconst findAngle3Point = (cx,cy,x1,y1,x2,y2) => Math.abs(findAngle2Point(cx,cy,x2,y2) - findAngle2Point(cx,cy,x1,y1))\n\n//FIND THE 'HEIGHT' OF A POINT TO A SEGMENT\nconst findClosestPoint = function(x,y,s){\n\tconst [x1,y1,x2,y2] = s\n\n\tlet angle = findAngle3Point(x1,y1,x,y,x2,y2);\n\tconst d = findDistance2Point(x,y,x1,y1);\n\n\tconst d1 = Math.abs(d*Math.cos(degToRad(angle)));\n\tconst d2 = Math.sqrt(Math.pow(d,2) - Math.pow(d1,2));\n\n\tif(d1 > findDistance2Point(x1,y1,x2,y2)) return false;\n\n\tangle = degToRad(findAngle2Point(x1,y1,x2,y2));\n\tconst xh = x1 + Math.cos(angle) * d1; \n\tconst yh = y1 - Math.sin(angle) * d1;\n\treturn [xh,yh,d2];\n}\n\nconst changeByDotNotation = (propertyString,object,value) => {\n\tconst propertyArray = propertyString.split(\".\")\n\tlet objectLink = object\n\tpropertyArray.forEach((e,i)=>{\n\t\tif (i === propertyArray.length - 1){\n\t\t\tif(Array.isArray(objectLink)) objectLink[parseInt(e)] = value\n\t\t\telse objectLink[e] = value\n\t\t}\n\t\telse{\n\t\t\tif(Array.isArray(objectLink)) objectLink = objectLink[parseInt(e)]\n\t\t\telse objectLink = objectLink[e]\n\t\t}\n\t})\n}\n\nconst getByDotNotation = (propertyString,object)=>{\n\tconst propertyArray = propertyString.split(\".\")\n\tlet value = object\n\tpropertyArray.forEach(e=>{\n\t\tif(Array.isArray(value)) value = value[parseInt(e)]\n\t\telse value=object[e]\n\t})\n\treturn value\n}\n\nexport {findClosestPoint,findAngle3Point,findAngle2Point,findIntersection,calculateRotatePoint,random,\nmergeDefaultPropertyObject,findQuadrant,findDistance2Point,radToDeg,degToRad,rotatePoint,changeByDotNotation,getByDotNotation}","/* eslint-disable no-fallthrough */\n/* eslint-disable no-unused-vars */\n//LIGHT LIBRARY IS DEVELOPED BY LONG TRAN\n//COPYRIGHT 2020, ALL RIGHTS RESERVED\n\nimport {getByDotNotation, changeByDotNotation , mergeDefaultPropertyObject, findDistance2Point, findIntersection, rotatePoint, degToRad, findAngle2Point ,findClosestPoint, calculateRotatePoint, radToDeg} from './util/util'\n\nlet lght = {};\n\n//Config\nlght.inputReference = {};\nlght.inputReference.movementIndex = \n    ['w','a','s','d','ArrowUp','ArrowLeft','ArrowDown','ArrowRight'];\n\nlght.inputReference.coeffIndex = \n    [[0,-1],[-1,0],[0,1],[1,0],[0,-1],[-1,0],[0,1],[1,0]];\n\nlght.defaultAppConfig = {\n    initFunctions:[\"visualInit\",'mouseInputInit'],\n    animateFunctions:[\"animate\",\"update\",\"render\"],\n    lastFrame:undefined,\n    constantRender:true,\n    background:\"black\",\n    pixelDensity:1,\n    eventListeners:[],\n    eventListenersFunction:[]\n}\n\nlght.defaultObjectProps = {\n    shapes:[],\n    animations:[],\n    behaviors:[],\n    behaviorFuncs:[],\n    behaviorQueue:[],\n    hoverEvents:[],\n    animationCount:0,\n    initFunctions:[\"createPreloader\"],\n    static:true,\n    x:0,y:0,\n    rotation:0, \n    positionIndicator:false,\n    display:true,opacity:1,\n    mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[],\n    zIndex:0,\n    alignX:false,\n    alignDirectionX:'right',\n    alignMarginX:5,\n    alignY:false,\n    alignDirectionY:'top',\n    alignMarginY:5\n}\n\nlght.defaultStorageProps = {\n    spacing:0,\n    direction:'row',\n    model:[],\n    margin:0\n}\n\nlght.defaultAdvanceStorageProps = {\n    paddingTop:10,\n    paddingBottom:10,\n    paddingLeft:10,\n    paddingRight:10,\n    backgroundFunction:null\n}\n\nlght.defaultShapeOptions = {\n    kind:\"rect\",\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    x:0,y:0,rotation:0,scaleX:1,scaleY:1,\n    color:\"black\",display:true,\n    lineWidth:1, opacity:1,\n    borderColor:'yellow',\n    borderWidth:10,\n    border:false, borderOnly:false,\n    shadow:null,mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[]\n}\n\nlght.defaultRectOptions = {\n    w:0,h:0,clip:false,\n    clipImageLink:null,clipCanvas:null,\n    clipSpriteSheetX:null,clipSpriteSheetY:null,\n    spriteLengthX:null,spriteLengthY:null\n}\n\nlght.defaultArcOptions = {\n    rad:0, arcDegree:360,\n}\n\nlght.defaultTextOptions = {\n    textAlign:'center',\n    fontFamily:'Arial Bold',\n    fontSize:10,\n    text:'Hello World',\n    fontBackwardCompatibility:undefined\n}\n\nlght.defaultImgOptions = {\n    spriteLink:null,\n    drawWidth:null,drawHeight:null,\n    loadedFunction:undefined\n}\n\nlght.defaultPolyOptions = {\n    points:[],\n    specialPolygon:false,\n    numberOfSide:0,\n    radius:10,\n    clip:false,\n    clipImageLink:null\n}\n\nlght.defaultLineOptions = {\n    points:[]\n}\n\n//Main\nlght.apps = [];\n\nlght.gameloop = {\n    list:[],\n    frameTime:undefined,\n    lastFrame:undefined\n};\n\nlght.gameloop.loop = (time)=>{\n    requestAnimationFrame(lght.gameloop.loop);\n\n    for(var i = 0;i<lght.gameloop.list.length;i++){\n        lght.gameloop.list[i](lght.apps[i]);\n    }\n    \n    if(time!==undefined){\n        lght.lastFrame = lght.frameTime;\n        lght.frameTime = time;\n    }\n}\n\n\n\nlght.gameloop.loop();\n\nlght.app = function(elem,options) {\n\n    this.options = {};\n    mergeDefaultPropertyObject(options,lght.defaultAppConfig,this.options)        \n    this.canvas = elem;\n    this.eventListeners = []\n    this.eventListenersFunction = []\n    this.options.initFunctions.forEach((e)=>this[e]())\n    \n    this.objects = []\n    this.index = lght.gameloop.list.length\n    lght.gameloop.list.push((this.options.constantRender)?this.turnFunctions:()=>{})\n    lght.apps.push(this);\n}\n\nlght.app.prototype.turnFunctions = (obj)=>{\n    obj.options.animateFunctions.forEach((e)=>obj[e]())\n}\n\nlght.app.prototype.addEventListener =function(event,func){\n    this.eventListeners.push(event)\n    this.eventListenersFunction.push(func)\n    this.canvas.addEventListener(event,func)\n}\n\nlght.app.prototype.removeEventListenr = function(){\n    this.eventListeners.forEach((e,i)=>this.canvas.removeEventListener(e,this.eventListenersFunction[i]))\n}\n\nlght.app.prototype.kill = function(){\n    this.objects.forEach(e=>{\n        e.shapes.forEach(f=>f.kill())\n        e.kill()\n    })\n    this.killed = true\n    lght.gameloop.list.splice(this.index,1)\n    lght.apps.splice(this.index,1)\n    this.removeEventListenr()\n}\n\nlght.app.prototype.update = function(){\n    this.objects.forEach(e => {\n        if(typeof e.update === 'function') e.update(e)\n    });\n}\n\nlght.app.prototype.translateMouseCoor = function(e){\n\tvar x;\n    var y;\n\tif (e.pageX || e.pageY) { \n\t\tx = e.pageX;\n\t\ty = e.pageY;\n\t}\n\telse { \n\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft\n        y=e.clientX + document.body.scrollTop + document.documentElement.scrollTop\n    } \n    if(this.canvas.parentElement.scrollLeft && this.canvas.style.position !== 'fixed') x+=this.canvas.parentElement.scrollLeft\n    if(this.canvas.parentElement.scrollTop && this.canvas.style.position !== 'fixed') x+=this.canvas.parentElement.scrollTop\n\tx -= this.canvas.offsetLeft;\n\ty -= this.canvas.offsetTop;\n\treturn [x*this.pixelDensity,y*this.pixelDensity];\n}\n\n//Object\n\n//TOTAL OBJECT COUNT, USED TO PRODUCE ID\nlght.objectCount = 0;\n\nlght.object = class {\n    constructor(property,parent){\n        lght.objectCount++\n        this.id = lght.objectCount;\n        this.parent = parent;\n        this.parent.objects.push(this)\n        mergeDefaultPropertyObject\n        (property,lght.defaultObjectProps,this);    \n        this.initFunctions.forEach((e)=>this[e]())        \n        this.name = (property.objectName)?property.objectName:`Object ${this.id}`\n    }\n\n    translateToRealPixel = (num,extraInfo)=>{\n        if(num.match(/%/)) return (parseInt(num.split('').filter(e=>e!=='%').join(''))/100) * extraInfo\n        return parseInt(num)\n    }\n\n    changePosition(x,y){\n        if(x){\n            if(this.alignX){\n                let coeff = (this.alignDirectionX === 'left' || this.alignDirectionX === 'center')?1:-1\n                this.alignMarginX = x - coeff*this.posX\n            }\n            else this.x = x\n        }\n        if(y){\n            if(this.alignY){\n                let coeff = (this.alignDirectionY==='top' || this.alignDirectionY==='center')?1:-1\n                this.alignMarginY = y - coeff*this.posY\n            }\n            else this.y = y\n        }\n    }\n\n    get posX(){\n        if(this.alignX){\n            let base\n            if(this.alignDirectionX === 'left') base = 0\n            else if(this.alignDirectionX === 'right') base = this.parent.canvas.width\n            else base = this.parent.canvas.width/2\n            const coeff = (this.alignDirectionX === 'left' || this.alignDirectionX === 'center')?1:-1\n            return base + coeff*(this.alignMarginX)\n        }\n        if(typeof this.x === 'number') return this.x\n        const arr = this.x.split(' ')\n        if(arr.length === 1) return this.translateToRealPixel(arr[0],this.parent.canvas.width)\n        else{\n            let i = 0\n            while(i<arr.length){\n                if(arr[i] === '+' || arr[i] === '-'){\n                    const coeff = (arr[i] === '+') ? 1 : -1\n                    arr[i] = this.translateToRealPixel(arr.splice(i+1,1),this.parent.canvas.width) + coeff*this.translateToRealPixel(arr.splice(i-1,1),this.parent.canvas.width)\n                }\n                else i++\n            }\n        }\n        return arr[0]\n    }\n    \n    get posY(){\n        if(this.alignY){\n            let base\n            if(this.alignDirectionY === 'top') base = 0\n            else if(this.alignDirectionY==='bottom') base = this.parent.canvas.height\n            else base = this.parent.canvas.height/2\n            const coeff = (this.alignDirectionY==='top' || this.alignDirectionY==='center')?1:-1\n            return base + coeff*( this.alignMarginY)\n        }\n        if(typeof this.y === 'number') return this.y\n        const arr = this.y.split(' ')\n        if(arr.length === 1) return this.translateToRealPixel(arr[0],this.parent.canvas.height)\n        else{\n            let i = 0\n            while(i<arr.length){\n                if(arr[i] === '+' || arr[i] === '-'){\n                    const coeff = (arr[i] === '+') ? 1 : -1\n                    arr[i] = this.translateToRealPixel(arr.splice(i+1,1),this.parent.canvas.height) + coeff*this.translateToRealPixel(arr.splice(i-1,1),this.parent.canvas.height)\n                }\n                else i++\n            }\n        }\n        return arr[0]\n    }\n\n    kill(){\n        this.parent.objects.splice(this.parent.objects.indexOf(this),1)\n    }\n\n    collide(obj){\n        for(let s1 of this.shapes){\n            for (let s2 of obj.shapes){\n                if(s1.collide(s2)) return true\n            }\n        }\n\n        return false\n    }\n\n    pointInObject(x,y){\n        for(let s1 of this.shapes){\n           if(s1.pointInShape(x,y)) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let xs = []\n        let ys = []\n        this.shapes.forEach(s=>{\n            let [minX,maxX,minY,maxY] = s.findMax()\n            xs = [...xs,minX,maxX]\n            ys = [...ys,minY,maxY]\n        })\n        return [Math.min(...xs),Math.max(...xs),Math.min(...ys),Math.max(...ys)]\n    }\n\n    findThePositionThatIsRelativeToThisObjectFromAbsolutePosition(x,y){\n        return [x-this.x,y-this.y]\n    }\n\n    get w(){\n        return this.findMax()[1] - this.findMax()[0]\n    }\n    get h(){\n        return this.findMax()[3] - this.findMax(2)\n    }\n}\n\nlght.templateNames = []\nlght.templates = []\nlght.template = (name,func)=>{\n    lght.templateNames.push(name)\n    lght.templates.push(func)\n}\n\nlght.app.prototype.useTemplate = (name,model)=> lght.templates[lght.templateNames.indexOf(name)](model,this)\n\nlght.storage = class extends lght.object{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultStorageProps,this)\n        this.storageShapes = []\n        this.model = property.model || []\n        this.elementFunction = property.elementFunction || null\n        this.updateToModel()\n    }\n    get totalLength(){\n        if(!this.model.length) return 0\n        if(!this.elementFunction) return 0\n        let shape\n        switch(this.direction){\n            case 'row-reverse':\n            case 'row':\n                shape = this.elementFunction(this.model[0],0)\n                const w = shape.width\n                shape.kill()\n                return w*this.model.length + this.spacing*(this.model.length-1)\n            case 'column-reverse':\n            case 'column':\n                shape = this.elementFunction(this.model[0],0)\n                const h = shape.height\n                shape.kill()\n                return h*this.model.length + this.spacing*(this.model.length-1)\n            default:\n                return 0\n                break;\n        }\n    }\n    updateToModel(){\n        let model =[...this.model]\n        this.storageShapes.forEach(e=>{e.kill();})\n        this.storageShapes = []\n        if(!model.length) return\n        if(!this.elementFunction) return\n        let shape\n        let totalLength\n        switch(this.direction){\n            case 'row-reverse':\n                model.reverse()\n            case 'row':\n                shape = this.elementFunction(model[0],0)\n                const w = shape.width\n                shape.kill()\n                totalLength = w*model.length + this.spacing*(model.length-1)\n                const firstX = -totalLength/2 + 0.5*w + this.margin\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.x = firstX + i*w + i*this.spacing\n                })\n                break;\n            case 'column-reverse':\n                model.reverse()\n            case 'column':\n                shape = this.elementFunction(model[0],0)\n                const h = shape.height\n                shape.kill()\n                totalLength = h*model.length + this.spacing*(model.length-1)\n                const firstY = -totalLength/2 + 0.5*h - this.margin\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.y = firstY +( i*h) + (i*this.spacing)\n                })\n                break\n            default:\n                break;\n        }\n        this.updateVisual()\n        return this\n    }\n}\n\nlght.advanceStorage = class extends lght.storage{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultAdvanceStorageProps,this)\n        this.updateToModel()\n    }\n\n    updateToModel(){\n        super.updateToModel()\n        if(!this.backgroundFunction) return\n        this.backgroundShape = this.backgroundFunction()\n        let h,w\n        if(this.direction.match(/column/)){\n            h = this.totalLength\n            w = Math.max(...this.storageShapes.map(e=>e.w))\n        }\n        else{\n            w = this.totalLength\n            h = Math.max(...this.storageShapes.map(e=>e.h))\n        }\n        this.backgroundShape.h = h + this.paddingBottom + this.paddingTop\n        this.backgroundShape.w = w + this.paddingLeft + this.paddingRight\n        this.backgroundShape.x += this.paddingRight - this.paddingLeft\n        this.backgroundShape.y += this.paddingTop - this.paddingBottom\n        this.shapes.splice(this.shapes.length-1,1)\n        this.shapes.unshift(this.backgroundShape)\n        this.updateVisual()\n        return this\n    }\n}\n\nlght.spriteLinkReference = []\nlght.spriteImageReference = []\nlght.funcLists = []\n\nlght.sprite = (link,func)=> {\n    const index = lght.spriteLinkReference.indexOf(link)\n    if(index !== -1){\n        const image = lght.spriteImageReference[index]\n        lght.funcLists[index].push(func)\n        if(image.complete) requestAnimationFrame(func)\n        return image\n    }\n    else{\n        const image = new Image()\n        const id = lght.spriteImageReference.length\n        image.onload = ()=>{\n            lght.funcLists[id].forEach(e=>e())\n        }\n        lght.funcLists[id] = []\n        lght.funcLists[id].push(func)\n        image.src = link\n        lght.spriteLinkReference.push(link)\n        lght.spriteImageReference.push(image)\n        return image\n    }\n}\n\nlght.sound = class{\n    constructor(link,loop){\n        this.elem = document.createElement('audio')\n        this.elem.oncanplaythrough = ()=>{\n            this.loaded = true\n            this.updateQueue()\n        }\n        this.elem.loop = loop\n        this.elem.volume = 0.2\n        this.elem.src = link\n        this.elem.setAttribute('preload','auto')\n        this.elem.setAttribute('controls','none')\n        this.elem.style.display = 'none'\n        document.body.appendChild(this.elem)\n        this.queue = 1\n        this.running = false\n        this.loaded = false\n    }\n    updateQueue(){\n        if(!this.running && this.queue && this.loaded && !lght.mute){\n            this.running = true\n            this.elem.play()\n            setTimeout(()=>{\n                this.running = false\n                this.updateQueue()\n            },this.elem.duration + 300)\n            this.queue--\n        }\n    }\n    addToQueue(){\n        this.queue++\n        this.updateQueue()\n    }\n}\n\nlght.audioReference = []\nlght.audioLinkReference = []\nlght.playSound = (src,loop)=>{\n    if(lght.audioLinkReference.indexOf(src)<0){\n        const sound = new lght.sound(src,loop)\n        lght.audioReference.push(sound)\n        lght.audioLinkReference.push(sound)\n    }\n    else lght.audioReference[lght.audioLinkReference.indexOf(src)].addToQueue()\n}\nlght.stopAll = ()=>{\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>{\n        e.pause()\n    })\n}\nlght.muteAll = ()=>{\n    lght.mute = true\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=true)\n}\nlght.unmuteAll = ()=>{\n    lght.mute = false\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=false)\n    lght.audioReference.forEach(e=>{if(e.elem.loop) e.addToQueue()})\n}\n\nlght.component = class {\n    constructor(object){\n        if(!lght.components) lght.components = {}\n        if(!object.name) throw Error(\"Component must have name\")\n        lght.components[object.name] = object\n    }\n    static addComponent(name,property={},object){\n        let option = {...lght.components[name]}\n        for(let prop in property)(option[prop] = property[prop])\n        return new lght[option.kind](option,object)\n    }\n}\n\nlght.addComponent = (property) => new lght.component(property)\n\nlght.classes = {}\nlght.addClass = (name,options)=>lght.classes[name] = options\n\nlght.shape = class {\n    constructor (property,parent) {\n        if(property.class) for(let className of property.class.split(' ')) for(let attr in lght.classes[className] || {}){\n            if(property.importantAttr) if(property.importantAttr.split(' ').includes(attr)) continue\n            property[attr] = lght.classes[className][attr]\n        }\n        this.kind = property.kind\n        this.parent = parent;\n        this.parent.shapes.push(this);\n        mergeDefaultPropertyObject\n        (property,lght.defaultShapeOptions,this);\n    }\n\n    kill (){\n        const index = this.parent.shapes.indexOf(this)\n        if(index<0) return\n        this.parent.shapes.splice(index,1);\n        this.parent.updateVisual()\n    }\n\n    get absoluteX(){\n        return this.x + this.parent.posX\n    }\n\n    get absoluteY(){\n        return this.y + this.parent.posY\n    }\n\n    get hasBorder(){\n        return this.border||this.borderOnly\n    }\n\n    get width(){\n        return (((this.hasBorder)?(this.w + this.borderWidth):this.w))*this.scaleX\n    }\n\n    get height(){\n        return ((this.hasBorder)?this.h + this.borderWidth:this.h)*this.scaleY\n    }\n\n    get outOfBound(){\n        let [minX,maxX,minY,maxY] = this.findMax();\n        let {width,height} = this.parent.parent.canvas;\n        return (minX > width || maxX < 0 || minY > height || maxY < 0) \n    }\n\n    findVertex(){\n        return []\n    }\n\n    findMax(){\n        const vertex = this.findVertex()\n        const xs = []\n        const ys = []\n\n        vertex.forEach(([x,y])=>{\n            xs.push(x); ys.push(y)\n        })\n\n        let offsetMinX = - this.borderWidthIfBorderIsOn \n        let offsetMaxX = this.borderWidthIfBorderIsOn \n        let offsetMinY = - this.borderWidthIfBorderIsOn \n        let offsetMaxY = this.borderWidthIfBorderIsOn \n\n        if(this.shadow){\n            let shadowOffsetMinX = -this.shadow.blur -2\n            let shadowOffsetMaxX = this.shadow.blur + 2\n            let shadowOffsetMinY = -this.shadow.blur -2\n            let shadowOffsetMaxY = this.shadow.blur +2\n            if(this.shadow.offsetX){\n                shadowOffsetMinX += this.shadow.offsetX\n                shadowOffsetMaxX += this.shadow.offsetX\n            }\n            if(this.shadow.offsetY){\n                shadowOffsetMinY += this.shadow.offsetY\n                shadowOffsetMaxY += this.shadow.offsetY\n            }\n            if(shadowOffsetMinX<0) offsetMinX += shadowOffsetMinX\n            if(shadowOffsetMaxX>0) offsetMaxX += shadowOffsetMaxX\n            if(shadowOffsetMinY<0) offsetMinY += shadowOffsetMinY\n            if(shadowOffsetMaxY>0) offsetMaxY += shadowOffsetMaxY\n        }\n\n        return [\n            Math.min(...xs) + offsetMinX,\n            Math.max(...xs) + offsetMaxX,\n            Math.min(...ys) + offsetMinY,\n            Math.max(...ys) + offsetMaxY\n        ]\n    }\n\n    get borderWidthIfBorderIsOn(){\n        if(this.border||this.borderOnly) return this.borderWidth\n        return 0\n    }\n\n    pointInShape(x,y){\n        let sides = this.findSides()\n        const [minX,maxX,minY,maxY] = this.findMax()\n        let distance = findDistance2Point(x,y,maxX,maxY)\n        let compareSide = [x,y,x+distance,y]\n        let intersect = 0\n        if(x>maxX||x<minX||y>maxY||y<minY) return false\n        sides.forEach(e=>{\n            if(findIntersection(e,compareSide)) intersect++\n        })\n        return !(intersect%2 === 0)\n    }\n\n    findSides(){\n        let vertex = this.findVertex()\n        let result = []\n        for(let i = 0;i<vertex.length;i++){\n            result.push([...vertex[i],...((vertex[i+1])?vertex[i+1]:vertex[0])])\n        }\n        return result\n    }\n\n    collide(shape){\n        if(shape.kind==='arc') return shape.collide(this)\n        let [maxX1,minX1,maxY1,minY1] = this.findMax()\n        let [maxX2,minX2,maxY2,minY2] = shape.findMax()\n        if (((minX1 < minX2) && (maxX1 > maxX2) && (minY1<minY2) && (maxY1>maxY2)) || ((minX2 < minX1) && (maxX2 > maxX1) && (minY2<minY1) && (maxY2>maxY1))) return true\n\n        let side1 = this.findSides()\n        let side2 = shape.findSides()\n\n        for (let s1 of side1){\n            for (let s2 of side2){\n                if(findIntersection(s1,s2)) return true\n            }\n        }\n        return false\n    }\n}\n\nlght.rect = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultRectOptions,this)\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.arc = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultArcOptions,this)\n    }\n\n    get radius(){\n        return (this.hasBorder)?this.rad + this.borderWidth : this.rad\n    }\n\n    get minAngle(){\n        return this.rotation\n    }\n\n    get maxAngle(){\n        return this.rotation + this.arcDegree\n    }\n\n    get minRadAngle(){\n        return degToRad(this.minAngle)\n    }\n\n    get maxRadAngle(){\n        return degToRad(this.maxAngle)\n    }\n\n    get pureCircle(){\n        return this.arcDegree===360\n    }\n\n    pointInShape(x,y){\n        var angle = findAngle2Point(this.absoluteX,this.absoluteY,x,y)\n        if (angle>this.minAngle && angle<this.maxAngle){\n            if(findDistance2Point(this.absoluteX,this.absoluteY,x,y)<=this.radius) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let result = [this.absoluteX-this.radius,this.absoluteX+this.radius,this.absoluteY-this.radius,this.absoluteY+this.radius]\n        let xs = [this.absoluteX,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius]\n        let ys = [this.absoluteY,this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        if(!this.pointInShape(result[0],this.absoluteY)) result[0] = Math.min(...xs) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(result[1],this.absoluteY)) result[1] = Math.max(...xs) + this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[2])) result[2] = Math.min(...ys) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[3])) result[3] = Math.max(...ys) + this.borderWidthIfBorderIsOn/2;\n        return result\n    }\n\n    findVertex(){\n        let [minX,maxX,minY,maxY] = this.findMax()\n        let referenceX = [this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteX+this.radius,this.absoluteX-this.radius,this.absoluteX]\n        let referenceY = [this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius,this.absoluteY+this.radius,this.absoluteY-this.radius,this.absoluteY]\n\n        return [\n            [minX,referenceY[referenceX.indexOf(minX)]],\n            [maxX,referenceY[referenceX.indexOf(maxX)]],\n            [referenceX[referenceY.indexOf(minY)],minY],\n            [referenceX[referenceY.indexOf(maxY)],maxY],\n        ]\n    }\n\n    fidnSides(){\n        if(this.arcDegree === 360) return false\n        return [\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.minRadAngle)*this.radius],\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        ]\n    }\n\n    collide(shape){\n        let vertex1 = this.findVertex()\n        let vertex2 = shape.findVertex()\n\n        for(let [x,y] of vertex1){\n            if(shape.pointInShape(x,y)) return true\n        }\n        for(let [x,y] of vertex2){\n            if(this.pointInShape(x,y)) return true\n        }\n        if(shape.kind==='arc'){                \n            //when checking for intersection between 2 arcs, there are 2 cases\n            //Case 1: they are both circles. In this case the distance between the 2 center have to be smaller or equal to\n            //sum of radius for them to intersect\n\n            if(this.pureCircle && shape.pureCircle){\n                return findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) <= this.radius + shape.radius\n            }\n\n            //Case 2: either of them are arcs\n            //In these cases, there are 2 scenarios\n            //Scenario 1: one of the vertexes will be inside the circle, this is easy to check\n            //Scenario 2: none of the vertex is inside the circle. There is only one possible explanation for this. In this case, check if \n            //the \"ray\" that connect the 2 center is inside both arcs, then check that the length of the ray is less than the length of both radius\n\n            if(findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) > this.radius + shape.radius) return false\n\n            let ray1 = findAngle2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY)\n            let ray2 = findAngle2Point(shape.absoluteX,shape.absoluteY,this.absoluteX,this.absoluteY)\n            return ((ray1<this.maxAngle&&ray1>this.minAngle)&&(ray2<shape.maxAngle&&ray2>shape.minAngle))\n        }\n        else{\n            let side = shape.findSides()\n\n            for(let s of side){\n                let closest = findClosestPoint(this.absoluteX,this.absoluteY,s)\n                if(closest){\n                    if (this.pointInShape(closest[0],closest[1])) return true\n                }\n            }\n            return false\n        }\n    }\n}\n\nlght.roundedRectangle = class extends lght.rect{\n    constructor(property,parent){\n        super(property,parent)\n        this.borderRadius = (property.borderRadius) || 0\n        if(this.clip){\n            if(property.clipCanvas){\n                this.clipImage = property.clipCanvas;\n                this.clipCanvas=true\n            }\n            else{\n                this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                    this.parent.updateVisual()\n                })\n            }\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        if(this.clipCanvas) return true\n        return this.clipImage.complete\n    }\n\n    changeClipImage(imageUrl){\n        this.clipImage = lght.sprite(imageUrl,()=>{\n            this.parent.updateVisual()\n        })\n    }\n}\n\nlght.poly = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultPolyOptions,this)\n        if(this.clip){\n            this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                this.parent.updateVisual()\n            })\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        return this.clipImage.complete\n    }\n\n    get polyPoints(){\n        if(!this.specialPolygon) return this.points\n        const radiusCoefficient = 360/this.numberOfSide\n        const result = []\n        for(let i = 0;i<this.numberOfSide;i++){\n            result.push(calculateRotatePoint(0,0,radiusCoefficient*i,this.radius))\n        }\n        return result\n    }  \n\n    get width(){\n        return this.findMax()[1] - this.findMax()[0]\n    }\n\n    get height(){\n        return this.findMax()[3] - this.findMax()[2]\n    }\n\n    get sideLength(){\n        if(!this.specialPolygon) return null\n        const radiusCoefficient = degToRad(360/this.numberOfSide)\n        return Math.sqrt(2*Math.pow(this.radius,2) - 2*Math.pow(this.radius,2)*Math.cos(radiusCoefficient))\n    }\n\n    findVertex(){\n        return this.polyPoints.map(([x,y])=>rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation))\n    }\n}\n\nlght.line = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultLineOptions,this)\n    }\n\n    get rotatedPoints(){\n        return this.points.map(([x,y])=>(rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation)))\n    }\n\n    findVertex(){\n        const result = []\n        const notIncluded = ([x,y]) => {\n            for (const position of result) {\n                const [x2,y2] = position\n                if(~~ (x + 0.5)===~~ (x2+ 0.5) && ~~ (y + 0.5)===~~ (y2+0.5)) return false\n            }\n            return true\n        }\n        const point = [...this.rotatedPoints]\n        point.forEach(([x1,y1],index)=>{\n            if (index===point.length-1) return\n            const [x2,y2] = this.rotatedPoints[index+1]\n            const distance = findDistance2Point(x1,y1,x2,y2)\n            const tan = Math.atan((this.lineWidth/2)/distance)\n            const angle = findAngle2Point(x1,y1,x2,y2)\n            const angleQuadrant = radToDeg(tan)+angle\n            const firstDistance = Math.sqrt(distance*distance + (0.5*this.lineWidth)*(0.5*this.lineWidth))\n            const pointOneInFirstQuadrant = calculateRotatePoint(x1,y1,angleQuadrant,firstDistance)\n            const pointSecondInSecondQuadrant = calculateRotatePoint(...pointOneInFirstQuadrant,180+angle,distance)\n            const pointThreeInThirdQuadrant = calculateRotatePoint(...pointSecondInSecondQuadrant,270+angle,distance)\n            const pointFourInFourthQuadrant = calculateRotatePoint(...pointThreeInThirdQuadrant,angle,distance)\n            if(notIncluded(pointFourInFourthQuadrant)) result.push(pointFourInFourthQuadrant)\n            if(notIncluded(pointOneInFirstQuadrant)) result.push(pointOneInFirstQuadrant)\n            if(notIncluded(pointSecondInSecondQuadrant)) result.push(pointSecondInSecondQuadrant)\n            if(notIncluded(pointThreeInThirdQuadrant)) result.push(pointThreeInThirdQuadrant)\n        })\n        return result\n    }\n}\n\nlght.text = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultTextOptions,this)\n        if(property.font) this.fontBackwardCompatibility = property.font\n    }\n    \n    get font(){\n        return this.fontBackwardCompatibility || `${this.fontSize}px ${this.fontFamily}`\n    }\n\n    get textSize(){\n        var c = lght.apps[0].context;\n        c.save();\n        c.font = this.font;\n        var width = c.measureText(this.text).width;\n        var height = c.measureText('gM').width;\n        c.restore();\n        return [width,height];\n    }\n\n    get w(){\n        return this.textSize[0] + this.borderWidthIfBorderIsOn\n    }\n\n    get h(){\n        return this.textSize[1] + this.borderWidthIfBorderIsOn\n    }\n\n    findVertex(){\n        let reference\n        let coefficient = 1\n        if(this.textAlign === 'center') reference = [[1,-1],[-1,-1],[-1,0.8],[1,0.8]]\n        else{\n            if(this.textAlign === 'right') coefficient = -1\n            reference = [[2,-1],[0,-1],[0,0.8],[2,0.8]].map(e=>[e[0]*coefficient,e[1]])\n        }\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.img = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultImgOptions,this)\n        this.sprite = lght.sprite(this.spriteLink,()=>{\n            if(this.loadedFunction) this.loadedFunction()\n            this.parent.updateVisual()\n        })\n    }\n\n    get imageLoaded(){\n        return this.sprite.complete\n    }\n\n    get w(){\n        if(this.drawWidth) return this.drawWidth\n        if(this.imageLoaded){\n            if(this.drawHeight) return (this.drawHeight*this.sprite.width)/this.sprite.height\n            return this.sprite.width\n        }\n        return 0\n    }\n\n    get h(){\n        if(this.drawHeight) return this.drawHeight\n        if(this.imageLoaded){\n            if(this.drawWidth) return (this.drawWidth*this.sprite.height)/this.sprite.width\n            return this.sprite.height\n        }\n        return 0 \n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\n//Input\n //<--------------KEYBOARD INPUT GO HERE------------------->\n lght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n    return this\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\nlght.app.prototype.startCursor = function(){\n    this.canvas.style.cursor = 'pointer'\n}\n\nlght.app.prototype.endCursor = function(){\n    this.canvas.style.cursor = 'default'\n}\n\nlght.object.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.startCursor(),()=>this.parent.endCursor())\n}\n\nlght.shape.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.parent.startCursor(),()=>this.parent.parent.endCursor())\n}\n\nlght.app.prototype.attachEvent = function(event,func){\n    const mobile = window.mobileCheck()\n    let trueEvent = event\n    if(mobile){\n        switch(trueEvent){\n            case 'mousedown':\n                trueEvent = 'touchstart'\n                break\n            case 'mouseup':\n                trueEvent='touchend'\n                break\n            case 'mousemove':\n                trueEvent='touchmove'\n                break\n            default:\n                break;\n        }\n    }\n    this.addEventListener(trueEvent,(e)=>{\n        if(this.killed) return \n        if(window.mobileCheck()){\n            Array.from(e.changedTouches).forEach(touch=>{\n                const [x,y] = this.translateMouseCoor(touch)\n                func(x,y)\n            })\n            return\n        }\n        const [x,y] = this.translateMouseCoor(e)\n        func(x,y)\n    })\n}\n\nlght.app.prototype.mouseInputInit = function(){\n    const handleCoor = (x,y,event)=>{\n        if(this.objects.length === 0) return\n        for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj[event].length === 0) continue\n            if(!obj.display) continue\n\n            if(obj.pointInObject(x,y)){\n                for(let func of obj[event])( func(x,y))\n                break;\n            }\n        }\n        LargeLoop:for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj.shapes.length === 0) continue\n            if(!obj.display) continue\n            for(let a = obj.shapes.length;a--;a>=0){\n                const shape = obj.shapes[a]\n                if(shape[event].length === 0) continue\n                if(!shape.display) continue\n                if(shape.pointInShape(x,y)){\n                    for(let func of shape[event]){func(x,y)}\n                    break LargeLoop;\n                }\n            }\n        }\n    }\n\n    this.attachEvent('mouseup',(x,y)=>handleCoor(x,y,'mouseUpEvent'))\n    this.attachEvent('mousemove',(x,y)=>handleCoor(x,y,'mouseMoveEvent'))\n    this.attachEvent('mousedown',(x,y)=>handleCoor(x,y,'mouseDownEvent'))\n}\n\n//PRESS EVENT FOR AN APP\nlght.object.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n    return this\n}\n\n//MAKE AN OBJECT DRAGGABLE\nlght.object.prototype.makeDraggable = function (func,funcDone) {\n    this.enterCursorEvent()\n    this.onDrag = false; var obj = this; this.draggable = true;\n    var rx = 0; var ry = 0; \n\n    this.mouseDownEvent.push((x,y)=>{\n        if(obj.draggable){\n            if(!obj.onDrag){\n                obj.onDrag = true;\n                rx = x - obj.posX; ry = y - obj.posY;\n            }\n        }\n    })\n\n    this.parent.attachEvent('mousemove', (...c) => {\n        if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height) obj.onDrag = false\n        if(obj.onDrag){\n            this.changePosition(c[0] - rx,c[1] - ry)\n            if(typeof func == 'function') func(obj);\n        }\n    })\n\n    this.parent.attachEvent('mouseup', (e) => {\n        if(obj.onDrag){\n            obj.onDrag = false;\n            if(funcDone) funcDone()\n        }\n    })\n    return this\n}\n\n//HOVER EVENT\nlght.object.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        this.parent.attachEvent('mousemove', (...c)=>{\n            if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                return;\n            }\n            var touch = obj.pointInObject(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n            }\n        })\n    }\n    return this\n}\n\n//INPUT FOR SHAPES\nlght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n    return this\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\n//PRESS EVENT FOR AN APP\nlght.shape.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n    return this\n}\n\n//HOVER EVENT\nlght.shape.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        this.parent.parent.attachEvent('mousemove', (...c)=>{\n            if(!this.display) return\n            if(c[0] < 0 || c[0] >this.parent.parent.canvas.width || c[1] < 0 || c[1] > this.parent.parent.canvas.height){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n                return;\n            }\n            var touch = obj.pointInShape(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.parent.updateVisual()\n            }\n        })\n    }\n    return this\n}\n\n//Animation\nlght.app.prototype.animate = function() {\n    if(lght.frameTime !== undefined && lght.lastFrame !== undefined){\n        let timeDifference = lght.frameTime - lght.lastFrame\n        this.objects.forEach(e => {\n            e.animate(timeDifference);\n            e.shapes.forEach(a => {\n                a.animate(timeDifference)\n            })\n        });\n    }\n}\n\nconst addAnimation = function(property,value,time,func){\n    this.animationCount++;\n    let id = this.animationCount;\n\n    let timeout = setTimeout(()=>{\n        changeByDotNotation(property,this,value)\n        this.cancelAnimation(id)\n        if(this.parent.static !== undefined) this.parent.static = true\n        else this.static = true\n        if(this.updateVisual) this.updateVisual()\n        else this.parent.updateVisual()\n        if(func) func();\n    },time)\n\n    const alreadyAnimated = this.animations.find((animation)=>animation[0] === property)\n    if(alreadyAnimated){\n        this.cancelAnimation(alreadyAnimated[6])\n    }\n    if(this.parent.static !== undefined) this.parent.static = false\n    else this.static = false\n    this.animations.push([property,value,getByDotNotation(property,this),time,timeout,func,id]);\n    return this;\n}\n\nconst awaitAnimation = function(property,value,time){\n    return new Promise(r=>this.addAnimation(property,value,time,r))\n}\n\nconst cancelAnimation = function(){\n    for(let id of [...arguments]){\n        let animation = this.animations.find(e=>e[6] === id)\n        let index = this.animations.findIndex(e=>e[6]===id)\n        if(!animation) return false\n        clearTimeout(animation[4])\n        this.animations.splice(index,1)\n    }\n}\n\nconst animate = function (time){\n    let obj = this\n    this.animations.forEach(animation=>{\n        let [property,value,init,timeUp] = animation\n        let newValue = getByDotNotation(property,obj) + (time/timeUp)*(value-init)\n        if(init < value && newValue > value) newValue = value\n        if(init>value && newValue < value) newValue = value\n        changeByDotNotation(property,obj,newValue)\n    })\n}\n\nconst fadeIn = function(time){return new Promise(r=>this.addAnimation('opacity',1,time,r))}\nconst fadeOut = function(time){return new Promise(r=>this.addAnimation('opacity',0,time,r))}\n\nlght.animateFunctionReference = {\n    animate,\n    addAnimation,\n    cancelAnimation,\n    fadeIn,\n    fadeOut\n}\n\nfor(var prop in lght.animateFunctionReference){\n    lght.object.prototype[prop] = lght.animateFunctionReference[prop];\n    lght.shape.prototype[prop] = lght.animateFunctionReference[prop];\n}\n\n//Draw\nlght.app.prototype.render = function(){\n    this.clearCanvas();\n    this.fillBackground();\n    this.renderShape();\n}\n\nlght.app.prototype.visualInit = function(){\n    this.backgroundColor = this.options.background;\n    this.context = this.canvas.getContext(\"2d\");\n}\n\nlght.app.prototype.renderShape = function(){\n    this.renderPositions();\n\n    this.objects.sort((a,b)=>a.zIndex -b.zIndex).forEach(obj=>{\n        obj.draw();\n    })\n}\n\n//<-------------------BASIC CANVAS STUFF---------------------->\n//CLEARING CANVAS AND BACKGROUND COLOR\nlght.app.prototype.clearCanvas = function(){\n    this.context.save(); \n    this.context.clearRect(0,0,this.canvas.width,this.canvas.height); \n    this.context.restore();\n}\n\nlght.app.prototype.fillBackground = function(){\n    if(this.backgroundColor!=='none'){\n        this.context.save(); \n        this.context.fillStyle = this.backgroundColor;\n        this.context.fillRect(0,0,this.canvas.width,this.canvas.height);\n        this.context.restore();\n    }\n}\n\n/*POSITION INDICATOR FUNCTIONS GO HERE\nDraw all position indicators at once to save performance from context state change*/\nlght.app.prototype.renderPositions = function(){\n    this.context.save();\n    this.context.fillStyle = 'red';\n\n    this.objects.forEach(({posX,posY,positionIndicator}) => {\n        if(!positionIndicator) return\n        this.context.beginPath()\n        this.context.arc(posX,posY,5,0,2*Math.PI)\n        this.context.closePath()\n        this.context.fill()\n    });\n    \n    this.context.restore();\n}\n\n\n/* SHAPE PRERENDERING FUNCTIONS GO HERE\nShape prerendering prerender shapes on canvases to save performance*/\n\nlght.object.prototype.updateVisual = function(){\n    //If the dimension changes a new canvas have to be created\n    var max = this.findMax();\n    for(var i = 0;i<max.length;i++){\n        if(~~ (max[i] + 0.5)!== ~~ (this.preloader.maxes[i] + 0.5)){\n            this.createPreloader(); return;\n        }\n    }\n\n    this.clearPreloader();\n\n    this.shapes.forEach(s=>{\n        let x = this.preloader.ox + s.x\n        let y = this.preloader.oy + s.y\n        lght.drawShape(this.preloader.context,x,y,s,)\n    })\n    if(!this.parent.options.constantRender) this.parent.turnFunctions(this.parent)\n}\n\nlght.object.prototype.clearPreloader = function(){\n    this.preloader.context.clearRect(0,0,this.preloader.width,this.preloader.height);\n}\n\nlght.object.prototype.createPreloader = function(){\n    this.preloader = document.createElement('canvas');\n    \n    this.preloader.maxes = this.findMax();\n    let [minX,maxX,minY,maxY] = this.preloader.maxes\n\n    this.preloader.width = maxX-minX;\n    this.preloader.height = maxY-minY;\n\n    this.preloader.ox = this.posX - minX;\n    this.preloader.oy = this.posY - minY;\n\n    this.preloader.context = this.preloader.getContext('2d');\n\n    this.updateVisual();\n}\n\nlght.object.prototype.drawPreloader = function(){\n    if(!this.display) return\n    if(this.preloader.width >0 && this.preloader.height > 0){\n        let x = this.preloader.maxes[0] + this.preloader.width/2;\n        let y = this.preloader.maxes[2] + this.preloader.height/2;\n        x = ~~(x+0.5); y = ~~(y+0.5);\n\n        this.parent.context.save()\n        this.parent.context.translate(x,y)\n        lght.drawImg(this.parent.context,this.preloader,this.preloader.width,this.preloader.height);\n        this.parent.context.restore()\n    }\n}\n\n\n//<------------------SHAPE DRAWING FUNCTION---------------->\nlght.object.prototype.draw = function(){\n    if(!this.display) return\n    if(this.static) return this.drawPreloader()\n    this.shapes.forEach(s=>{\n        lght.drawShape(this.parent.context,this.posX+s.x,this.posY+s.y,s)\n    })\n}\n\n//MASTER FUNCTION\nlght.drawShape = function(c,x,y,shape){\n    x = ~~(x+0.5)\n    y = ~~(y+0.5)\n    if(!shape.display) return\n    if(shape.border || shape.borderOnly) this.drawShapeKind(c,shape,x,y,true,1,shape.borderColor,shape.shadow);\n    else if(!shape.borderOnly && !shape.border) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color,shape.shadow);\n    if(!shape.borderOnly) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color);\n}\n\nlght.drawShapeKind = function(c,s,x,y,stroke,opacity,color,shadow){\n    opacity = opacity * s.parent.opacity;\n    if(opacity == 0 || opacity <0 ) return\n\n    c.save()\n    c.globalAlpha = opacity\n    c.fillStyle = color\n    c.strokeStyle = color\n    c.lineWidth = s.borderWidth\n    c.translate(x,y)\n    c.scale(s.scaleX,s.scaleY)\n\n    if(shadow){\n        const {color,blur,offsetX,offsetY} = shadow\n        c.shadowColor = color\n        c.shadowBlur = blur\n        c.shadowOffsetX = offsetX\n        c.shadowOffsetY = offsetY\n    }\n\n    switch(s.kind){\n        case 'rect':\n            lght.drawRect(c, s.w, s.h, s.rotation, stroke); break;\n        case 'arc':\n            lght.drawArc(c, s.rad,s.arcDegree,s.rotation, stroke); break;\n        case 'text':\n            lght.drawText(c, s.text,s.font, stroke,s.textAlign ,s.w, s.h,s.rotation); break;\n        case 'img':\n            if(s.imageLoaded) lght.drawImg(c, s.sprite,s.w,s.h,s.rotation); break;\n        case 'poly':\n            lght.drawPoly(c, s.polyPoints,s.rotation, stroke); break;\n        case 'line':\n            if(stroke){\n                const points = s.points.map(((position,index)=>{\n                    const [x,y] = position\n                    if(index === 0){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index+1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else if(index === s.points.length-1){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index-1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else return [x,y]\n                }))\n                lght.drawLine(c,points,s.rotation,s.lineWidth+s.borderWidth);\n            }\n            else lght.drawLine(c,s.points,s.rotation,s.lineWidth); break;\n        case 'roundedRectangle':\n            lght.drawRoundedRectangle(c,s.w,s.h,s.rotation,s.borderRadius,stroke)\n            break\n        default:\n            break\n    }\n    if(s.clip && s.clipImageLoaded){\n        c.clip()\n        c.rotate(degToRad(s.rotation))\n        if(typeof s.clipSpriteSheetX === 'number' && typeof s.clipSpriteSheetY === 'number'){\n            const spriteWidth = s.clipImage.width / s.spriteLengthX\n            const spriteHeight = s.clipImage.height / s.spriteLengthY\n            const clipStartX = s.clipSpriteSheetX * spriteWidth\n            const clipStartY = s.clipSpriteSheetY * spriteHeight\n            c.drawImage(s.clipImage,clipStartX,clipStartY,spriteWidth,spriteHeight,(-s.width/2)/s.scaleX,(-s.height/2)/s.scaleY,s.width/s.scaleX,s.height/s.scaleY)\n        }\n        else c.drawImage(s.clipImage,(-s.width/2)/ s.scaleX,(-s.height/2)/ s.scaleY,s.width / s.scaleX,s.height / s.scaleY)\n    }\n\n    c.restore()\n}\n\n//DRAWING RECTANGLE\nlght.drawRect = function(c,w,h,rotation,stroke){\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.strokeRect(-w/2,-h/2,w,h);\n    else c.fillRect(-w/2,-h/2,w,h);\n}\n\nlght.drawRoundedRectangle = (c,w,h,rotation,borderRadius,stroke)=>{\n    c.rotate(degToRad(360,rotation))\n    c.beginPath()\n    c.moveTo(0,-h*0.5)\n    c.lineTo(-w*0.5+borderRadius,-h*0.5)\n    c.quadraticCurveTo(-w*0.5,-h*0.5,-w*0.5,-h*0.5+borderRadius)\n    c.lineTo(-w*0.5,h*0.5-borderRadius)\n    c.quadraticCurveTo(-w*0.5,h*0.5,-w*0.5+borderRadius,h*0.5)\n    c.lineTo(w*0.5-borderRadius,h*0.5)\n    c.quadraticCurveTo(w*0.5,h*0.5,w*0.5,h*0.5-borderRadius)\n    c.lineTo(w*0.5,-h*0.5+borderRadius)\n    c.quadraticCurveTo(w*0.5,-h*0.5,w*0.5-borderRadius,-h*0.5)\n    c.lineTo(0,-h*0.5)\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\n//DRAWING CIRCLES\nlght.drawArc = function(c,rad,arcDegree,rotation,stroke){\n    c.beginPath();\n\n    const br = degToRad(360 - rotation - arcDegree);\n    const er = degToRad(360 - rotation);\n\n    if(arcDegree < 360){\n        const [x,y] = rotatePoint(0,0,rad,0,360-rotation-arcDegree);\n        c.moveTo(x,y); c.moveTo(0,0);\n    }\n\n    c.arc(0,0,rad,br,er);\n\n    if(stroke) c.stroke();\n    else c.fill();\n    c.closePath();\n\n}\n\n//DRAWING TEXT\n\nlght.drawText = function(c,text,font,stroke,textAlign,width,height,rotation){\n    c.font = font;\n    c.rotate(degToRad(360-rotation))\n    let x\n    if(textAlign === 'center') x = ~~(-width/2 +  0.5)\n    else if(textAlign==='left') x = 0\n    else x=~~(-width + 0.5)\n    if(stroke) c.strokeText(text,x,~~(height/3.5 + 0.5));\n    else c.fillText(text,x,~~(height/3.5 + 0.5))\n}\n\n//DRAWING IMAGES\nlght.drawImg = function(c,sprite,w,h,rotation){\n    c.rotate(degToRad(360-rotation));\n    c.drawImage(sprite,-w/2,-h/2,w,h);\n}\n\nlght.drawPoly = (c,points,rotation,stroke) => {\n    if(points.length === 0 || !points) return \n    c.rotate(degToRad(360-rotation))\n    c.beginPath()\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\nlght.drawLine = (c,points,rotation,lineWidth)=>{\n    c.beginPath()\n    c.rotate(degToRad(360-rotation))\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.lineWidth = lineWidth\n    c.stroke()\n}\n\nlght.object.prototype.addShape = function (property) {\n    let shape = new lght[property.kind](property,this);\n    this.updateVisual()\n    return shape\n}\n\nlght.object.prototype.addComponent = function(name,property){\n    let shape = lght.component.addComponent(name,property,this)\n    this.updateVisual()\n    return shape\n}\n\nlght.app.prototype.addObject = function (property) {\n    return new lght.object(property,this);\n}\n\nlght.app.prototype.getObject = function(name){\n    return this.objects.find(e=>e.name===name)\n}\n\nlght.app.prototype.addStorage = function (property){\n    return new lght.storage(property,this)\n}\n\nlght.app.prototype.addAdvanceStorage = function(property){\n    return new lght.advanceStorage(property,this)\n}\n\nlght.app.prototype.removeObject = function (obj) {\n    this.objects.splice(this.objects.indexOf(obj),1);\n}\n\nexport default lght","import lght from './lght/lght'\nlet initiated = false\nconst init = ()=>{\n      if(initiated) return\n      initiated= true\n      let pd = 2\n      lght.addClass('shadow',{shadow:{color:'black',offsetX:3,offsetY:-3,blur:7}})\n      lght.addComponent({name:'Card',kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n      lght.addComponent({kind:'text',color:'black',fontFamily:'Arial Bold',name:'text'})\n      lght.addComponent({name:'textBackground',kind:'roundedRectangle',color:'#ffffed',border:true,borderWidth:10,borderColor:'black',borderRadius:20,class:'shadow'})\n      lght.addComponent({name:'turnIndicator',kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:10*pd,})\n      lght.addComponent({name:'handCard',kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*1.2*pd,h:145.5*1.2*pd,clip:true,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n      lght.addComponent({name:'deckCard',kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'})\n}\n\nexport default init","import lght from './lght/lght'\nimport init from './viewInit'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst webView = class{\n  constructor(ref,ref2,ref3){\n    init()\n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    const processApp = (ref,option)=>{\n      const app = new lght.app(ref,option)\n      app.pixelDensity = pd\n      app.canvas.width = 850*pd\n      app.canvas.height = 650*pd\n      app.backgroundColor='none'\n      return app\n    }\n    this.app = processApp(ref)\n    this.staticApp = processApp(ref2,{constantRender:false})\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/wood.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.yRow = 0.4*this.app.canvas.height\n\n    this.positionReference = {\n      leaderBoard:[0.85*this.app.canvas.width,this.yRow],\n      drawDeck:[0.38*this.app.canvas.width,this.yRow],\n      playDeck:[0.62*this.app.canvas.width,this.yRow],\n      actionPanel:[0.15*this.app.canvas.width,this.yRow],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',...this.positionReference.drawDeck)\n    this.drawDeck.name = 'drawDeck'\n    this.drawDeck.addComponent('text',{text:'Draw Here',y:85*pd,fontSize:35})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      drawable = false\n      resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n      drawable = true\n      resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawEmote()\n    this.drawEndGame()\n    this.drawSoundIcon()\n    this.initAnimation()\n  }\n\n  initiateWithGameMode(gameMode){\n    this.drawAddBot(gameMode)\n  }\n\n  createPlayDeck(currentTopCard){\n    this.playDeck = this.createDeck(currentTopCard,...this.positionReference.playDeck)\n    this.playDeck.name = 'playDeck'\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:800*pd,y:50*pd,name:'sound'})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addComponent('textBackground',{w:700,h:200})\n    const text = endGame.addComponent('text',{text:'Someone had won the game!',fontSize:40,y:-10})\n    let resolveFunction = ()=>{}\n    const pointText = endGame.addComponent('text',{text:'',fontSize:20,y:40,color:'grey'})\n    const restartText = endGame.addShape({kind:'text',text:'New Game',font:'30px Arial Bold',color:'blue',y:70})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    }).pressedEvent(()=>resolveFunction())\n\n    this.activateEndGame = (name,func,point)=>{\n      text.text = ` ${name} had won the game! `\n      if(point) pointText.text = `You had gained ${point} points!`\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(gameMode){\n    const tutorial = this.app.addAdvanceStorage({display:false,alignX:true,alignDirectionX:'center',alignY:true,alignDirectionY:'center',alignMarginX:0,alignMarginY:-50*pd,zIndex:100000,direction:'column',spacing:5,paddingTop:10*pd,paddingBottom:10*pd,paddingLeft:10*pd,paddingRight:10*pd})\n    tutorial.backgroundFunction = ()=>tutorial.addComponent('textBackground',{})\n    const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    x.pressedEvent(()=>tutorial.display = false)\n    tutorial.model = [\n      ' Welcome to One Online! ',\n      'Some quick pointers:',\n      ' Use \"Copy Link\" from the left to automatically',\n      'get a link you can send to your friends!',\n      ' You can start the game when at least 2 players ',\n      '(including bots) are present. The panel on the left',\n      'show you who is in the game.',\n      ' You can use the emote panel below to piss', \n      'off your friends when playing.',\n      \" And that is it! If you have any feedback\",\n      \"please  me at vietlongali@gmail.com\",\n      \"Have fun!\",\n      \"Love this app? Buy me a beer on \",\n      'Venmo @LongTran123'\n    ]\n    tutorial.elementFunction = (content)=>{\n      const shape = tutorial.addComponent('text',{fontSize:30,text:content,textAlign:'left'})\n      shape.x = -340\n      return shape\n    }\n    tutorial.updateToModel()\n    this.showTutorial = (gameMode==='Casual')?()=>tutorial.display = true:()=>{}\n  }\n\n  drawAddBot(gameMode){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 120*pd})\n    const text = addBot.addShape({kind:'text',font:'35px Arial Bold',text:'Add Bot ',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    }).pressedEvent(()=>resolveFunction())\n    this.startAddBot = (gameMode==='Competitive Player')?(()=>{}):((func)=>{\n      resolveFunction = func\n      addBot.display = true\n    })\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    const emoteChooser = this.app.addStorage({x:250*pd,y:470*pd,spacing:-15,zIndex:-1})\n    emoteChooser.addComponent('textBackground',{color:'white',w:370*pd,h:40*pd})\n    emoteChooser.model = ['Emote:','','','','','','']\n    emoteChooser.elementFunction = (content,index)=>{\n      if(!index) return emoteChooser.addShape({kind:'text',text:content,fontSize:35,fontFamily:'Arial Bold'})\n      const shape = emoteChooser.addShape({kind:'text',text:content,fontSize:30,fontFamily:'Arial Bold'})\n      shape.hoverEvent(()=>{\n        shape.fontSize = 50;\n        emoteChooser.updateVisual()\n      },()=>{\n        shape.fontSize = 30;\n        emoteChooser.updateVisual()\n      }).pressedEvent(()=>func(content))\n      return shape\n    }\n    emoteChooser.updateToModel()\n  }\n\n  drawEmote(){\n    const emoteText = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 170*pd,zIndex:1000})\n    const text = emoteText.addShape({kind:'text',text:\"Someone emote something\",font:'60px Arial Bold',color:'green'})\n    emoteText.addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:100,display:false})\n    let timeInterval = null\n    \n    this.emote = (name,color,emoji)=>{\n      clearInterval(timeInterval)\n      text.text = `${name} emote ${emoji}`\n      text.color = color\n      emoteText.updateVisual()\n      emoteText.display = true\n      text.opacity = 0\n      text.addAnimation('opacity',1,100,()=>{timeInterval = setTimeout(()=>{\n        text.addAnimation('opacity',0,100,()=>{\n          emoteText.display = false\n        })\n        },1000)\n      })\n    }\n  }\n\n  initAnimation(){\n    this.animationQueue = []\n    this.animationCallback = []\n    let animating = false\n    this.updateAnimation = async ()=>{\n      if(animating) return\n      if(!this.animationQueue.length) return\n      animating = true\n      const [playordraw,px,py,ec] = this.animationQueue.splice(0,1)[0]\n      const firstFunc = this.animationCallback.splice(0,1)[0]\n      //Animation: 0:play/draw 1: positionX, 2: positionY, 3: extra content\n      if(playordraw==='play'){\n        await this.animatePlay(ec,px,py)\n        animating = false\n        firstFunc()\n        this.updateAnimation()\n      }\n      else{\n        await this.animateDraw(px,py)\n        animating = false\n        firstFunc()\n        this.updateAnimation()\n      }\n    }\n    this.addToAnimationQueue = (queue,func)=>{\n      this.animationQueue.push(queue)\n      this.animationCallback.push(func)\n      this.updateAnimation()\n    }\n  }\n\n  animatePlayerPlay = (content)=>new Promise(r=>this.addToAnimationQueue(['play',...this.positionReference.playerDeck,content],r))\n  animatePlayerDraw = ()=>new Promise(r=>this.addToAnimationQueue(['draw',...this.positionReference.playerDeck],r))\n  animateLeaderboardDraw = ()=>new Promise(r=>this.addToAnimationQueue(['draw',...this.positionReference.leaderBoard],r))\n  animateLeaderboardPlay = (content)=> new Promise(r=>this.addToAnimationQueue(['play',...this.positionReference.leaderBoard,content],r))\n\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    specialInfo.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:50*pd})\n    const text = specialInfo.addShape({kind:'text',font:'40px Arial Bold',text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    }).addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n      .addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction,gameMode){\n    const actionalPanel = this.app.addStorage({x:this.positionReference.actionPanel[0],y:this.positionReference.actionPanel[1],name:'actionPanel',spacing:20,direction:'column'})\n    actionalPanel.addComponent('textBackground',{w:120*pd,h:150*pd})\n    actionalPanel.addComponent('text',{fontSize:32,text:\"Actions:\",y:-60*pd})\n    if(gameMode === 'Casual') actionalPanel.model = ['Copy Link','Leave Game','Restart Game']\n    else actionalPanel.model = ['Leave Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addComponent('text',{fontSize:30,text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      }).pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.staticApp.addStorage({x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1],spacing:30,direction:'column',name:'leaderBoard'})\n    leaderBoard.addComponent('textBackground',{w:150*pd,h:200*pd})\n    leaderBoard.addComponent('text',{fontSize:32,text:'Turn Board:',y:-80*pd})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addComponent('turnIndicator',{x:85*pd,rotation:180})\n    let color = ['green','red','darkyellow','blue']\n    leaderBoard.elementFunction = (name,i)=> leaderBoard.addComponent('text',{fontSize:30,color:color[i],text:name})\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn+2]\n      turnIndicator.x = absoluteX + 10*pd\n      turnIndicator.addAnimation('y',absoluteY,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n    let cardElement = []\n    this.updateLeaderboard = (players,cardsAmount,pointAmount)=>{\n          cardElement.forEach(e=>e.kill())\n          cardElement = []\n          leaderBoard.model = players\n          leaderBoard.updateToModel()\n          leaderBoard.storageShapes.forEach((e,i)=>{\n            const {x,y} = e\n            cardElement.push(leaderBoard.addComponent('text',{text:`Cards: ${cardsAmount[i]} ${(typeof pointAmount[i]==='number')?\"Point: \"+pointAmount[i]:''}`,x,y:y+30,color:'grey',fontSize:20}))\n          })\n          this.staticApp.turnFunctions(this.staticApp)\n    }\n  }\n\n  createHand(){\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.app.addStorage({name:'Hand',spacing:-70*pd,y:this.app.canvas.height-(handHeight/2),x:'50%'})\n    playerHand.addShape({kind:'rect',color:'brown',w:this.app.canvas.width,h:handHeight})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addComponent('handCard',{borderOnly:true,y:30,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,clipImageLink:spriteLink})\n      shape.hoverEvent(()=>{\n        if(verifyFunction(content) && onSelect) shape.borderColor = 'yellow'\n        shape.borderWidth = 5*pd\n        shape.addAnimation('y',-100,200)\n      },()=>{\n        shape.borderColor = 'black'\n        shape.borderWidth = 1.25*pd\n        shape.addAnimation('y',30,200)\n      })\n      .pressedEvent(()=>{\n            if(!verifyFunction(content) || !onSelect) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deck = this.staticApp.addObject({x,y})\n    deck.addComponent('deckCard',{x:6*pd,y:-5*pd})\n    deck.addComponent('deckCard',{x:4*pd,y:-3.75*pd})\n    deck.addComponent('deckCard',{x:3*pd,y:-2.5*pd})\n    deck.addComponent('deckCard',{x:1.5*pd,y:-1.25*pd})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:'50%',y:'50%',display:false})\n    if(back){\n      card.addComponent('Card',{clipImageLink:'assets/back.svg'})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addComponent('Card',{clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,clip:true,clipImageLink:spriteLink})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.svg')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({name:'Color Chooser',display:false,zIndex:1000,x:'50%',y:this.app.canvas.height/2 - 50*pd,model:colors,spacing:25,direction:'column'})\n    colorChooser.addComponent('textBackground',{w:200*pd,h:200*pd})\n    colorChooser.addComponent('text',{fontSize:35,text:'Choose a color:',y:-85*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addComponent('text',{color:textColor[i],fontSize:30,text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        colorChooser.updateVisual()\n      },()=>{\n        shape.color = textColor[i]\n        colorChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:'50%',y:50*pd,name:'Announcement'})\n      this.annoucementText = this.announcement.addComponent('text',{fontSize:70,text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else return\n      }\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000,name:'One'})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/polygon.svg',scaleX:0,scaleY:0,drawWidth:500})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:'50%',y:this.app.canvas.height-100*pd,display:false})\n      const text = startGameObject.addComponent('text',{text:'Start Game',fontSize:50})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default webView","import lght from './lght/lght'\nimport init from './viewInit'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst mobileView = class{\n  constructor(ref,ref2,ref3){\n    init()\n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    const configureCanvas = (ref,option={})=>{\n      const app = new lght.app(ref,option)\n      app.backgroundColor='none'\n      app.pixelDensity = pd\n      return app\n    }\n    this.app = configureCanvas(ref)\n    this.staticApp = configureCanvas(ref2,{constantRender:false})\n    this.cardApp = configureCanvas(ref3)\n    var clientWidth = function () {  return Math.max(window.innerWidth);};\n    var clientHeight = function () {  return Math.max(window.innerHeight);};\n    this.app.canvas.width = clientWidth()*pd\n    this.app.canvas.height = clientHeight()*pd\n    this.staticApp.canvas.width = clientWidth()*pd\n    this.staticApp.canvas.height = clientHeight()*pd\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/woodMobile.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.positionReference = {\n      leaderBoard:[this.app.canvas.width/2,75],\n      drawDeck:[this.app.canvas.width/2 + 100*pd,this.app.canvas.height/2 - 40*pd],\n      playDeck:[this.app.canvas.width/2 - 100*pd,this.app.canvas.height/2 - 40*pd],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',...this.positionReference.drawDeck)\n    this.drawDeck.addComponent('text',{text:'Draw Here',y:85*pd,fontSize:35})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      drawable = false\n      resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n            drawable = true\n            resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.createActionPanel()\n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawEndGame()\n    this.drawSoundIcon()\n  }\n\n  initiateWithGameMode(gameMode){\n    this.drawAddBot(gameMode)\n  }\n\n  createPlayDeck = (currentTopCard)=>{\n    this.playDeck = this.createDeck(currentTopCard,...this.positionReference.playDeck)\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:50*pd,y:this.app.canvas.height/2 + 80*pd})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addComponent('textBackground',{w:700,h:400})\n    const text = endGame.addComponent('text',{text:'Someone had won the game!',fontSize:50,y:-20})\n    const changeInPointText = endGame.addComponent('text',{text:'',fontSize:30,y:30})\n    let resolveFunction = ()=>{}\n    const restartText = endGame.addComponent('text',{text:'New Game',fontSize:40,color:'blue',y:80})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    })\n    restartText.pressedEvent(()=>resolveFunction())\n    this.activateEndGame = (name,func,changeInPoint)=>{\n      text.text = ` ${name} had won the game! `\n      if(changeInPoint) changeInPointText.text = `You had gained ${changeInPoint} points!`\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(){\n    // const tutorial = this.app.addStorage({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000,direction:'column',spacing:5,})\n    // tutorial.addShape({kind:'roundedRectangle',color:'#ffffed',w:this.app.canvas.width,h:750,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    // const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    // x.pressedEvent(()=>tutorial.display = false)\n    // tutorial.model = [\n    //   ' Welcome to Uno Online! ',\n    //   'Some quick pointers:',\n    //   ' Use \"Copy Link\" from the left to automatically',\n    //   'get a link you can send to your friends!',\n    //   ' You can start the game when at least 2 players ',\n    //   '(including bots) are present. The panel on the left',\n    //   'show you who is in the game.',\n    //   ' You can use the emote panel below to piss', \n    //   'off your friends when playing.',\n    //   \" And that is it! If you have any feedback\",\n    //   \"please  me at vietlongali@gmail.com\",\n    //   \"Have fun!\",\n    //   \"Love this app? Buy me a beer on \",\n    //   'Venmo @LongTran123'\n    // ]\n    // tutorial.elementFunction = (content)=>{\n    //   const shape = tutorial.addShape({kind:'text',font:'30px Arial Bold',text:content})\n    //   shape.x = -340 + 0.5*shape.width\n    //   return shape\n    // }\n    // tutorial.updateToModel()\n    // this.showTutorial = ()=>tutorial.display = true\n    this.showTutorial = ()=>{}\n  }\n\n  drawAddBot(gameMode){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 55*pd})\n    const text = addBot.addComponent('text',{fontSize:35,text:'Add Bot ',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    })\n    text.pressedEvent(()=>resolveFunction())\n    this.startAddBot = (gameMode==='Competitive Player')?()=>{}:(func)=>{\n      resolveFunction = func\n      addBot.display = true\n    }\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    \n  }\n\n  animatePlayerPlay = (content)=>this.animatePlay(content,...this.positionReference.playerDeck)\n  animatePlayerDraw = ()=>this.animateDraw(...this.positionReference.playerDeck)\n  animateLeaderboardDraw = ()=>this.animateDraw(...this.positionReference.leaderBoard)\n  animateLeaderboardPlay = (content)=> this.animatePlay(content,...this.positionReference.leaderBoard)\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    const text = specialInfo.addComponent('text',{fontSize:40,text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    })\n    card.addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n    card.shapes[0].addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction,gameMode){\n    const actionalPanel = this.app.addStorage({x:this.app.canvas.width / 2,y:this.app.canvas.height/2 + 120*pd,spacing:50*pd})\n    actionalPanel.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    actionalPanel.addShape({kind:'text',font:'40px Futura',text:\"Actions:\",y:-40*pd})\n    actionalPanel.model = (gameMode==='Casual')?['Copy Link','Leave Game','Restart Game']:['Leave Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addShape({kind:'text',font:'35px Futura',text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      })\n      shape.pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.app.addStorage({x:this.app.canvas.width/2,y:75,spacing:0})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addShape({y:60*pd,kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:7*pd,rotation:90,border:true,borderColor:'black',borderWidth:7})\n    let colors = ['#90ee90','#ee2400','#D3D3D3','#00FFFF']\n    leaderBoard.elementFunction = (content,i)=>{\n          return leaderBoard.addShape({kind:'rect',color:colors[i],w:this.app.canvas.width/4,h:150,border:true,borderColor:'black',borderWidth:5,shadow:{blur:7,color:'black',offsetY:5}})\n      }\n      leaderBoard.model = ['text1','test2','txt2','t34']\n      leaderBoard.updateToModel()\n      let textShapes = []\n      let cardShape = []\n      this.updateLeaderboard = (players,cards,point)=>{\n            leaderBoard.model = players\n            leaderBoard.updateToModel()\n            textShapes.forEach(e=>e.kill())\n            textShapes = []\n            cardShape.forEach(e=>e.kill())\n            cardShape=[]\n            players.forEach((name,i)=>{\n                  const {x,y} = leaderBoard.storageShapes[i]\n                  const text = leaderBoard.addShape({kind:'text',text:name,x,y:y-20,font:'30px Arial Bold',color:'black'})\n                  textShapes.push(text)\n            })\n            cards.forEach((card,i)=>{\n              const {x,y} = leaderBoard.storageShapes[i]\n              let pointStr = (typeof point[i]=='number')?`Point: ${point[i]}`:''\n              const text = leaderBoard.addShape({kind:'text',text:`Cards: ${card} ${pointStr}`,x,y:y+5,font:'18px Arial Bold',color:'black'})\n              textShapes.push(text)\n          })\n            this.staticApp.turnFunctions(this.staticApp)\n      }\n\n      let timeOut = null\n      this.emote = (name,color,emoji)=>{\n        clearTimeout(timeOut)\n        const shape = textShapes.find(e=>e.text===name)\n\n        shape.addAnimation('opacity',0,100,()=>{\n          shape.text = emoji\n          shape.font = '40px Arial Bold'\n          leaderBoard.updateVisual()\n          shape.addAnimation('opacity',1,100,()=>{\n            timeOut = setTimeout(()=>{\n              shape.addAnimation('opacity',0,100,()=>{\n                shape.text = name\n                shape.font = '30px Arial Bold'\n                leaderBoard.updateVisual()\n                shape.addAnimation('opacity',1,100)\n              })\n            },1500)\n          })\n        })\n\n        \n      }\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn]\n      turnIndicator.addAnimation('x',absoluteX,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n  }\n\n  createHand(){\n    let cards = []\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.cardApp.addStorage({spacing:-70*pd,y:0})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addShape({y:-37*pd,borderOnly:true,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*1.2 *pd,h:145.5*1.2*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'})\n      shape.pressedEvent((x,y)=>{\n            if(!verifyFunction(content) || !onSelect) return\n            if(y<100) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      this.cardApp.canvas.width = (playerHand.totalLength+300)\n      this.cardApp.canvas.style.width = `${(playerHand.totalLength+300)/pd}px`\n      playerHand.x = this.cardApp.canvas.width/2\n      const height = 0.5*145.5*1.2*pd + 40*pd\n      this.cardApp.canvas.height = height\n      playerHand.y = height\n      const clientWidth = 0.5*(window.innerWidth)\n      const handWidth = 0.5*((playerHand.totalLength+300)/pd)\n      if(handWidth<clientWidth) this.cardApp.canvas.style.left = `${clientWidth - handWidth}px`\n      if(handWidth > clientWidth){\n            this.cardApp.canvas.style.left = `0px`\n            document.getElementById('scrollable').scrollLeft = handWidth-clientWidth\n      }\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deckCardOption = {kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'}\n    const deck = this.staticApp.addObject({x,y})\n    deck.addShape({x:6*pd,y:-5*pd,...deckCardOption})\n    deck.addShape({x:4*pd,y:-3.75*pd,...deckCardOption})\n    deck.addShape({x:3*pd,y:-2.5*pd,...deckCardOption})\n    deck.addShape({x:1.5*pd,y:-1.25*pd,...deckCardOption})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,display:false})\n    if(back){\n      card.addShape({kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:'assets/back.svg',borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addShape({clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.svg')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({display:false,zIndex:1000,x:this.app.canvas.width/2,y:this.app.canvas.height/2,model:colors,spacing:25,direction:'column'})\n    colorChooser.addShape({kind:'roundedRectangle',w:300*pd,h:300*pd,borderRadius:10*pd,color:'white',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    colorChooser.addShape({kind:'text',font:'35px Futura',text:'Choose a color:',y:-105*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addShape({kind:'roundedRectangle',w:250,h:50,color:'white'})\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    colorChooser.storageShapes.forEach((e,i)=>{\n      const {x,y} = e\n      const color = colors[i]\n      const shape = colorChooser.addShape({x,y,kind:'text',color:textColor[i],font:'45px Futura',text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n    })\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      this.onAnnouncementPerpetual = false\n      this.onAnnoucementChanged = false\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:this.app.canvas.width/2,y:110*pd,positionIndicator:false})\n      this.annoucementText = this.announcement.addShape({kind:'text',font:'70px Futura',color:'orange',text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else if(this.announcementQueue.length >0) return\n          else if(!this.onAnnouncementPerpetual && this.annoucementText.display) return fadeOut()\n          else if(this.onAnnouncementPerpetual && ((!this.annoucementText.display) || this.onAnnoucementChanged)) return fadeOutThenFadeIn(()=>{\n              let [text,color] = this.announcmentPerpetual\n              this.annoucementText.text = text\n              this.annoucementText.color = color\n          })\n      }\n    }\n\n    changeAnnoucementPerpetual(text,color){\n      this.announcmentPerpetual = [text,color]\n      this.onAnnoucementChanged = true\n      this.updateAnnouncement()\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/polygon.svg',scaleX:0,scaleY:0})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2+50*pd,display:false})\n      const text = startGameObject.addShape({kind:'text',text:'Start Game',color:'black',font:'50px Futura'})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default mobileView","import webView from './webView'\nimport mobileView from './mobileView'\nwindow.mobileCheck = function() {\nlet check = false;\n(function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\nreturn check;\n};\nlet View \nif(window.mobileCheck()) View = mobileView\nelse View = webView\nexport default View","import View from './view'\nconst io = require('socket.io-client')\nconst axios = require('axios')\nconst _ = require('lodash')\n\nconst Controller = async (canvasref,canvasstatic,token,userid,CopyLink,LeaveGame,canvasSpecial,compFunc)=>{\n      let view = new View(canvasref,canvasstatic,canvasSpecial)\n      let model = null\n      let url = (process.env.NODE_ENV==='production')?'/game':'http://localhost:4000/game'\n      if(window.mobileCheck() && process.env.NODE_ENV !== 'production') url = 'http://10.0.1.10:4000/game'\n      const socket = io(url,{query:{token}})\n      const play = (card)=>{\n            socket.emit('Play Card',card)\n      }\n\n      const draw = ()=>{\n            socket.emit('Draw Card')\n      }\n\n      const emote = (emoji)=>{\n            socket.emit('Emote',emoji)\n      }\n\n      const sortHand = (hand)=>{\n            if(!hand.length) return []\n            const newhand = [...hand].map(e=>e.split(' ').slice(1).join(' '))\n            const color = hand[0].split(' ')[0]\n            const countable = newhand.filter(e=>parseInt(e)).map(e=>parseInt(e))\n            const notCountable = newhand.filter(e=>!parseInt(e))\n            const sorted = countable.sort((a,b)=>parseInt(a)-parseInt(b))\n            return [...sorted,...notCountable].map(e=>`${color} ${e}`)\n      }\n\n      const sortDeck = (deck,currentTopCard)=>{\n            const wild = deck.filter(e=>e.match(/Wild/) || e.match(/Draw 4/))\n            const red = sortHand(deck.filter(e=>e.match(/red/)))\n            const blue = sortHand(deck.filter(e=>e.match(/blue/)))\n            const green = sortHand(deck.filter(e=>e.match(/green/)))\n            const yellow = sortHand(deck.filter(e=>e.match(/yellow/)))\n            const obj ={red,blue,green,yellow}\n            let final = [...wild]\n            for(let color in obj){\n                  final = [...final,...obj[color]]\n            }\n            return final\n      }\n      \n      const addBot = ()=>socket.emit('Add Bot')\n\n      const verify = card=>{\n            if(card === 'Wild' || card==='Draw 4' || model.currentTopCard === 'Wild' || model.currentTopCard === 'Draw 4') return true\n            const color = model.currentTopCard.split(' ')[0]\n            const action = model.currentTopCard.split(' ').slice(1).join(' ')\n            const color2 = card.split(' ')[0]\n            const action2 = card.split(' ').slice(1).join(' ')\n            return ((color===color2) || (action===action2))\n      }\n\n      const update = async (m)=>{\n            console.info(m)\n            let oldModel = (model)?_.cloneDeep(model):null\n            model = m\n            if(parseInt(model.onTurn) == userid){\n                  view.awaitSelection(verify).then((content)=>{view.cancelDraw();view.cancelSelection();play(content)})\n                  view.awaitDraw().then(()=>{view.cancelSelection();view.cancelDraw();draw()})\n            }\n            else{\n                  view.cancelDraw()\n                  view.cancelSelection()\n            }\n            //check with old model\n            if(oldModel){\n                  let newAnnoucements = model.feed.slice(oldModel.feed.length)\n                  let newDirectives = model.directives.slice(oldModel.directives.length)\n                  const players = model.players.map(e=>e.username)\n                  view.updateLeaderboard(players,model.players.map(e=>e.cards.length),model.players.map(e=>(e.userid)?e.point:undefined))\n                  if(newAnnoucements.length) newAnnoucements.forEach(message=>view.addToAnnoucementQueue(message,'black',500))\n                  if(newDirectives.length){\n                        for(let [code,user,otherinfo] of newDirectives){\n                              switch(code){\n                                    case 1:\n                                          if(user === userid){\n                                                await view.animatePlayerDraw()\n                                                const latestDraw = model.players[userid].cards.slice(oldModel.players[userid].cards.length)[0]\n                                                if(verify(latestDraw)) play(latestDraw)\n                                                else socket.emit('Pass Turn')  \n                                          }\n                                          else await view.animateLeaderboardDraw()\n                                          break;\n                                    case 2:\n                                          if(user === userid) for(let i = 0;i<4;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 3:\n                                          if(user === userid) for(let i = 0;i<2;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<2;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 4:\n                                          if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                          else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          break;      \n                                    case 5:\n                                          await view.UNO()\n                                          break;\n                                    case 7:\n                                          const animateToPlayer = async ()=>{for(let i = 0;i<4;i++)(await view.animatePlayerDraw())}\n                                          const animateToLeaderBoard = async ()=>{for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())}\n                                          await animateToPlayer()\n                                          await animateToLeaderBoard()\n                                          break;\n                                    case 8:\n                                          for(let i = 0;i<otherinfo;i++){\n                                                if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                                else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          }\n                                          break;\n                                    default:break;\n                              }\n                        }\n                  }\n                  if(parseInt(oldModel.onTurn) != parseInt(model.onTurn) && model.onTurn >= 0) view.updateTurnIndicator(parseInt(model.onTurn))\n                  const oldCard = oldModel.players[userid].cards\n                  const newCard = model.players[userid].cards\n                  if(JSON.stringify(oldCard) !== JSON.stringify(newCard))view.updateCards(sortDeck(model.players[userid].cards,model.currentTopCard))\n            }\n            else{\n                  const gameMode = model.gameMode\n                  const players = model.players.map(e=>e.username)\n                  view.updateLeaderboard(players,model.players.map(e=>e.cards.length),model.players.map(e=>(e.userid)?e.point:undefined))\n                  view.updateCards(sortDeck(model.players[userid].cards,model.currentTopCard))\n                  if(model.onTurn>=0)view.updateTurnIndicator(model.onTurn)\n                  view.createPlayDeck(model.currentTopCard)\n                  view.drawTutorial(gameMode)\n                  view.showTutorial()\n                  view.initiateWithGameMode(gameMode)\n                  view.createActionPanel({\n                        CopyLink,\n                        LeaveGame,\n                        RestartGame:()=>socket.emit('Restart Game')\n                  },gameMode)\n            }\n            if(!model.inGame && model.players.length > 1 && !model.endGame) view.initiateStartGameMessage(()=>socket.emit('Start Game'))\n            else view.turnOffStartGameMessage()\n            if(!model.inGame && model.players.length < 4 && !model.endGame) view.startAddBot(addBot)\n            else view.cancelAddBot()\n      }\n\n      socket.on('Update',update)\n      socket.on('New Game',(m)=>{\n            view.kill()\n            view = new View(canvasref,canvasstatic,canvasSpecial)\n            view.drawEmoteChooser(emote)\n            model = null\n            update(m)\n      })\n\n      socket.on('End Game',({win,changeInPoint})=>{\n            console.log(changeInPoint)\n            let func\n            if(model.gameMode !== 'Competitive Player') func = ()=>socket.emit('Restart Game')\n            else func=compFunc\n            view.activateEndGame(model.players[win].username,func,(changeInPoint)?changeInPoint[userid]:null)\n            console.log('endGame')\n      })\n\n      socket.on('Choose Color',async ()=>{\n            const color = await view.chooseColor()\n            socket.emit('Choose Color',color)\n      })\n\n      socket.on('Error',(error)=>console.log(error))\n      socket.on('Emote',({emoji,userid})=>{\n            const colorCode = ['green','red','black','blue']\n            view.emote(model.players[userid].username,colorCode[userid],emoji)\n      })\n      socket.on('Critical Error',LeaveGame)\n      view.drawEmoteChooser(emote)\n      return (()=>{\n            socket.close()\n            view.kill()\n      })\n}\n\nexport default Controller","import {baseAPI} from './api'\nimport cogoToast from  'cogo-toast'\nimport Store from './redux'\n\nconst dispatch = Store.dispatch\nconst createSkirmish = async ()=>{\n      const {userToken} = Store.getState()\n      const {data} = await baseAPI.post('/createUser',{gameMode:'Skirmish'},{headers:{Authorization:`JWT ${userToken}`}})\n      const {error,message,token,playerid} = data\n      if(error) cogoToast.error(message)\n      else dispatch({type:'LOG_IN_SKIRMISH_GAME',token,playerid})\n}\n\nexport {createSkirmish}","import React, { useEffect, useState, useRef } from 'react'\nimport {connect} from 'react-redux'\nimport Controller from '../controller'\nimport cogoToast from 'cogo-toast'\nimport mobileView from '../mobileView'\nimport testView from '../testView'\nimport {createSkirmish} from '../Util'\nimport {startMatchMaking,endMatchMaking} from '../waiting'\n\nconst Game = connect(({token,playerid,id,skirmish,userToken})=>({token,playerid,id,skirmish,userToken}),dispatch=>({dispatch}))(({token,playerid,id,dispatch,skirmish,userToken,triggerCompetitive})=>{\n    const ref = useRef()\n    const ref2 = useRef()\n    const ref3 = useRef()\n    \n    const copyToClipboard = str => {\n        const el = document.createElement('textarea');\n        el.value = str;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        cogoToast.success('Copied!')\n    };\n    const url = `http://onegame.us/join/${id}`\n\n    const leaveGame = (skirmish)?()=>dispatch({type:'LOG_OUT_SKIRMISH_GAME'}):()=>dispatch({type:'LOG_OUT'})\n    const restartCompetitive = async ()=>{\n      await createSkirmish()\n      startMatchMaking(userToken,({token,playerid})=>{\n            endMatchMaking()\n            dispatch({type:'LOG_IN',token,playerid})\n            triggerCompetitive()\n      },(message)=>{\n            dispatch({type:'END_MATCHMAKING'})\n            cogoToast.error(message)\n      })\n    }\n\n    let disconnectFunc = ()=>{}\n    let startGame = async ()=>disconnectFunc=await Controller(ref.current,ref2.current,token,playerid,()=>copyToClipboard(url),leaveGame,ref3.current,restartCompetitive)\n    useEffect(()=>{\n      startGame()\n      return ()=>{disconnectFunc()}\n      // testView(ref.current)\n    },[token])\n    return (\n      <div className=\"App\">\n        {!window.mobileCheck()&&\n          <>\n          <div className='d-flex game' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n            <canvas ref={ref}  style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n          </div>\n          <div className='d-flex game2' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n            <canvas ref={ref2} style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n          </div>\n          </>\n        }\n        {window.mobileCheck()&&\n          <div className='position-absolute' id='scrollable' style={{overflowX:'auto',overflowY:'visible',position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%'}}>\n            <canvas ref={ref}  style={{zIndex:'100',position:'fixed',left:0,top:0,width:'100%',height:'100%',margin:'auto',backgroundColor:'transparent'}}></canvas>      \n            <canvas ref={ref2} style={{zIndex:'0',position:'fixed',left:0,top:0,width:'100%',height:'100%',margin:'auto'}}></canvas>      \n            <canvas ref={ref3} style={{zIndex:'1000',margin:'auto',position:'absolute',bottom:0,left:0}}></canvas>      \n          </div>\n        }\n      </div>\n    );\n})\nexport default Game","import React from 'react'\nimport Polygon from '../polygon.svg'\nconst Logo = ()=>(\n      <div className='mt-5 mb-5 floating w-100 text-center'>\n            <img src={Polygon} style={{width:300,margin:'auto',width:'200px'}} className=''/>\n      </div>\n)\nexport default Logo","import React, { useState, useEffect } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form} from 'formik'\nimport Logo from '../Components/Logo'\nconst {join} = require('../api')\n\nconst Join = (connect(({tempJoinId})=>({tempJoinId}),dispatch=>({dispatch}))(({dispatch,changeHistory,tempJoinId})=>{\n    const [loading,setLoading] = useState(false)\n\n\n    useEffect(()=>{\n        console.log(tempJoinId)\n        if(!tempJoinId){\n            dispatch({type:'JOINED'})\n        }\n    },[])\n\n    const joinGame = async ({username})=>{\n        setLoading(true)\n        console.log(tempJoinId)\n        const {data} = await join(tempJoinId,username)\n        const {token,id,playerid} = data\n        console.log(data)\n        dispatch({type:'JOIN_LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container'>\n            <div className={`row ${(window.mobileCheck())?'':'w-75'} mx-auto`} style={{maxWidth:(window.mobileCheck())?100000:400}}>\n            {!loading &&\n                <div className='text-center w-100 mx-auto' style={{fontFamily:'Arial Bold'}}>\n                    <Logo/>\n                    <div><i>One</i> is an UNO-like card game that is completely playable online.</div>\n                    <div className='text-secondary'>Made by Long Tran</div>\n                    <div className='pt-5 pb-5 mt-3' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',borderRadius:'15px',backgroundColor:'white'}}>\n                        <Formik initialValues={{username:''}} onSubmit={joinGame}>\n                            {({handleSubmit,handleChange,handleBlur})=>(\n                                <Form>\n                                    <div className = 'container w-50'>\n                                        <label className='font-weight-bold'>Nickname</label>\n                                        <input type='text' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Join game!</button>\n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                </div>\n            }\n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Join","import React, { useState } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter,Link} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form, Field} from 'formik'\nimport Logo from '../Components/Logo'\nconst {create} = require('../api')\n\nfunction Checkbox(props) {\n    return (\n      <Field name={props.name}>\n        {({ field, form }) => (\n        <div className='ml-n3'> \n          <input \n          className='custom-control-input'\n          type=\"checkbox\"\n          {...props}\n          checked={field.value.includes(props.value)}\n          onChange={() => {\n            if (field.value.includes(props.value)) {\n              const nextValue = field.value.filter(\n                value => value !== props.value\n              );\n              form.setFieldValue(props.name, nextValue);\n            } else {\n              const nextValue = field.value.concat(props.value);\n              form.setFieldValue(props.name, nextValue);\n            }\n          }}\n        />\n        <label className='ml-3'>\n            {props.displayname}\n          </label>\n        </div>\n        )}\n      </Field>\n    );\n  }\n\nconst Landing = withRouter(connect(null,dispatch=>({dispatch}))(({dispatch,history})=>{\n    const [loading,setLoading] = useState(false)\n\n    const createGame = async ({username,houseRule})=>{\n        setLoading(true)\n        const {data} = await create(username,houseRule)\n        const {token,id,playerid} = data\n        dispatch({type:'LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container background'>\n            <div className={`row ${(window.mobileCheck())?\"\":'w-75'} mx-auto`} style={{maxWidth:(window.mobileCheck())?100000:400,fontFamily:'Arial Bold'}}>\n            {!loading &&\n                <div className='text-center mx-auto w-100 position-relative'>\n                    <Logo/>\n                    <div><i>One</i> is an UNO-like card game that is completely playable online.</div>\n                    <div className='text-secondary'>Made by Long Tran</div>\n                    <div className='pt-4 pb-4 mt-3' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',backgroundColor:'white',borderRadius:'15px'}}>\n                        <Formik initialValues={{username:'',houseRule:[]}} onSubmit={createGame}>\n                            {({handleSubmit,handleChange,handleBlur,values})=>(\n                                <Form>\n                                    <div className = 'container form-group'>\n                                        <div className='w-50 mx-auto'>\n                                            <label className='font-weight-bold '>Nickname:</label>\n                                            <input type='username' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        </div>\n                                        <label className='font-weight-bold mt-3'>House Rules:</label>\n                                        <div className=' custom-control custom-checkbox mt-n1'>\n                                            <Checkbox value='tripledouble' name='houseRule' displayname='Allow triple/double' className=''/>\n                                        </div>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Create game!</button>\n                                        <div className='mt-2'><Link to='/auth' className='text-primary text-underline'>New! Sign up to keep score and play multiplayer</Link></div>\n                                        \n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                    <p className='text-secondary mt-2'>Joining a friend's game? Ask them for a personal link!</p>\n                </div>\n            }\n            \n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Landing","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport Logo from '../Components/Logo'\nimport { Formik, Form } from 'formik'\nimport cogoToast from 'cogo-toast'\nimport {baseAPI} from '../api'\nimport BarLoader from 'react-spinners/BarLoader'\n\nconst Auth = connect(null,(dispatch)=>({dispatch}))(({dispatch})=>{\n      const [loading,setLoading] = useState(false)\n      const [signingIn,setSigningIn] = useState(false)\n\n      const handleLogIn = ({error,token,message})=>{\n            setLoading(false)\n            if(error) return cogoToast.error(message)\n            dispatch({type: 'LOG_IN_USER',userToken:token})\n      }\n\n      const signIn = async ({username,password})=>{\n            setLoading(true)\n            const {data} = await baseAPI.post('/login',{username,password})\n            handleLogIn(data)\n      }\n\n      const signUp = async ({username,password})=>{\n            setLoading(true)\n            const {data} = await baseAPI.post('/signup',{username,password})\n            handleLogIn(data)\n      }\n\n      return (<>\n            <div className='w-100 mx-auto pb-5'>\n                  <Logo/>\n                        {!loading &&<div className='container bg-light signInBox pt-5 pb-2 pl-5 pr-5'>\n                        {signingIn&&\n                              <>\n                                    <div className='text-center'>\n                                          <h6 className='font-weight-bold '>Sign In <a className=' font-weight-light' href='/' onClick={(e)=>{e.preventDefault();setSigningIn(false)}}>| Sign Up</a></h6>\n                                    </div>\n                                    <Formik initialValues={{username:'',password:''}} onSubmit={signIn}>\n                                          {({handleChange,handleSubmit,handleBlur})=>(\n                                          <Form>\n                                                <div className='form-group mt-3'>\n                                                      <label className='text-secondary'>Username:</label>\n                                                      <input type='username' name='username' onChange={handleChange} onBlur={handleBlur} className='form-control'></input>\n                                                      <label className='text-secondary mt-2'>Password</label>\n                                                      <input type='password' name='password' onChange={handleChange} onBlur={handleBlur} className='form-control'></input>\n                                                      <button className='btn btn-success mt-3' onSubmit={handleSubmit}>Sign In</button>\n                                                </div>\n                                          </Form>\n                                          )}\n                                    </Formik>\n                              </>\n                        }\n                        {!signingIn&&\n                              <>\n                                    <div className='text-center'>\n                                          <h6 className='font-weight-bold '>Sign Up <a className=' font-weight-light' href='/' onClick={(e)=>{e.preventDefault();setSigningIn(true)}}>| Sign In</a></h6>\n                                          \n                                    </div>\n                                    <Formik initialValues={{username:'',password:''}} onSubmit={signUp}>\n                                          {({handleChange,handleSubmit,handleBlur})=>(\n                                          <Form>\n                                                <div className='form-group mt-3'>\n                                                      <label className='text-secondary'>Username:</label>\n                                                      <input type='username' name='username' onChange={handleChange} onBlur={handleBlur} className='form-control'></input>\n                                                      <label className='text-secondary mt-2'>Password</label>\n                                                      <input type='password' name='password' onChange={handleChange} onBlur={handleBlur} className='form-control'></input>\n                                                      <label className='text-secondary mt-2'>Did Carole Baskin killed her husband? (Not required)</label>\n                                                      <div><input type='checkbox'></input><span className='ml-2'>Absolutely</span></div>\n                                                      <button className='btn btn-success mt-3' onSubmit={handleSubmit}>Sign Up</button>\n                                                </div>\n                                          </Form>\n                                          )}\n                                    </Formik>\n                              </>\n                        }\n                        </div>}\n                        <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                              <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n                        </div>\n            </div>\n      </>)\n})\n\nexport default Auth","import React, { useEffect , useState} from 'react'\nimport { connect } from 'react-redux'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {baseAPI} from '../api'\nimport cogoToast from 'cogo-toast'\nimport Polygon from '../polygon.svg'\nimport { createSkirmish } from '../Util'\nimport { endMatchMaking, startMatchMaking } from '../waiting'\n\nconst Profile = connect(({userToken,matchMaking})=>({userToken,matchMaking}),(dispatch)=>({dispatch}))(({userToken,dispatch,matchMaking,triggerCompetitive})=>{\n      const [userInfo,setUserInfo] = useState(null)\n      const [loading,setLoading] = useState(false)\n      const fetchUserInfo = async ()=>{\n            const {data} = await baseAPI.get('/user',{\n                  headers:{\n                        Authorization:`JWT ${userToken}`\n                  }\n            })\n            const {error,message,user} = data\n            if(error) return cogoToast.error(message)\n            else setUserInfo(user)\n      }\n      useEffect(()=>{fetchUserInfo()},[])\n\n      const toggleMatchMaking = async ()=>{\n            setLoading(true)\n            if(matchMaking){\n                  endMatchMaking()\n                  dispatch({type:'END_MATCHMAKING'})\n            }\n            else{\n                  await createSkirmish()\n                  startMatchMaking(userToken,({token,playerid})=>{\n                        endMatchMaking()\n                        dispatch({type:'LOG_IN',token,playerid})\n                        triggerCompetitive()\n                  },(message)=>{\n                        dispatch({type:'END_MATCHMAKING'})\n                        cogoToast.error(message)\n                  })\n                  \n            }\n            setLoading(false)\n      }\n      const botGame = async ()=>{\n            setLoading(true)\n            const {data} = await baseAPI.post('/createUser',{gameMode:'Competitive Bot'},{headers:{Authorization:`JWT ${userToken}`}})\n            const {error,message,token,playerid} = data\n            console.log(data)\n            if(error) cogoToast.error(message)\n            else dispatch({type:'LOG_IN',token,playerid})\n            setLoading(false)\n      }\n\n      const casualGame = async ()=>{\n            setLoading(true)\n            const {data} = await baseAPI.post('/createUser',{gameMode:'Casual'},{headers:{Authorization:`JWT ${userToken}`}})\n            const {error,message,token,playerid,id} = data\n            console.log(data)\n            if(error) cogoToast.error(message)\n            else dispatch({type:'LOG_IN',token,playerid,id})\n            setLoading(false)\n      }\n      console.info(userInfo)\n      return(\n            <div className=''>\n                  <div className='container-fluid' style={{backgroundColor:'white'}}>\n                        <div className='row '>\n                              <div className='col-auto pt-2 pb-2 ml-2'>\n                                    <img src={Polygon} style={{width:50}}/>\n                              </div>\n                              <div className='align-self-end text-secondary mb-2 text-sm' style={{fontSize:15}}>\n                                    Made by Long Tran\n                              </div>\n                              <div className='col-auto ml-auto align-self-end mb-2'>\n                                    <a href='/' className='text-primary mr-2' onClick={(e)=>{e.preventDefault()}}>Give Feedback</a>\n                                    <a href='/' className='text-danger' onClick={(e)=>{e.preventDefault();dispatch({type:'LOG_OUT_USER'})}}>Log Out</a>\n                              </div>\n                        </div>\n                  </div>\n                  \n                  {(userInfo&&!loading)&&\n                        <div className='container mt-3'>\n                              <h1>Welcome back! {userInfo.username}</h1>\n                              <div className='row'>\n                                    <div className='col-auto'>\n                                          <h3>Stats:</h3>\n                                          <ul>\n                                                <li><span className='font-weight-bold'>Games Played:</span> {userInfo.gamePlayed}</li>\n                                                <li><span className='font-weight-bold'>Games Won:</span> {userInfo.gameWon}</li>\n                                                <li><span className='font-weight-bold'>Games Lost:</span> {userInfo.gameLost}</li>\n                                                <li><span className='font-weight-bold'>Win Rate:</span> {Math.round((userInfo.gamePlayed)?(userInfo.gameWon/userInfo.gamePlayed)*100:0)}%</li>\n                                                <li><span className='font-weight-bold'>Total Point:</span> {userInfo.points}</li>\n                                                <li><span className='font-weight-bold'>Rank:</span> #{userInfo.rank[0]} ({~~(userInfo.rank[0]/userInfo.rank[1]* 100 + 0.5)} Percentile)</li>\n                                                <li><span className='font-weight-bold'>Karma:</span> {userInfo.karma}/10</li>\n                                                <div className='text-secondary text-small' style={{maxWidth:300,fontSize:15}}>Karma is gained when you finish a game and lost when you quit midgame. Higher karma means shorter matchmaking time.</div>\n                                          </ul>\n                                    </div>\n                                    <div className='col-auto ml-lg-5 pb-5'>\n                                          <h3>Play Now:</h3>\n                                          <div className='mx-auto text-center mt-4 mx-auto'>\n                                                <button className='btn btn-lg btn-outline-dark mx-auto w-100' onClick={toggleMatchMaking}>{(matchMaking)?'Stop Matchmaking':'Start Matchmaking'}</button>\n                                                <br/>\n                                                {!matchMaking&&\n                                                <>\n                                                <button className='btn btn-lg btn-outline-primary mx-auto mt-3 w-100' onClick={botGame}>Train with Bot</button>\n                                                <br/>\n                                                <button className='btn btn-lg btn-outline-success mx-auto mt-3 w-100' onClick={casualGame}>Create a casual game</button>\n                                                <div className='text-secondary mt-1'>Tip! Training with bot still give you points!</div>\n                                                </>}\n                                                {matchMaking&&\n                                                      <>\n                                                            <button className='btn btn-lg btn-outline-primary mx-auto mt-3 w-100' onClick={createSkirmish}>Create Skirmish Game</button>\n                                                            <br/>\n                                                      </>\n                                                }\n                                          </div>\n                                    </div>\n                                    <hr className='d-block d-md-none'/>\n                                    <div className='col-auto ml-lg-5 pb-5'>\n                                          <h3>Messages:</h3>\n                                          <div className='mx-auto text-center mt-4 mx-auto'>\n                                                You have no messages yet\n                                          </div>\n                                    </div>\n                              </div>\n                        </div>\n                  }\n                  <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                        <BarLoader color='blue' loading={(!userInfo || loading)} width='200px' css={{margin:'auto'}}/>\n                  </div>\n            </div>\n      )\n})\n\nexport default Profile","import React,{useEffect,useState} from 'react';\nimport './App.css';\nimport {Provider,connect} from 'react-redux'\nimport {BrowserRouter as Router,Switch,Link,Route,useLocation,withRouter} from 'react-router-dom'\nimport Store from './redux'\nimport Game from './Page/Game';\nimport Join from './Page/Join';\nimport Landing from './Page/Landing';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport lght from './lght/lght'\nimport Auth from './Page/Auth';\nimport Profile from './Page/Profile';\nimport BeatLoader from 'react-spinners/BeatLoader'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {createSkirmish} from './Util'\nimport { endMatchMaking } from './waiting';\nimport {baseAPI} from './api'\n\nwindow.mobileCheck = function() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n};\n\nconst Content = withRouter(connect(({loggedIn,joined,loggedInUser,matchMaking,skirmish,userToken})=>({loggedIn,joined,loggedInUser,matchMaking,skirmish,userToken}),(dispatch)=>({dispatch}))(({loggedIn,dispatch,history,joined,loggedInUser,matchMaking,skirmish,userToken})=>{\n    const {pathname} = window.location\n    const [minimized,setMinimized] = useState(false)\n    const [showCompetitive,setShowCompeititve] = useState(false)\n    const [loading,setLoading] = useState(false)\n\n    const joinUser = async (id)=>{\n      setLoading(true)\n      const {data} = await baseAPI.post('/joinUser',{id},{\n        headers:{\n          Authorization:`JWT ${userToken}`\n        }\n      })\n      const {token,playerid,gameid} = data\n      dispatch({type:'JOIN_LOG_IN',token,playerid,gameid})\n      setLoading(false)\n    }\n\n    useEffect(()=>{\n      lght.stopAll()\n      if(pathname.match(/join/) && !joined){\n        if(loggedInUser) joinUser(pathname.split('/')[2])\n        else{\n          const tempJoinId = pathname.split('/')[2]\n          dispatch({type:'LOG_OUT_WITH_TEMP_JOIN',tempJoinId})\n          history.push('/join')\n        }\n      }\n      else if(loggedIn){\n        if(!pathname.match(/game/)) history.push('/game')\n      }\n      else if(loggedInUser){\n        history.push('/profile')\n      }\n      else if(!pathname.match('/auth')) history.push('/')\n    },[loggedIn,joined,loggedInUser])\n\n    return(\n      <>\n      <Switch>\n        <Route path='/game' exact>\n          <Game triggerCompetitive={()=>{\n            setShowCompeititve(true)\n            setTimeout(()=>setShowCompeititve(false),3000)\n          }}/>\n        </Route>\n        <Route path='/join' exact>\n          <Join changeHistory={history}/>\n        </Route>\n        <Route path='/'exact component={Landing}/>\n        <Route path='/auth' exact component={Auth}/>\n        <Route path='/profile' exact>\n          <Profile triggerCompetitive={()=>{\n            setShowCompeititve(true)\n            setTimeout(()=>setShowCompeititve(false),3000)\n          }}/>\n        </Route>\n      </Switch>\n      <div className='backgrounddiv'></div>\n      {matchMaking&&\n      <div className='matchMaking pt-5 pb-5 text-secondary' style={{transform:(minimized)?`translate(${window.mobileCheck()?'90%':'100%'}, 0%)`:'none',bottom:(window.mobileCheck())?0:50,right:(window.mobileCheck())?0:50,width:(window.mobileCheck())?'100%':400}}>\n        <div>Waiting for a match...</div>\n        <div style={{fontSize:20}}>\n          {skirmish&&'Enjoy the skirmish game!'}\n          {!skirmish&&<a href='/' onClick={e=>{e.preventDefault();createSkirmish()}}>Create a skirmish game</a>}\n        </div>\n        <BeatLoader css={{margin:'auto',marginTop:20}} color='blue' loading={matchMaking}/>\n        <div><a href='/' onClick={e=>{e.preventDefault();endMatchMaking();dispatch({type:'END_MATCHMAKING'})}}>End matchmaking</a></div>\n        <div className='position-absolute icon' onClick={(e)=>{setMinimized(!minimized)}}>\n          {minimized && '+'}\n          {!minimized && '-'}\n        </div>\n      </div>}\n      <div className='matchMaking pt-5 pb-5 text-secondary' style={{transform:(!showCompetitive)?'translate(120%, 0%)':'none',bottom:(window.mobileCheck())?0:50,right:(window.mobileCheck())?0:50,width:(window.mobileCheck())?'100%':400}}>\n        <div className='font-weight-bold'>You are playing with another player! Wave </div>\n        <div className='text-secondary'>Enjoy the game!</div>\n      </div>\n      <div style={{position:'absolute',top:'50%',width:'100%'}}>\n          <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n      </div>\n      </>\n    )\n}))\n\nfunction App() {\n  return (\n    <Provider store={Store}>\n      <Router>\n        <Content/>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/polygon.8ae264e2.svg\";"],"sourceRoot":""}