{"version":3,"sources":["redux.js","lght/util/util.js","lght/lght.js","view.js","controller.js","Page/Game.js","Page/Join.js","Page/Landing.js","App.js","serviceWorker.js","index.js","9.svg","api.js"],"names":["createStore","require","token","localStorage","getItem","defaultState","id","playerid","parseInt","tempJoinID","joined","loggedIn","Store","state","type","tempJoinId","setItem","removeItem","console","log","mergeDefaultPropertyObject","p","d","o","prop","_","cloneDeep","findDistance2Point","x1","y1","x2","y2","Math","sqrt","pow","findAngle2Point","dx","dy","tan","atan","radToDeg","rad","PI","degToRad","deg","rotatePoint","cx","cy","x","y","calculateRotatePoint","r","angleIndex","indexOf","coeff","cos","sin","findIntersection","s1","s2","x11","y11","x12","y12","x21","y21","x22","y22","round","minX1","min","maxX1","max","minX2","maxX2","slope1","slope2","coeff1","findClosestPoint","s","angle","abs","findAngle3Point","d1","d2","changeByDotNotation","propertyString","object","value","propertyArray","split","objectLink","forEach","e","i","length","Array","isArray","getByDotNotation","lght","inputReference","movementIndex","coeffIndex","defaultAppConfig","initFunctions","animateFunctions","lastFrame","undefined","constantRender","background","pixelDensity","defaultObjectProps","shapes","animations","hoverEvents","animationCount","static","rotation","positionIndicator","display","opacity","mouseUpEvent","mouseDownEvent","mouseMoveEvent","zIndex","defaultStorageProps","spacing","direction","model","defaultShapeOptions","kind","scaleX","scaleY","color","lineWidth","borderColor","borderWidth","border","borderOnly","shadow","defaultRectOptions","w","h","clip","clipImageLink","clipCanvas","clipSpriteSheetX","clipSpriteSheetY","spriteLengthX","spriteLengthY","defaultArcOptions","arcDegree","defaultTextOptions","textAlign","font","text","defaultImgOptions","spriteLink","drawWidth","drawHeight","loadedFunction","defaultPolyOptions","points","specialPolygon","numberOfSide","radius","defaultLineOptions","apps","gameloop","list","frameTime","loop","time","requestAnimationFrame","app","elem","options","this","canvas","objects","index","push","turnFunctions","prototype","obj","kill","f","killed","splice","update","translateMouseCoor","pageX","pageY","clientX","document","body","scrollLeft","documentElement","clientY","scrollTop","offsetLeft","offsetTop","objectCount","property","parent","name","objectName","collide","pointInShape","xs","ys","findMax","minX","maxX","minY","maxY","storage","storageShapes","elementFunction","updateToModel","shape","reverse","width","firstX","content","height","firstY","updateVisual","spriteLinkReference","spriteImageReference","funcLists","sprite","link","func","image","complete","Image","onload","src","sound","createElement","oncanplaythrough","loaded","updateQueue","volume","setAttribute","style","appendChild","queue","running","mute","play","setTimeout","duration","audioReference","audioLinkReference","playSound","addToQueue","stopAll","from","getElementsByTagName","pause","muteAll","unmuteAll","vertex","findVertex","offsetMinX","borderWidthIfBorderIsOn","offsetMaxX","offsetMinY","offsetMaxY","shadowOffsetMinX","blur","shadowOffsetMaxX","shadowOffsetMinY","shadowOffsetMaxY","offsetX","offsetY","sides","findSides","compareSide","intersect","result","maxY1","minY1","maxY2","minY2","side1","side2","hasBorder","rect","rx","ry","nx","absoluteX","ny","absoluteY","arc","minAngle","maxAngle","minRadAngle","maxRadAngle","referenceX","referenceY","vertex1","vertex2","pureCircle","ray1","ray2","side","closest","roundedRectangle","borderRadius","clipImage","imageUrl","poly","polyPoints","map","radiusCoefficient","line","notIncluded","position","point","rotatedPoints","distance","angleQuadrant","firstDistance","pointOneInFirstQuadrant","pointSecondInSecondQuadrant","pointThreeInThirdQuadrant","pointFourInFourthQuadrant","c","context","save","measureText","restore","textSize","img","imageLoaded","attachQuickMovement","velocity","cooldown","cd","addEventListener","key","startCursor","cursor","endCursor","enterCursorEvent","alreadyCursorEvent","hoverEvent","mouseInputInit","attachEvent","event","pointInObject","LargeLoop","a","pressedEvent","makeDraggable","funcDone","onDrag","draggable","funcin","funcout","mouseIn","touch","animate","timeDifference","animateFunctionReference","animation","init","timeUp","newValue","addAnimation","timeout","cancelAnimation","alreadyAnimated","find","findIndex","clearTimeout","arguments","render","clearCanvas","fillBackground","renderShape","visualInit","backgroundColor","getContext","renderPositions","sort","b","draw","clearRect","fillStyle","fillRect","beginPath","closePath","fill","preloader","maxes","createPreloader","clearPreloader","ox","oy","drawShape","drawPreloader","translate","drawImg","drawShapeKind","stroke","globalAlpha","strokeStyle","scale","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawRect","drawArc","drawText","drawPoly","drawLine","drawRoundedRectangle","clipImageLoaded","rotate","spriteWidth","spriteHeight","clipStartX","clipStartY","drawImage","strokeRect","moveTo","lineTo","quadraticCurveTo","br","er","fillText","addShape","addObject","addStorage","removeObject","View","ref","ref2","drawSoundIcon","soundIcon","soundOn","soundOff","animatePlayerPlay","animatePlay","positionReference","playerDeck","animatePlayerDraw","animateDraw","animateLeaderboardDraw","leaderBoard","animateLeaderboardPlay","drawSpecialInfo","specialInfo","playDeck","colors","textColor","activateInfo","tc","toUpperCase","join","cancelInfo","endX","endY","Promise","card","createCard","drawDeck","startX","startY","match","drawColorChoser","choosingColor","resolveFunction","colorChooser","chooseColor","staticApp","cardSpriteColumn","cardSpriteRow","cardSpriteReference","wild","Draw4","colorReference","otherReference","handHeight","drawable","createDeck","flip","awaitDraw","cancelDraw","createHand","createLeaderboard","drawAnnouncement","configureStartGameMessage","configureUnoMessage","drawEmote","drawAddBot","drawEndGame","endGame","restartText","activateEndGame","tutorial","showTutorial","addBot","startAddBot","cancelAddBot","emoteChooser","emoteText","timeInterval","emote","emoji","clearInterval","actionFunction","actionalPanel","turnIndicator","updateTurnIndicator","turn","numberOfLoops","fadeOut","fadeIn","updateLeaderboard","players","verifyFunction","onSelect","playerHand","action","slice","offSetY","updateCards","awaitSelection","vf","cancelSelection","deckCardOption","deck","back","flipped","changeToBack","changeClipImage","changeToFront","flipAnimation","announcementQueue","announcmentPerpetual","onAnnouncementPerpetual","onAnnoucementChanged","announcement","annoucementText","fadeOutThenFadeIn","updateAnnouncement","uno","UNO","startGameObject","activated","initiateStartGameMessage","turnOffStartGameMessage","io","Controller","canvasref","canvasstatic","userid","CopyLink","LeaveGame","view","drawTutorial","socket","connect","query","emit","verify","currentTopCard","color2","action2","m","oldModel","inGame","onTurn","then","newAnnoucements","feed","newDirectives","directives","username","oldPlayer","JSON","stringify","message","addToAnnoucementQueue","code","user","otherinfo","latestDraw","cards","animateToPlayer","animateToLeaderBoard","oldCard","newCard","on","createActionPanel","RestartGame","drawEmoteChooser","winner","error","changeAnnoucementPerpetual","Game","dispatch","useRef","url","useEffect","current","str","el","select","execCommand","removeChild","cogoToast","success","copyToClipboard","className","alignItems","margin","Join","changeHistory","useState","loading","setLoading","joinGame","data","maxWidth","fontFamily","Logo","boxShadow","initialValues","onSubmit","handleSubmit","handleChange","handleBlur","onChange","onBlur","top","css","create","Checkbox","props","field","form","checked","includes","nextValue","filter","setFieldValue","concat","displayname","Landing","withRouter","history","createGame","houseRule","values","Content","pathname","window","location","path","exact","component","App","store","Boolean","hostname","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","module","exports","baseAPI","baseURL","post"],"mappings":"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","file":"static/js/main.6ca276ca.chunk.js","sourcesContent":["const {createStore} = require('redux')\n\nconst token = localStorage.getItem('token')\nconst id = localStorage.getItem('id')\nconst playerid = parseInt(localStorage.getItem('playerid'))\nconst defaultState = {\n    token,id,playerid,tempJoinID:null,joined:false,\n    loggedIn:!!token,\n}\n\nconst reducer = (state=defaultState,{id,playerid,token,type,tempJoinId})=>{\n    switch(type){\n        case 'LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true}\n        case 'JOIN_LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true,joined:true}\n        case 'LOG_OUT':\n            localStorage.removeItem('token')\n            localStorage.removeItem('id')\n            localStorage.removeItem('playerid')\n            return {...state,id:null,token:null,playerid:null,loggedIn:false}\n            case 'LOG_OUT_WITH_TEMP_JOIN':\n                localStorage.removeItem('token')\n                localStorage.removeItem('id')\n                localStorage.removeItem('playerid')\n                return {...state,id:null,token:null,playerid:null,loggedIn:false,tempJoinId:state.tempJoinId||tempJoinId}\n        case 'SET_TEMP_JOIN':\n            console.log(tempJoinId)\n            return {...state,tempJoinId}\n        case 'JOINED':\n            return {...state,joined:true}\n        default:\n            return{...state}\n    }\n}\n\nconst Store = createStore(reducer)\n\nexport default Store","import _ from 'lodash'\n\nconst random = (high,low) => {return Math.round(Math.random()*(high-low+1) + low);}\n\t\nconst mergeDefaultPropertyObject = (p,d,o)=>{\n\tfor(var prop in d){\n\t\tif(typeof p == 'object'){\n\t\t\tif(typeof p[prop] === 'function') o[prop] = p[prop]\n\t\t\telse if(typeof p[prop] != 'undefined') o[prop] = _.cloneDeep(p[prop]);\n\t\t\telse o[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t\telse{\n\t\t\to[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t}\n}\n\n//<---------------------GEOMETRIC FUNCTION-------------------->\n\nconst findQuadrant = (angle) => {\n\tif(angle < 90 && angle > 0) return 1;\n\tif(angle > 90 && angle < 180) return 2;\n\tif(angle > 180 && angle < 270) return 3;\n\tif(angle > 270 && angle < 360) return 4;\n}\n\nconst findDistance2Point = (x1,y1,x2,y2)=>Math.sqrt(Math.pow((x1-x2),2) + Math.pow((y1-y2),2))\n\n\nconst findAngle2Point = function(x1,y1,x2,y2){\n\t//CHECK SPECIAL CASES\n\tif(x1===x2&&y1===y2) return 0;\n\tif(x1===x2){\n\t\tif(y1 < y2) return 270;\n\t\tif(y1 > y2) return 90;\n\t} \n\tif(y1===y2){\n\t\tif(x1<x2) return 0;\n\t\tif(x2<x1) return 180;\n\t}\n\n\t//FIND QUADRANT\n\tvar dx = x2-x1; var dy = y2-y1;\n\tvar tan = Math.atan((-dy)/dx);\n\n\tif(x1<x2&&y1>y2) return radToDeg(tan);//QUADRANT 1\n\tif(x1>x2&&y1>y2) return\t180 + radToDeg(tan); //QUADRANT 2\n\tif(x1>x2&&y1<y2) return 180 + radToDeg(tan);//QUADRANT 3\n\tif(x1<x2&&y1<y2) return 360 + radToDeg(tan);//QUADRANT 4\n}\n\nconst radToDeg = (rad) => (rad*180)/Math.PI;\n\nconst degToRad = (deg) => (deg*Math.PI)/180;\n\nconst rotatePoint = (cx,cy,x,y,deg) => (deg===0||deg===360)? [x,y]: calculateRotatePoint(cx,cy,findAngle2Point(cx,cy,x,y)+deg,findDistance2Point(cx,cy,x,y));\n\nconst calculateRotatePoint = function(cx,cy,r,d){\n\tconst rad = degToRad(r);\n\n\t//IF IT'S IN SPECIAL CASE\n\tconst angleIndex = [0,90,180,270,360];\n\tconst coeffIndex = [[1,0],[0,1],[-1,0],[0,-1],[1,0]];\n\tif(angleIndex.indexOf(r) !== -1){\n\t\tconst coeff = coeffIndex[angleIndex.indexOf(r)];\n\t\treturn [cx+coeff[0]*d,cy-coeff[1]*d];\n\t}\n\treturn [cx + Math.cos(rad)*d, cy - Math.sin(rad)*d];\n}\n\n\n//<----------------------SEGMENT INTERSECTION, USED FOR OBJECT COLLISION------------------------------>\nlet findIntersection = function(s1,s2){\n\t//FIND CONSTRAINS FOR USE BEFORE INTERSECTION FUNCTION\n\tlet [x11,y11,x12,y12] = s1\n\tlet [x21,y21,x22,y22] = s2\n\tif(Math.round(x11) === Math.round(x12) || Math.round(x21) === Math.round(x22)){\n\t\t[x11,y11] = rotatePoint(0,0,x11,y11,30);\n\t\t[x12,y12] = rotatePoint(0,0,x12,y12,30);\n\t\t[x21,y21] = rotatePoint(0,0,x21,y21,30);\n\t\t[x22,y22] = rotatePoint(0,0,x22,y22,30);\n\t}\n\n\n\tconst minX1 = Math.min(x11,x12); const maxX1 = Math.max(x11,x12);\n\tconst minX2 = Math.min(x21,x22); const maxX2 = Math.max(x21,x22);\n\n\tconst slope1 =(y11-y12)/(x11-x12); \n\tconst slope2 =(y21-y22)/(x21-x22);\n\tconst coeff1 = -(x11*slope1) + y11;\n\tconst coeff2 = -(x21*slope2) + y21;\n\n\tif(slope1===slope2) return false;\n\tconst x = (coeff2 - coeff1)/(slope1 - slope2);\n\tconst y = slope1*x + coeff1;\n\tif(((x>minX1)&&(x<maxX1))&&((x>minX2)&&(x<maxX2))) return [x,y];\n\treturn false;\n}\n\n\n//<--------------------------OTHER SEGMENT FUNCTION------------------------------>\nconst findAngle3Point = (cx,cy,x1,y1,x2,y2) => Math.abs(findAngle2Point(cx,cy,x2,y2) - findAngle2Point(cx,cy,x1,y1))\n\n//FIND THE 'HEIGHT' OF A POINT TO A SEGMENT\nconst findClosestPoint = function(x,y,s){\n\tconst [x1,y1,x2,y2] = s\n\n\tlet angle = findAngle3Point(x1,y1,x,y,x2,y2);\n\tconst d = findDistance2Point(x,y,x1,y1);\n\n\tconst d1 = Math.abs(d*Math.cos(degToRad(angle)));\n\tconst d2 = Math.sqrt(Math.pow(d,2) - Math.pow(d1,2));\n\n\tif(d1 > findDistance2Point(x1,y1,x2,y2)) return false;\n\n\tangle = degToRad(findAngle2Point(x1,y1,x2,y2));\n\tconst xh = x1 + Math.cos(angle) * d1; \n\tconst yh = y1 - Math.sin(angle) * d1;\n\treturn [xh,yh,d2];\n}\n\nconst changeByDotNotation = (propertyString,object,value) => {\n\tconst propertyArray = propertyString.split(\".\")\n\tlet objectLink = object\n\tpropertyArray.forEach((e,i)=>{\n\t\tif (i === propertyArray.length - 1){\n\t\t\tif(Array.isArray(objectLink)) objectLink[parseInt(e)] = value\n\t\t\telse objectLink[e] = value\n\t\t}\n\t\telse{\n\t\t\tif(Array.isArray(objectLink)) objectLink = objectLink[parseInt(e)]\n\t\t\telse objectLink = objectLink[e]\n\t\t}\n\t})\n}\n\nconst getByDotNotation = (propertyString,object)=>{\n\tconst propertyArray = propertyString.split(\".\")\n\tlet value = object\n\tpropertyArray.forEach(e=>{\n\t\tif(Array.isArray(value)) value = value[parseInt(e)]\n\t\telse value=object[e]\n\t})\n\treturn value\n}\n\nexport {findClosestPoint,findAngle3Point,findAngle2Point,findIntersection,calculateRotatePoint,random,\nmergeDefaultPropertyObject,findQuadrant,findDistance2Point,radToDeg,degToRad,rotatePoint,changeByDotNotation,getByDotNotation}","/* eslint-disable no-fallthrough */\n/* eslint-disable no-unused-vars */\n//LIGHT LIBRARY IS DEVELOPED BY LONG TRAN\n//COPYRIGHT 2020, ALL RIGHTS RESERVED\n\nimport {getByDotNotation, changeByDotNotation , mergeDefaultPropertyObject, findDistance2Point, findIntersection, rotatePoint, degToRad, findAngle2Point ,findClosestPoint, calculateRotatePoint, radToDeg} from './util/util'\n\nlet lght = {};\n\n//Config\nlght.inputReference = {};\nlght.inputReference.movementIndex = \n    ['w','a','s','d','ArrowUp','ArrowLeft','ArrowDown','ArrowRight'];\n\nlght.inputReference.coeffIndex = \n    [[0,-1],[-1,0],[0,1],[1,0],[0,-1],[-1,0],[0,1],[1,0]];\n\nlght.defaultAppConfig = {\n    initFunctions:[\"visualInit\",'mouseInputInit'],\n    animateFunctions:[\"animate\",\"update\",\"render\"],\n    lastFrame:undefined,\n    constantRender:true,\n    background:\"black\",\n    pixelDensity:1\n}\n\nlght.defaultObjectProps = {\n    shapes:[],\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    initFunctions:[\"createPreloader\"],\n    static:true,\n    x:0,y:0,\n    rotation:0, \n    positionIndicator:false,\n    display:true,opacity:1,\n    mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[],\n    zIndex:0\n}\n\nlght.defaultStorageProps = {\n    spacing:0,\n    direction:'row',\n    model:[]\n}\n\nlght.defaultShapeOptions = {\n    kind:\"rect\",\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    x:0,y:0,rotation:0,scaleX:1,scaleY:1,\n    color:\"black\",display:true,\n    lineWidth:1, opacity:1,\n    borderColor:'yellow',\n    borderWidth:10,\n    border:false, borderOnly:false,\n    shadow:null,mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[]\n}\n\nlght.defaultRectOptions = {\n    w:0,h:0,clip:false,\n    clipImageLink:null,clipCanvas:null,\n    clipSpriteSheetX:null,clipSpriteSheetY:null,\n    spriteLengthX:null,spriteLengthY:null\n}\n\nlght.defaultArcOptions = {\n    rad:0, arcDegree:360,\n}\n\nlght.defaultTextOptions = {\n    textAlign:'left',\n    font:'10px Ariel',\n    text:'Hello World'\n}\n\nlght.defaultImgOptions = {\n    spriteLink:null,\n    drawWidth:null,drawHeight:null,\n    loadedFunction:undefined\n}\n\nlght.defaultPolyOptions = {\n    points:[],\n    specialPolygon:false,\n    numberOfSide:0,\n    radius:10,\n    clip:false,\n    clipImageLink:null\n}\n\nlght.defaultLineOptions = {\n    points:[]\n}\n\n//Main\nlght.apps = [];\n\nlght.gameloop = {\n    list:[],\n    frameTime:undefined,\n    lastFrame:undefined\n};\n\nlght.gameloop.loop = (time)=>{\n    requestAnimationFrame(lght.gameloop.loop);\n\n    for(var i = 0;i<lght.gameloop.list.length;i++){\n        lght.gameloop.list[i](lght.apps[i]);\n    }\n    \n    if(time!==undefined){\n        lght.lastFrame = lght.frameTime;\n        lght.frameTime = time;\n    }\n}\n\n\n\nlght.gameloop.loop();\n\nlght.app = function(elem,options) {\n\n    this.options = {};\n    mergeDefaultPropertyObject(options,lght.defaultAppConfig,this.options)        \n    this.canvas = elem;\n    this.options.initFunctions.forEach((e)=>this[e]())\n    \n    this.objects = []\n    this.index = lght.gameloop.list.length\n    lght.gameloop.list.push((this.options.constantRender)?this.turnFunctions:()=>{})\n    lght.apps.push(this);\n}\n\nlght.app.prototype.turnFunctions = (obj)=>{\n    obj.options.animateFunctions.forEach((e)=>obj[e]())\n}\n\nlght.app.prototype.kill = function(){\n    this.objects.forEach(e=>{\n        e.shapes.forEach(f=>f.kill())\n        e.kill()\n    })\n    this.killed = true\n    lght.gameloop.list.splice(this.index,1)\n    lght.apps.splice(this.index,1)\n    \n}\n\nlght.app.prototype.update = function(){\n    this.objects.forEach(e => {\n        if(typeof e.update === 'function') e.update(e)\n    });\n}\n\nlght.app.prototype.translateMouseCoor = function(e){\n\tvar x;\n\tvar y;\n\tif (e.pageX || e.pageY) { \n\t\tx = e.pageX;\n\t\ty = e.pageY;\n\t}\n\telse { \n\t\tx = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft; \n\t\ty = e.clientY + document.body.scrollTop + document.documentElement.scrollTop; \n\t} \n\tx -= this.canvas.offsetLeft;\n\ty -= this.canvas.offsetTop;\n\treturn [x*this.pixelDensity,y*this.pixelDensity];\n}\n\n//Object\n\n//TOTAL OBJECT COUNT, USED TO PRODUCE ID\nlght.objectCount = 0;\n\nlght.object = class {\n    constructor(property,parent){\n        lght.objectCount++\n        this.id = lght.objectCount;\n        this.parent = parent;\n        this.parent.objects.push(this)\n        mergeDefaultPropertyObject\n        (property,lght.defaultObjectProps,this);    \n        this.initFunctions.forEach((e)=>this[e]())        \n        this.name = (property.objectName)?property.objectName:`Object ${this.id}`\n    }\n    \n    kill(){\n        this.parent.objects.splice(this.parent.objects.indexOf(this),1)\n    }\n\n    collide(obj){\n        for(let s1 of this.shapes){\n            for (let s2 of obj.shapes){\n                if(s1.collide(s2)) return true\n            }\n        }\n\n        return false\n    }\n\n    pointInObject(x,y){\n        for(let s1 of this.shapes){\n           if(s1.pointInShape(x,y)) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let xs = []\n        let ys = []\n        this.shapes.forEach(s=>{\n            let [minX,maxX,minY,maxY] = s.findMax()\n            xs = [...xs,minX,maxX]\n            ys = [...ys,minY,maxY]\n        })\n        return [Math.min(...xs),Math.max(...xs),Math.min(...ys),Math.max(...ys)]\n    }\n\n    findThePositionThatIsRelativeToThisObjectFromAbsolutePosition(x,y){\n        return [x-this.x,y-this.y]\n    }\n}\n\nlght.storage = class extends lght.object{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultStorageProps,this)\n        this.storageShapes = []\n        this.model = property.model || []\n        this.elementFunction = property.elementFunction || null\n        this.updateToModel()\n    }\n    updateToModel(){\n        let model =[...this.model]\n        this.storageShapes.forEach(e=>{e.kill();})\n        this.storageShapes = []\n        if(!model.length) return\n        if(!this.elementFunction) return\n        let shape\n        let totalLength\n        switch(this.direction){\n            case 'row-reverse':\n                model.reverse()\n            case 'row':\n                shape = this.elementFunction(model[0],0)\n                const w = shape.width\n                shape.kill()\n                totalLength = w*model.length + this.spacing*(model.length-1)\n                const firstX = -totalLength/2 + 0.5*w\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.x = firstX + i*w + i*this.spacing\n                })\n                break;\n            case 'column-reverse':\n                model.reverse()\n            case 'column':\n                shape = this.elementFunction(model[0],0)\n                const h = shape.height\n                shape.kill()\n                totalLength = h*model.length + this.spacing*(model.length-1)\n                const firstY = -totalLength/2 + 0.5*h\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.y = firstY +( i*h) + (i*this.spacing)\n                })\n                break\n            default:\n                break;\n        }\n        this.updateVisual()\n\n    }\n}\n\nlght.spriteLinkReference = []\nlght.spriteImageReference = []\nlght.funcLists = []\n\nlght.sprite = (link,func)=> {\n    const index = lght.spriteLinkReference.indexOf(link)\n    if(index !== -1){\n        const image = lght.spriteImageReference[index]\n        lght.funcLists[index].push(func)\n        if(image.complete) requestAnimationFrame(func)\n        return image\n    }\n    else{\n        const image = new Image()\n        const id = lght.spriteImageReference.length\n        image.onload = ()=>{\n            lght.funcLists[id].forEach(e=>e())\n        }\n        lght.funcLists[id] = []\n        lght.funcLists[id].push(func)\n        image.src = link\n        lght.spriteLinkReference.push(link)\n        lght.spriteImageReference.push(image)\n        return image\n    }\n}\n\nlght.sound = class{\n    constructor(link,loop){\n        this.elem = document.createElement('audio')\n        this.elem.oncanplaythrough = ()=>{\n            this.loaded = true\n            this.updateQueue()\n        }\n        this.elem.loop = loop\n        this.elem.volume = 0.2\n        this.elem.src = link\n        this.elem.setAttribute('preload','auto')\n        this.elem.setAttribute('controls','none')\n        this.elem.style.display = 'none'\n        document.body.appendChild(this.elem)\n        this.queue = 1\n        this.running = false\n        this.loaded = false\n    }\n    updateQueue(){\n        if(!this.running && this.queue && this.loaded && !lght.mute){\n            this.running = true\n            this.elem.play()\n            setTimeout(()=>{\n                this.running = false\n                this.updateQueue()\n            },this.elem.duration + 300)\n            this.queue--\n        }\n    }\n    addToQueue(){\n        this.queue++\n        this.updateQueue()\n    }\n}\n\nlght.audioReference = []\nlght.audioLinkReference = []\nlght.playSound = (src,loop)=>{\n    if(lght.audioLinkReference.indexOf(src)<0){\n        const sound = new lght.sound(src,loop)\n        lght.audioReference.push(sound)\n        lght.audioLinkReference.push(sound)\n    }\n    else lght.audioReference[lght.audioLinkReference.indexOf(src)].addToQueue()\n}\nlght.stopAll = ()=>{\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>{\n        e.pause()\n    })\n}\nlght.muteAll = ()=>{\n    lght.mute = true\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=true)\n}\nlght.unmuteAll = ()=>{\n    lght.mute = false\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=false)\n    lght.audioReference.forEach(e=>{if(e.elem.loop) e.addToQueue()})\n}\n\nlght.shape = class {\n    constructor (property,parent) {\n        this.kind = property.kind\n        this.parent = parent;\n        this.parent.shapes.push(this);\n        mergeDefaultPropertyObject\n        (property,lght.defaultShapeOptions,this);\n    }\n\n    kill (){\n        const index = this.parent.shapes.indexOf(this)\n        if(index<0) return\n        this.parent.shapes.splice(index,1);\n        this.parent.updateVisual()\n    }\n\n    get absoluteX(){\n        return this.x + this.parent.x\n    }\n\n    get absoluteY(){\n        return this.y + this.parent.y\n    }\n\n    get hasBorder(){\n        return this.border||this.borderOnly\n    }\n\n    get width(){\n        return (((this.hasBorder)?(this.w + this.borderWidth):this.w))*this.scaleX\n    }\n\n    get height(){\n        return ((this.hasBorder)?this.h + this.borderWidth:this.h)*this.scaleY\n    }\n\n    get outOfBound(){\n        let [minX,maxX,minY,maxY] = this.findMax();\n        let {width,height} = this.parent.parent.canvas;\n        return (minX > width || maxX < 0 || minY > height || maxY < 0) \n    }\n\n    findVertex(){\n        return []\n    }\n\n    findMax(){\n        const vertex = this.findVertex()\n        const xs = []\n        const ys = []\n\n        vertex.forEach(([x,y])=>{\n            xs.push(x); ys.push(y)\n        })\n\n        let offsetMinX = - this.borderWidthIfBorderIsOn \n        let offsetMaxX = this.borderWidthIfBorderIsOn \n        let offsetMinY = - this.borderWidthIfBorderIsOn \n        let offsetMaxY = this.borderWidthIfBorderIsOn \n\n        if(this.shadow){\n            let shadowOffsetMinX = -this.shadow.blur -2\n            let shadowOffsetMaxX = this.shadow.blur + 2\n            let shadowOffsetMinY = -this.shadow.blur -2\n            let shadowOffsetMaxY = this.shadow.blur +2\n            if(this.shadow.offsetX){\n                shadowOffsetMinX += this.shadow.offsetX\n                shadowOffsetMaxX += this.shadow.offsetX\n            }\n            if(this.shadow.offsetY){\n                shadowOffsetMinY += this.shadow.offsetY\n                shadowOffsetMaxY += this.shadow.offsetY\n            }\n            if(shadowOffsetMinX<0) offsetMinX += shadowOffsetMinX\n            if(shadowOffsetMaxX>0) offsetMaxX += shadowOffsetMaxX\n            if(shadowOffsetMinY<0) offsetMinY += shadowOffsetMinY\n            if(shadowOffsetMaxY>0) offsetMaxY += shadowOffsetMaxY\n        }\n\n        return [\n            Math.min(...xs) + offsetMinX,\n            Math.max(...xs) + offsetMaxX,\n            Math.min(...ys) + offsetMinY,\n            Math.max(...ys) + offsetMaxY\n        ]\n    }\n\n    get borderWidthIfBorderIsOn(){\n        if(this.border||this.borderOnly) return this.borderWidth\n        return 0\n    }\n\n    pointInShape(x,y){\n        let sides = this.findSides()\n        const [minX,maxX,minY,maxY] = this.findMax()\n        let distance = findDistance2Point(x,y,maxX,maxY)\n        let compareSide = [x,y,x+distance,y]\n        let intersect = 0\n        if(x>maxX||x<minX||y>maxY||y<minY) return false\n        sides.forEach(e=>{\n            if(findIntersection(e,compareSide)) intersect++\n        })\n        return !(intersect%2 === 0)\n    }\n\n    findSides(){\n        let vertex = this.findVertex()\n        let result = []\n        for(let i = 0;i<vertex.length;i++){\n            result.push([...vertex[i],...((vertex[i+1])?vertex[i+1]:vertex[0])])\n        }\n        return result\n    }\n\n    collide(shape){\n        if(shape.kind==='arc') return shape.collide(this)\n        let [maxX1,minX1,maxY1,minY1] = this.findMax()\n        let [maxX2,minX2,maxY2,minY2] = shape.findMax()\n        if (((minX1 < minX2) && (maxX1 > maxX2) && (minY1<minY2) && (maxY1>maxY2)) || ((minX2 < minX1) && (maxX2 > maxX1) && (minY2<minY1) && (maxY2>maxY1))) return true\n\n        let side1 = this.findSides()\n        let side2 = shape.findSides()\n\n        for (let s1 of side1){\n            for (let s2 of side2){\n                if(findIntersection(s1,s2)) return true\n            }\n        }\n        return false\n    }\n}\n\nlght.rect = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultRectOptions,this)\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.arc = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultArcOptions,this)\n    }\n\n    get radius(){\n        return (this.hasBorder)?this.rad + this.borderWidth : this.rad\n    }\n\n    get minAngle(){\n        return this.rotation\n    }\n\n    get maxAngle(){\n        return this.rotation + this.arcDegree\n    }\n\n    get minRadAngle(){\n        return degToRad(this.minAngle)\n    }\n\n    get maxRadAngle(){\n        return degToRad(this.maxAngle)\n    }\n\n    get pureCircle(){\n        return this.arcDegree===360\n    }\n\n    pointInShape(x,y){\n        var angle = findAngle2Point(this.absoluteX,this.absoluteY,x,y)\n        if (angle>this.minAngle && angle<this.maxAngle){\n            if(findDistance2Point(this.absoluteX,this.absoluteY,x,y)<=this.radius) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let result = [this.absoluteX-this.radius,this.absoluteX+this.radius,this.absoluteY-this.radius,this.absoluteY+this.radius]\n        let xs = [this.absoluteX,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius]\n        let ys = [this.absoluteY,this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        if(!this.pointInShape(result[0],this.absoluteY)) result[0] = Math.min(...xs) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(result[1],this.absoluteY)) result[1] = Math.max(...xs) + this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[2])) result[2] = Math.min(...ys) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[3])) result[3] = Math.max(...ys) + this.borderWidthIfBorderIsOn/2;\n        return result\n    }\n\n    findVertex(){\n        let [minX,maxX,minY,maxY] = this.findMax()\n        let referenceX = [this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteX+this.radius,this.absoluteX-this.radius,this.absoluteX]\n        let referenceY = [this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius,this.absoluteY+this.radius,this.absoluteY-this.radius,this.absoluteY]\n\n        return [\n            [minX,referenceY[referenceX.indexOf(minX)]],\n            [maxX,referenceY[referenceX.indexOf(maxX)]],\n            [referenceX[referenceY.indexOf(minY)],minY],\n            [referenceX[referenceY.indexOf(maxY)],maxY],\n        ]\n    }\n\n    fidnSides(){\n        if(this.arcDegree === 360) return false\n        return [\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.minRadAngle)*this.radius],\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        ]\n    }\n\n    collide(shape){\n        let vertex1 = this.findVertex()\n        let vertex2 = shape.findVertex()\n\n        for(let [x,y] of vertex1){\n            if(shape.pointInShape(x,y)) return true\n        }\n        for(let [x,y] of vertex2){\n            if(this.pointInShape(x,y)) return true\n        }\n        if(shape.kind==='arc'){                \n            //when checking for intersection between 2 arcs, there are 2 cases\n            //Case 1: they are both circles. In this case the distance between the 2 center have to be smaller or equal to\n            //sum of radius for them to intersect\n\n            if(this.pureCircle && shape.pureCircle){\n                return findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) <= this.radius + shape.radius\n            }\n\n            //Case 2: either of them are arcs\n            //In these cases, there are 2 scenarios\n            //Scenario 1: one of the vertexes will be inside the circle, this is easy to check\n            //Scenario 2: none of the vertex is inside the circle. There is only one possible explanation for this. In this case, check if \n            //the \"ray\" that connect the 2 center is inside both arcs, then check that the length of the ray is less than the length of both radius\n\n            if(findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) > this.radius + shape.radius) return false\n\n            let ray1 = findAngle2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY)\n            let ray2 = findAngle2Point(shape.absoluteX,shape.absoluteY,this.absoluteX,this.absoluteY)\n            return ((ray1<this.maxAngle&&ray1>this.minAngle)&&(ray2<shape.maxAngle&&ray2>shape.minAngle))\n        }\n        else{\n            let side = shape.findSides()\n\n            for(let s of side){\n                let closest = findClosestPoint(this.absoluteX,this.absoluteY,s)\n                if(closest){\n                    if (this.pointInShape(closest[0],closest[1])) return true\n                }\n            }\n            return false\n        }\n    }\n}\n\nlght.roundedRectangle = class extends lght.rect{\n    constructor(property,parent){\n        super(property,parent)\n        this.borderRadius = (property.borderRadius) || 0\n        if(this.clip){\n            if(property.clipCanvas){\n                this.clipImage = property.clipCanvas;\n                this.clipCanvas=true\n            }\n            else{\n                this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                    this.parent.updateVisual()\n                })\n            }\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        if(this.clipCanvas) return true\n        return this.clipImage.complete\n    }\n\n    changeClipImage(imageUrl){\n        this.clipImage = lght.sprite(imageUrl,()=>{\n            this.parent.updateVisual()\n        })\n    }\n}\n\nlght.poly = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultPolyOptions,this)\n        if(this.clip){\n            this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                this.parent.updateVisual()\n            })\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        return this.clipImage.complete\n    }\n\n    get polyPoints(){\n        if(!this.specialPolygon) return this.points\n        const radiusCoefficient = 360/this.numberOfSide\n        const result = []\n        for(let i = 0;i<this.numberOfSide;i++){\n            result.push(calculateRotatePoint(0,0,radiusCoefficient*i,this.radius))\n        }\n        return result\n    }  \n\n    get width(){\n        return this.findMax()[1] - this.findMax()[0]\n    }\n\n    get height(){\n        return this.findMax()[3] - this.findMax()[2]\n    }\n\n    get sideLength(){\n        if(!this.specialPolygon) return null\n        const radiusCoefficient = degToRad(360/this.numberOfSide)\n        return Math.sqrt(2*Math.pow(this.radius,2) - 2*Math.pow(this.radius,2)*Math.cos(radiusCoefficient))\n    }\n\n    findVertex(){\n        return this.polyPoints.map(([x,y])=>rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation))\n    }\n}\n\nlght.line = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultLineOptions,this)\n    }\n\n    get rotatedPoints(){\n        return this.points.map(([x,y])=>(rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation)))\n    }\n\n    findVertex(){\n        const result = []\n        const notIncluded = ([x,y]) => {\n            for (const position of result) {\n                const [x2,y2] = position\n                if(~~ (x + 0.5)===~~ (x2+ 0.5) && ~~ (y + 0.5)===~~ (y2+0.5)) return false\n            }\n            return true\n        }\n        const point = [...this.rotatedPoints]\n        point.forEach(([x1,y1],index)=>{\n            if (index===point.length-1) return\n            const [x2,y2] = this.rotatedPoints[index+1]\n            const distance = findDistance2Point(x1,y1,x2,y2)\n            const tan = Math.atan((this.lineWidth/2)/distance)\n            const angle = findAngle2Point(x1,y1,x2,y2)\n            const angleQuadrant = radToDeg(tan)+angle\n            const firstDistance = Math.sqrt(distance*distance + (0.5*this.lineWidth)*(0.5*this.lineWidth))\n            const pointOneInFirstQuadrant = calculateRotatePoint(x1,y1,angleQuadrant,firstDistance)\n            const pointSecondInSecondQuadrant = calculateRotatePoint(...pointOneInFirstQuadrant,180+angle,distance)\n            const pointThreeInThirdQuadrant = calculateRotatePoint(...pointSecondInSecondQuadrant,270+angle,distance)\n            const pointFourInFourthQuadrant = calculateRotatePoint(...pointThreeInThirdQuadrant,angle,distance)\n            if(notIncluded(pointFourInFourthQuadrant)) result.push(pointFourInFourthQuadrant)\n            if(notIncluded(pointOneInFirstQuadrant)) result.push(pointOneInFirstQuadrant)\n            if(notIncluded(pointSecondInSecondQuadrant)) result.push(pointSecondInSecondQuadrant)\n            if(notIncluded(pointThreeInThirdQuadrant)) result.push(pointThreeInThirdQuadrant)\n        })\n        return result\n    }\n}\n\nlght.text = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultTextOptions,this)\n    }\n\n    get textSize(){\n        var c = lght.apps[0].context;\n        c.save();\n        c.font = this.font;\n        var width = c.measureText(this.text).width;\n        var height = c.measureText('gM').width;\n        c.restore();\n        return [width,height];\n    }\n\n    get w(){\n        return this.textSize[0] + this.borderWidthIfBorderIsOn\n    }\n\n    get h(){\n        return this.textSize[1] + this.borderWidthIfBorderIsOn\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,0.5],[1,0.5]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.img = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultImgOptions,this)\n        this.sprite = lght.sprite(this.spriteLink,()=>{\n            if(this.loadedFunction) this.loadedFunction()\n            this.parent.updateVisual()\n        })\n    }\n\n    get imageLoaded(){\n        return this.sprite.complete\n    }\n\n    get w(){\n        if(this.drawWidth) return this.drawWidth\n        if(this.imageLoaded){\n            if(this.drawHeight) return (this.drawHeight*this.sprite.width)/this.sprite.height\n            return this.sprite.width\n        }\n        return 0\n    }\n\n    get h(){\n        if(this.drawHeight) return this.drawHeight\n        if(this.imageLoaded){\n            if(this.drawWidth) return (this.drawWidth*this.sprite.height)/this.sprite.width\n            return this.sprite.height\n        }\n        return 0 \n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\n//Input\n //<--------------KEYBOARD INPUT GO HERE------------------->\n lght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\nlght.app.prototype.startCursor = function(){\n    this.canvas.style.cursor = 'pointer'\n}\n\nlght.app.prototype.endCursor = function(){\n    this.canvas.style.cursor = 'default'\n}\n\nlght.object.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.startCursor(),()=>this.parent.endCursor())\n}\n\nlght.shape.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.parent.startCursor(),()=>this.parent.parent.endCursor())\n}\n\nlght.app.prototype.mouseInputInit = function(){\n    const attachEvent = (e,event)=>{\n        if(this.killed) return \n        const [x,y] = this.translateMouseCoor(e)\n        if(this.objects.length === 0) return\n        for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj[event].length === 0) continue\n            if(!obj.display) continue\n            if(obj.pointInObject(x,y)){\n                for(let func of obj[event])( func(x,y))\n                break;\n            }\n        }\n        LargeLoop:for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj.shapes.length === 0) continue\n            if(!obj.display) continue\n            for(let a = obj.shapes.length;a--;a>=0){\n                const shape = obj.shapes[a]\n                if(shape[event].length === 0) continue\n                if(!shape.display) continue\n                if(shape.pointInShape(x,y)){\n                    for(let func of shape[event]){func(x,y)}\n                    break LargeLoop;\n                }\n            }\n        }\n    }\n\n    this.canvas.addEventListener('mouseup',(e)=>attachEvent(e,'mouseUpEvent'))\n    this.canvas.addEventListener('mousemove',(e)=>attachEvent(e,'mouseMoveEvent'))\n    this.canvas.addEventListener('mousedown',(e)=>attachEvent(e,'mouseDownEvent'))\n}\n\n//PRESS EVENT FOR AN APP\nlght.object.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n}\n\n//MAKE AN OBJECT DRAGGABLE\nlght.object.prototype.makeDraggable = function (func,funcDone) {\n    this.enterCursorEvent()\n    this.onDrag = false; var obj = this; this.draggable = true;\n    var rx = 0; var ry = 0; \n\n    this.mouseDownEvent.push((x,y)=>{\n        if(obj.draggable){\n            if(!obj.onDrag){\n                obj.onDrag = true;\n                rx = x - obj.x; ry = y - obj.y;\n            }\n        }\n    })\n\n    document.addEventListener('mousemove', (e) => {\n        var c = this.parent.translateMouseCoor(e);\n        if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height) obj.onDrag = false\n        if(obj.onDrag){\n            obj.x = c[0] - rx; obj.y = c[1] - ry;\n            obj.updateVisual();\n            if(typeof func == 'function') func(obj);\n        }\n    })\n\n    this.parent.canvas.addEventListener('mouseup', (e) => {\n        if(obj.onDrag){\n            obj.onDrag = false;\n            if(funcDone) funcDone()\n        }\n    })\n}\n\n//HOVER EVENT\nlght.object.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        document.addEventListener('mousemove', (e)=>{\n            var c = this.parent.translateMouseCoor(e);\n            if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.updateVisual()\n                return;\n            }\n            var touch = obj.pointInObject(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.updateVisual()\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.updateVisual()\n            }\n        })\n    }\n}\n\n//INPUT FOR SHAPES\nlght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\n//PRESS EVENT FOR AN APP\nlght.shape.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n}\n\n//HOVER EVENT\nlght.shape.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        document.addEventListener('mousemove', (e)=>{\n            if(!this.display) return\n            var c = this.parent.parent.translateMouseCoor(e);\n            if(c[0] < 0 || c[0] >this.parent.parent.canvas.width || c[1] < 0 || c[1] > this.parent.parent.canvas.height){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n                return;\n            }\n            var touch = obj.pointInShape(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.parent.updateVisual()\n            }\n        })\n    }\n}\n\n//Animation\nlght.app.prototype.animate = function() {\n    if(lght.frameTime !== undefined && lght.lastFrame !== undefined){\n        let timeDifference = lght.frameTime - lght.lastFrame\n        this.objects.forEach(e => {\n            e.animate(timeDifference);\n            e.shapes.forEach(a => {\n                a.animate(timeDifference)\n            })\n        });\n    }\n}\n\nconst addAnimation = function(property,value,time,func){\n    this.animationCount++;\n    let id = this.animationCount;\n\n    let timeout = setTimeout(()=>{\n        changeByDotNotation(property,this,value)\n        this.cancelAnimation(id)\n        if(this.parent.static !== undefined) this.parent.static = true\n        else this.static = true\n        if(func) func();\n    },time)\n\n    const alreadyAnimated = this.animations.find((animation)=>animation[0] === property)\n    if(alreadyAnimated){\n        this.cancelAnimation(alreadyAnimated[6])\n    }\n    if(property !== 'x' && property !== 'y'){\n        if(this.parent.static !== undefined) this.parent.static = false\n        else this.static = false\n    }\n    this.animations.push([property,value,getByDotNotation(property,this),time,timeout,func,id]);\n    return id;\n}\n\nconst cancelAnimation = function(){\n    for(let id of [...arguments]){\n        let animation = this.animations.find(e=>e[6] === id)\n        let index = this.animations.findIndex(e=>e[6]===id)\n        if(!animation) return false\n        clearTimeout(animation[4])\n        this.animations.splice(index,1)\n    }\n}\n\nconst animate = function (time){\n    let obj = this\n    this.animations.forEach(animation=>{\n        let [property,value,init,timeUp] = animation\n        let newValue = getByDotNotation(property,obj) + (time/timeUp)*(value-init)\n        if(init < value && newValue > value) newValue = value\n        if(init>value && newValue < value) newValue = value\n        changeByDotNotation(property,obj,newValue)\n    })\n}\n\nlght.animateFunctionReference = {\n    animate,\n    addAnimation,\n    cancelAnimation,\n}\n\nfor(var prop in lght.animateFunctionReference){\n    lght.object.prototype[prop] = lght.animateFunctionReference[prop];\n    lght.shape.prototype[prop] = lght.animateFunctionReference[prop];\n}\n\n//Draw\nlght.app.prototype.render = function(){\n    this.clearCanvas();\n    this.fillBackground();\n    this.renderShape();\n}\n\nlght.app.prototype.visualInit = function(){\n    this.backgroundColor = this.options.background;\n    this.context = this.canvas.getContext(\"2d\");\n}\n\nlght.app.prototype.renderShape = function(){\n    this.renderPositions();\n\n    this.objects.sort((a,b)=>a.zIndex -b.zIndex).forEach(obj=>{\n        obj.draw();\n    })\n}\n\n//<-------------------BASIC CANVAS STUFF---------------------->\n//CLEARING CANVAS AND BACKGROUND COLOR\nlght.app.prototype.clearCanvas = function(){\n    this.context.save(); \n    this.context.clearRect(0,0,this.canvas.width,this.canvas.height); \n    this.context.restore();\n}\n\nlght.app.prototype.fillBackground = function(){\n    if(this.backgroundColor!=='none'){\n        this.context.save(); \n        this.context.fillStyle = this.backgroundColor;\n        this.context.fillRect(0,0,this.canvas.width,this.canvas.height);\n        this.context.restore();\n    }\n}\n\n/*POSITION INDICATOR FUNCTIONS GO HERE\nDraw all position indicators at once to save performance from context state change*/\nlght.app.prototype.renderPositions = function(){\n    this.context.save();\n    this.context.fillStyle = 'red';\n\n    this.objects.forEach(({x,y,positionIndicator}) => {\n        if(!positionIndicator) return\n        this.context.beginPath()\n        this.context.arc(x,y,5,0,2*Math.PI)\n        this.context.closePath()\n        this.context.fill()\n    });\n    \n    this.context.restore();\n}\n\n\n/* SHAPE PRERENDERING FUNCTIONS GO HERE\nShape prerendering prerender shapes on canvases to save performance*/\n\nlght.object.prototype.updateVisual = function(){\n    //If the dimension changes a new canvas have to be created\n    var max = this.findMax();\n    for(var i = 0;i<max.length;i++){\n        if(~~ (max[i] + 0.5)!== ~~ (this.preloader.maxes[i] + 0.5)){\n            this.createPreloader(); return;\n        }\n    }\n\n    this.clearPreloader();\n\n    this.shapes.forEach(s=>{\n        let x = this.preloader.ox + s.x\n        let y = this.preloader.oy + s.y\n        lght.drawShape(this.preloader.context,x,y,s,)\n    })\n    if(!this.parent.options.constantRender) this.parent.turnFunctions(this.parent)\n}\n\nlght.object.prototype.clearPreloader = function(){\n    this.preloader.context.clearRect(0,0,this.preloader.width,this.preloader.height);\n}\n\nlght.object.prototype.createPreloader = function(){\n    this.preloader = document.createElement('canvas');\n    \n    this.preloader.maxes = this.findMax();\n    let [minX,maxX,minY,maxY] = this.preloader.maxes\n\n    this.preloader.width = maxX-minX;\n    this.preloader.height = maxY-minY;\n\n    this.preloader.ox = this.x - minX;\n    this.preloader.oy = this.y - minY;\n\n    this.preloader.context = this.preloader.getContext('2d');\n\n    this.updateVisual();\n}\n\nlght.object.prototype.drawPreloader = function(){\n    if(!this.display) return\n    if(this.preloader.width >0 && this.preloader.height > 0){\n        let x = this.preloader.maxes[0] + this.preloader.width/2;\n        let y = this.preloader.maxes[2] + this.preloader.height/2;\n        x = ~~(x+0.5); y = ~~(y+0.5);\n\n        this.parent.context.save()\n        this.parent.context.translate(x,y)\n        lght.drawImg(this.parent.context,this.preloader,this.preloader.width,this.preloader.height);\n        this.parent.context.restore()\n    }\n}\n\n\n//<------------------SHAPE DRAWING FUNCTION---------------->\nlght.object.prototype.draw = function(){\n    if(!this.display) return\n    this.shapes.forEach(s=>{\n        lght.drawShape(this.parent.context,this.x+s.x,this.y+s.y,s)\n    })\n}\n\n//MASTER FUNCTION\nlght.drawShape = function(c,x,y,shape){\n    x = ~~(x+0.5)\n    y = ~~(y+0.5)\n    if(!shape.display) return\n    if(shape.border || shape.borderOnly) this.drawShapeKind(c,shape,x,y,true,1,shape.borderColor,shape.shadow);\n    else if(!shape.borderOnly && !shape.border) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color,shape.shadow);\n    if(!shape.borderOnly) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color);\n}\n\nlght.drawShapeKind = function(c,s,x,y,stroke,opacity,color,shadow){\n    opacity = opacity * s.parent.opacity;\n    if(opacity == 0 || opacity <0 ) return\n\n    c.save()\n    c.globalAlpha = opacity\n    c.fillStyle = color\n    c.strokeStyle = color\n    c.lineWidth = s.borderWidth\n    c.translate(x,y)\n    c.scale(s.scaleX,s.scaleY)\n\n    if(shadow){\n        const {color,blur,offsetX,offsetY} = shadow\n        c.shadowColor = color\n        c.shadowBlur = blur\n        c.shadowOffsetX = offsetX\n        c.shadowOffsetY = offsetY\n    }\n\n    switch(s.kind){\n        case 'rect':\n            lght.drawRect(c, s.w, s.h, s.rotation, stroke); break;\n        case 'arc':\n            lght.drawArc(c, s.rad,s.arcDegree,s.rotation, stroke); break;\n        case 'text':\n            lght.drawText(c, s.text,s.font, stroke,s.textAlign ,s.w, s.h,s.rotation); break;\n        case 'img':\n            if(s.imageLoaded) lght.drawImg(c, s.sprite,s.w,s.h,s.rotation); break;\n        case 'poly':\n            lght.drawPoly(c, s.polyPoints,s.rotation, stroke); break;\n        case 'line':\n            if(stroke){\n                const points = s.points.map(((position,index)=>{\n                    const [x,y] = position\n                    if(index === 0){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index+1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else if(index === s.points.length-1){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index-1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else return [x,y]\n                }))\n                lght.drawLine(c,points,s.rotation,s.lineWidth+s.borderWidth);\n            }\n            else lght.drawLine(c,s.points,s.rotation,s.lineWidth); break;\n        case 'roundedRectangle':\n            lght.drawRoundedRectangle(c,s.w,s.h,s.rotation,s.borderRadius,stroke)\n            break\n        default:\n            break\n    }\n    if(s.clip && s.clipImageLoaded){\n        c.clip()\n        c.rotate(degToRad(s.rotation))\n        if(typeof s.clipSpriteSheetX === 'number' && typeof s.clipSpriteSheetY === 'number'){\n            const spriteWidth = s.clipImage.width / s.spriteLengthX\n            const spriteHeight = s.clipImage.height / s.spriteLengthY\n            const clipStartX = s.clipSpriteSheetX * spriteWidth\n            const clipStartY = s.clipSpriteSheetY * spriteHeight\n            c.drawImage(s.clipImage,clipStartX,clipStartY,spriteWidth,spriteHeight,(-s.width/2)/s.scaleX,(-s.height/2)/s.scaleY,s.width/s.scaleX,s.height/s.scaleY)\n        }\n        else c.drawImage(s.clipImage,(-s.width/2)/ s.scaleX,(-s.height/2)/ s.scaleY,s.width / s.scaleX,s.height / s.scaleY)\n    }\n\n    c.restore()\n}\n\n//DRAWING RECTANGLE\nlght.drawRect = function(c,w,h,rotation,stroke){\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.strokeRect(-w/2,-h/2,w,h);\n    else c.fillRect(-w/2,-h/2,w,h);\n}\n\nlght.drawRoundedRectangle = (c,w,h,rotation,borderRadius,stroke)=>{\n    c.rotate(degToRad(360,rotation))\n    c.beginPath()\n    c.moveTo(0,-h*0.5)\n    c.lineTo(-w*0.5+borderRadius,-h*0.5)\n    c.quadraticCurveTo(-w*0.5,-h*0.5,-w*0.5,-h*0.5+borderRadius)\n    c.lineTo(-w*0.5,h*0.5-borderRadius)\n    c.quadraticCurveTo(-w*0.5,h*0.5,-w*0.5+borderRadius,h*0.5)\n    c.lineTo(w*0.5-borderRadius,h*0.5)\n    c.quadraticCurveTo(w*0.5,h*0.5,w*0.5,h*0.5-borderRadius)\n    c.lineTo(w*0.5,-h*0.5+borderRadius)\n    c.quadraticCurveTo(w*0.5,-h*0.5,w*0.5-borderRadius,-h*0.5)\n    c.lineTo(0,-h*0.5)\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\n//DRAWING CIRCLES\nlght.drawArc = function(c,rad,arcDegree,rotation,stroke){\n    c.beginPath();\n\n    const br = degToRad(360 - rotation - arcDegree);\n    const er = degToRad(360 - rotation);\n\n    if(arcDegree < 360){\n        const [x,y] = rotatePoint(0,0,rad,0,360-rotation-arcDegree);\n        c.moveTo(x,y); c.moveTo(0,0);\n    }\n\n    c.arc(0,0,rad,br,er);\n\n    if(stroke) c.stroke();\n    else c.fill();\n    c.closePath();\n\n}\n\n//DRAWING TEXT\n\nlght.drawText = function(c,text,font,stroke,textAlign,width,height,rotation){\n    c.textAlign = textAlign;\n    c.font = font;\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.fillText(text,~~(-width/2 +  0.5),~~(height/3.5 + 0.5));\n    else c.fillText(text,~~(-width/2 + 0.5),~~(height/3.5 + 0.5))\n}\n\n//DRAWING IMAGES\nlght.drawImg = function(c,sprite,w,h,rotation){\n    c.rotate(degToRad(360-rotation));\n    c.drawImage(sprite,-w/2,-h/2,w,h);\n}\n\nlght.drawPoly = (c,points,rotation,stroke) => {\n    if(points.length === 0 || !points) return \n    c.rotate(degToRad(360-rotation))\n    c.beginPath()\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\nlght.drawLine = (c,points,rotation,lineWidth)=>{\n    c.beginPath()\n    c.rotate(degToRad(360-rotation))\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.lineWidth = lineWidth\n    c.stroke()\n}\n\nlght.object.prototype.addShape = function (property) {\n    let shape = new lght[property.kind](property,this);\n    this.updateVisual()\n    return shape\n}\n\nlght.app.prototype.addObject = function (property) {\n    return new lght.object(property,this);\n}\n\nlght.app.prototype.addStorage = function (property){\n    return new lght.storage(property,this)\n}\n\nlght.app.prototype.removeObject = function (obj) {\n    this.objects.splice(this.objects.indexOf(obj),1);\n}\n\nexport default lght","import lght from './lght/lght'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst View = class{\n  constructor(ref,ref2){\n\n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    this.app = new lght.app(ref)\n    this.app.backgroundColor = 'none'\n    this.staticApp = new lght.app(ref2,{constantRender:false})\n    this.staticApp.backgroundColor='none'\n    this.app.pixelDensity = pd\n    this.app.canvas.width = 850*pd\n    this.app.canvas.height = 650*pd\n    this.staticApp.pixelDensity = pd\n    this.staticApp.canvas.width = 850*pd\n    this.staticApp.canvas.height = 650*pd\n    console.log(this.staticApp.canvas)\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/wood.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.positionReference = {\n      leaderBoard:[700*pd,279*pd],\n      drawDeck:[300*pd,279*pd],\n      playDeck:[this.app.canvas.width/2 + 75*pd,279*pd],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',300*pd,279*pd)\n    this.drawDeck.addShape({kind:'text',text:'Draw Here',color:'black',y:85*pd,font:'35px Futura'})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      else resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n            drawable = true\n            resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawEmote()\n    this.drawAddBot()\n    this.drawEndGame()\n    this.drawSoundIcon()\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:800*pd,y:50*pd})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addShape({kind:'roundedRectangle',color:'#ffffed',w:700,h:200,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const text = endGame.addShape({kind:'text',text:'Someone had won the game!',font:'40px Arial Bold',y:-10})\n    let resolveFunction = ()=>{}\n    const restartText = endGame.addShape({kind:'text',text:'New Game',font:'30px Arial Bold',color:'blue',y:50})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    })\n    restartText.pressedEvent(()=>resolveFunction())\n    this.activateEndGame = (name,func)=>{\n      text.text = ` ${name} had won the game! `\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(){\n    const tutorial = this.app.addStorage({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000,direction:'column',spacing:5,})\n    tutorial.addShape({kind:'roundedRectangle',color:'#ffffed',w:750,h:750,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    x.pressedEvent(()=>tutorial.display = false)\n    tutorial.model = [\n      ' Welcome to Uno Online! ',\n      'Some quick pointers:',\n      ' Use \"Copy Link\" from the left to automatically',\n      'get a link you can send to your friends!',\n      ' You can start the game when at least 2 players ',\n      '(including bots) are present. The panel on the left',\n      'show you who is in the game.',\n      ' You can use the emote panel below to piss', \n      'off your friends when playing.',\n      \" And that is it! If you have any feedback\",\n      \"please  me at vietlongali@gmail.com\",\n      \"Have fun!\",\n      \"Love this app? Buy me a beer on \",\n      'Venmo @LongTran123'\n    ]\n    tutorial.elementFunction = (content)=>{\n      const shape = tutorial.addShape({kind:'text',font:'30px Arial Bold',text:content})\n      shape.x = -340 + 0.5*shape.width\n      return shape\n    }\n    tutorial.updateToModel()\n    this.showTutorial = ()=>tutorial.display = true\n  }\n\n  drawAddBot(){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 100*pd})\n    const text = addBot.addShape({kind:'text',font:'35px Arial Bold',text:'Add Bot ',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    })\n    text.pressedEvent(()=>resolveFunction())\n    this.startAddBot = (func)=>{\n      resolveFunction = func\n      addBot.display = true\n    }\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    const emoteChooser = this.app.addStorage({x:250*pd,y:470*pd,spacing:-15,zIndex:-1})\n    emoteChooser.addShape({kind:'roundedRectangle',color:'white',w:370*pd,h:40*pd,borderRadius:10*pd,border:true,borderColor:'black',borderWidth:5,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    emoteChooser.model = ['Emote:','','','','','','']\n    emoteChooser.elementFunction = (content,index)=>{\n      if(!index) return emoteChooser.addShape({kind:'text',text:content,font:'35px Arial Bold'})\n      const shape = emoteChooser.addShape({kind:'text',text:content,font:'35px Arial Bold'})\n      shape.hoverEvent(()=>{\n        shape.font = '50px Arial Bold';\n        emoteChooser.updateVisual()\n      },()=>{\n        shape.font = '30px Arial Bold';\n        emoteChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>func(content))\n      return shape\n    }\n    emoteChooser.updateToModel()\n  }\n\n  drawEmote(){\n    const emoteText = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 170*pd,zIndex:1000})\n    const text = emoteText.addShape({kind:'text',text:\"Someone emote something\",font:'60px Arial Bold',color:'green'})\n    emoteText.addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:100,display:false})\n    let timeInterval = null\n    \n    this.emote = (name,color,emoji)=>{\n      clearInterval(timeInterval)\n      text.text = `${name} emote ${emoji}`\n      text.color = color\n      emoteText.updateVisual()\n      emoteText.display = true\n      text.opacity = 0\n      text.addAnimation('opacity',1,100,()=>{timeInterval = setTimeout(()=>{\n        text.addAnimation('opacity',0,100,()=>{\n          emoteText.display = false\n        })\n        },1000)\n      })\n    }\n  }\n\n  animatePlayerPlay = (content)=>this.animatePlay(content,...this.positionReference.playerDeck)\n  animatePlayerDraw = ()=>this.animateDraw(...this.positionReference.playerDeck)\n  animateLeaderboardDraw = ()=>this.animateDraw(...this.positionReference.leaderBoard)\n  animateLeaderboardPlay = (content)=> this.animatePlay(content,...this.positionReference.leaderBoard)\n\n\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    specialInfo.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:50*pd})\n    const text = specialInfo.addShape({kind:'text',font:'40px Futura',text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    })\n    card.addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n    card.shapes[0].addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction){\n    const actionalPanel = this.app.addStorage({x:100*pd,y:279*pd,spacing:20,direction:'column'})\n    actionalPanel.addShape({kind:'roundedRectangle',w:120*pd,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    actionalPanel.addShape({kind:'text',font:'32px Futura',text:\"Actions:\",y:-60*pd})\n    actionalPanel.model = ['Copy Link','Leave Game','Restart Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addShape({kind:'text',font:'30px Futura',text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      })\n      shape.pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.staticApp.addStorage({x:700*pd,y:279*pd,spacing:10,direction:'column'})\n    leaderBoard.addShape({kind:'roundedRectangle',w:120*pd,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    leaderBoard.addShape({kind:'text',font:'32px Futura',text:\"Turn Board:\",y:-60*pd})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addShape({x:85*pd,kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:10*pd,rotation:180})\n    let color = ['green','red','darkyellow','blue']\n    leaderBoard.elementFunction = (content,i)=>{return leaderBoard.addShape({kind:'text',font:'30px Futura',color:color[i],text:content})}\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn+2]\n      turnIndicator.x = absoluteX + 10*pd\n      turnIndicator.addAnimation('y',absoluteY,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n    this.updateLeaderboard = (players)=>{\n          leaderBoard.model = players\n          leaderBoard.updateToModel()\n          this.staticApp.turnFunctions(this.staticApp)\n    }\n  }\n\n  createHand(){\n    let cards = []\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.app.addStorage({spacing:-70*pd,y:this.app.canvas.height-(handHeight/2),x:this.app.canvas.width/2,model:cards})\n    playerHand.addShape({kind:'rect',color:'brown',w:this.app.canvas.width,h:handHeight})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addShape({borderOnly:true,y:30,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd*1.2,h:145.5*pd*1.2,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n      shape.hoverEvent(()=>{\n        if(verifyFunction(content) && onSelect) shape.borderColor = 'yellow'\n        shape.borderWidth = 5*pd\n        shape.addAnimation('y',-100,200)\n      },()=>{\n        shape.borderColor = 'black'\n        shape.borderWidth = 1.25*pd\n        shape.addAnimation('y',30,200)\n      })\n      shape.pressedEvent(()=>{\n            if(!verifyFunction(content)) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deckCardOption = {kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'}\n    const deck = this.staticApp.addObject({x,y})\n    deck.addShape({x:6*pd,y:-5*pd,...deckCardOption})\n    deck.addShape({x:4*pd,y:-3.75*pd,...deckCardOption})\n    deck.addShape({x:3*pd,y:-2.5*pd,...deckCardOption})\n    deck.addShape({x:1.5*pd,y:-1.25*pd,...deckCardOption})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,display:false})\n    if(back){\n      card.addShape({kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:'assets/back.png',borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addShape({clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.png')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({display:false,zIndex:1000,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,model:colors,spacing:25,direction:'column'})\n    colorChooser.addShape({kind:'roundedRectangle',w:200*pd,h:200*pd,borderRadius:10*pd,color:'white',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    colorChooser.addShape({kind:'text',font:'35px Futura',text:'Choose a color:',y:-85*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addShape({kind:'text',color:textColor[i],font:'30px Futura',text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        colorChooser.updateVisual()\n      },()=>{\n        shape.color = textColor[i]\n        colorChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      this.onAnnouncementPerpetual = false\n      this.onAnnoucementChanged = false\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:this.app.canvas.width/2,y:50*pd,positionIndicator:false})\n      this.annoucementText = this.announcement.addShape({kind:'text',font:'100px Futura',color:'orange',text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else if(this.announcementQueue.length >0) return\n          else if(!this.onAnnouncementPerpetual && this.annoucementText.display) return fadeOut()\n          else if(this.onAnnouncementPerpetual && ((!this.annoucementText.display) || this.onAnnoucementChanged)) return fadeOutThenFadeIn(()=>{\n              let [text,color] = this.announcmentPerpetual\n              this.annoucementText.text = text\n              this.annoucementText.color = color\n          })\n      }\n    }\n\n    changeAnnoucementPerpetual(text,color){\n      this.announcmentPerpetual = [text,color]\n      this.onAnnoucementChanged = true\n      this.updateAnnouncement()\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/18.svg',scaleX:0,scaleY:0})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height-100*pd,display:false})\n      const text = startGameObject.addShape({kind:'text',text:'Start Game',color:'black',font:'50px Futura'})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default View","import View from './view'\nconst io = require('socket.io-client')\nconst axios = require('axios')\nconst _ = require('lodash')\n\nconst Controller = async (canvasref,canvasstatic,token,userid,CopyLink,LeaveGame)=>{\n      let view = new View(canvasref,canvasstatic)\n      view.drawTutorial()\n      let model = null\n      const url = (process.env.NODE_ENV==='production')?'/':'http://localhost:4000'\n      const socket = io.connect(url,{query:{token}})\n      view.showTutorial()\n      const play = (card)=>{\n            socket.emit('Play Card',card)\n      }\n\n      const draw = ()=>{\n            socket.emit('Draw Card')\n      }\n\n      const emote = (emoji)=>{\n            socket.emit('Emote',emoji)\n      }\n      \n      const addBot = ()=>socket.emit('Add Bot')\n\n      const verify = card=>{\n            if(card === 'Wild' || card==='Draw 4' || model.currentTopCard === 'Wild' || model.currentTopCard === 'Draw 4') return true\n            const color = model.currentTopCard.split(' ')[0]\n            const action = model.currentTopCard.split(' ').slice(1).join(' ')\n            const color2 = card.split(' ')[0]\n            const action2 = card.split(' ').slice(1).join(' ')\n            return ((color===color2) || (action===action2))\n      }\n\n      const update = async (m)=>{\n            let oldModel = (model)?_.cloneDeep(model):null\n            model = m\n            if(!model.inGame && model.players.length > 1 && !model.endGame) view.initiateStartGameMessage(()=>socket.emit('Start Game'))\n            else view.turnOffStartGameMessage()\n            if(!model.inGame && model.players.length < 4 && !model.endGame) view.startAddBot(addBot)\n            else view.cancelAddBot()\n            if(parseInt(model.onTurn) == userid){\n                  view.awaitSelection(verify).then((content)=>{view.cancelDraw();view.cancelSelection();play(content)})\n                  view.awaitDraw().then(()=>{view.cancelSelection();view.cancelDraw();draw()})\n            }\n            else{\n                  view.cancelDraw()\n                  view.cancelSelection()\n            }\n            //check with old model\n            if(oldModel){\n                  if(parseInt(oldModel.onTurn) != parseInt(model.onTurn) && model.onTurn >= 0) view.updateTurnIndicator(parseInt(model.onTurn))\n                  let newAnnoucements = model.feed.slice(oldModel.feed.length)\n                  let newDirectives = model.directives.slice(oldModel.directives.length)\n                  const players = model.players.map(e=>e.username)\n                  const oldPlayer = oldModel.players.map(e=>e.username)\n                  if(JSON.stringify(players) !== JSON.stringify(oldPlayer)) view.updateLeaderboard(players)\n                  if(newAnnoucements.length) newAnnoucements.forEach(message=>view.addToAnnoucementQueue(message,'black',500))\n                  if(newDirectives.length){\n                        for(let [code,user,otherinfo] of newDirectives){\n                              switch(code){\n                                    case 1:\n                                          if(user === userid){\n                                                await view.animatePlayerDraw()\n                                                const latestDraw = model.players[userid].cards.slice(oldModel.players[userid].cards.length)[0]\n                                                if(verify(latestDraw)) play(latestDraw)\n                                                else socket.emit('Pass Turn')  \n                                          }\n                                          else view.animateLeaderboardDraw()\n                                          break;\n                                    case 2:\n                                          if(user === userid) for(let i = 0;i<4;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 3:\n                                          if(user === userid) for(let i = 0;i<2;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<2;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 4:\n                                          if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                          else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          break;      \n                                    case 5:\n                                          view.UNO()\n                                          break;\n                                    case 7:\n                                          const animateToPlayer = async ()=>{for(let i = 0;i<4;i++)(await view.animatePlayerDraw())}\n                                          const animateToLeaderBoard = async ()=>{for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())}\n                                          animateToPlayer()\n                                          animateToLeaderBoard()\n                                          break;\n                                    case 8:\n                                          for(let i = 0;i<otherinfo;i++){\n                                                if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                                else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          }\n                                          break;\n                                    default:break;\n                              }\n                        }\n                  }\n                  const oldCard = oldModel.players[userid].cards\n                  const newCard = model.players[userid].cards\n                  if(JSON.stringify(oldCard) !== JSON.stringify(newCard))view.updateCards(model.players[userid].cards)\n            }\n            else{\n                  const players = model.players.map(e=>e.username)\n                  view.updateLeaderboard(players)\n                  view.updateCards(model.players[userid].cards)\n                  if(model.onTurn>=0)view.updateTurnIndicator(model.onTurn)\n                  view.playDeck = view.createDeck(model.currentTopCard,view.app.canvas.width/2 + 150,279*2)\n            }\n      }\n\n      socket.on('Update',update)\n      socket.on('New Game',(m)=>{\n            view.kill()\n            view = new View(canvasref,canvasstatic)\n            view.createActionPanel({\n                  CopyLink,\n                  LeaveGame,\n                  RestartGame:()=>socket.emit('Restart Game')\n            })\n            view.drawEmoteChooser(emote)\n            model = null\n            update(m)\n      })\n\n      socket.on('End Game',(winner)=>{\n            view.activateEndGame(model.players[winner].username,()=>socket.emit('Restart Game'))\n      })\n\n      socket.on('Choose Color',async ()=>{\n            const color = await view.chooseColor()\n            socket.emit('Choose Color',color)\n      })\n\n      socket.on('Error',(error)=>console.log(error))\n      socket.on('Emote',({emoji,userid})=>{\n            const colorCode = ['green','red','black','blue']\n            view.emote(model.players[userid].username,colorCode[userid],emoji)\n      })\n      socket.on('Delete Inactive',()=>view.changeAnnoucementPerpetual('This game was delete due to inactivity'))\n      socket.on('Critical Error',LeaveGame)\n      view.createActionPanel({\n            CopyLink,\n            LeaveGame,\n            RestartGame:()=>socket.emit('Restart Game')\n      })\n      view.drawEmoteChooser(emote)\n      console.log = ()=>{}\n}\n\nexport default Controller","import React, { useEffect, useState, useRef } from 'react'\nimport {connect} from 'react-redux'\nimport Controller from '../controller'\nimport cogoToast from 'cogo-toast'\n\nconst Game = connect(({token,playerid,id})=>({token,playerid,id}),dispatch=>({dispatch}))(({token,playerid,id,dispatch})=>{\n    const ref = useRef()\n    const ref2 = useRef()\n    \n    const copyToClipboard = str => {\n        const el = document.createElement('textarea');\n        el.value = str;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        cogoToast.success('Copied!')\n    };\n    const url = `http://playuno.net/join/${id}`\n\n    useEffect(()=>{\n      Controller(ref.current,ref2.current,token,playerid,()=>copyToClipboard(url),()=>dispatch({type:'LOG_OUT'}))\n    },[])\n    return (\n      <div className=\"App\">\n        <div className='d-flex game' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n          <canvas ref={ref}  style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n        </div>\n        <div className='d-flex game2' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n          <canvas ref={ref2} style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n        </div>\n      </div>\n    );\n})\nexport default Game","import React, { useState, useEffect } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form} from 'formik'\nimport Logo from '../9.svg'\nconst {join} = require('../api')\n\nconst Join = (connect(({tempJoinId})=>({tempJoinId}),dispatch=>({dispatch}))(({dispatch,changeHistory,tempJoinId})=>{\n    const [loading,setLoading] = useState(false)\n\n\n    useEffect(()=>{\n        console.log(tempJoinId)\n        if(!tempJoinId){\n            dispatch({type:'JOINED'})\n        }\n    },[])\n\n    const joinGame = async ({username})=>{\n        setLoading(true)\n        console.log(tempJoinId)\n        const {data} = await join(tempJoinId,username)\n        const {token,id,playerid} = data\n        console.log(data)\n        dispatch({type:'JOIN_LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container'>\n            <div className='row w-50 mx-auto' style={{maxWidth:400}}>\n            {!loading &&\n                <div className='text-center w-100 mx-auto' style={{fontFamily:'Arial Bold'}}>\n                    <img src={Logo} style={{width:300,margin:'auto'}} className='floating'/>\n                    <div className='text-secondary'>Online version by Long Tran</div>\n                    <div className='pt-5 pb-5 mt-5' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',borderRadius:'15px',backgroundColor:'white'}}>\n                        <Formik initialValues={{username:''}} onSubmit={joinGame}>\n                            {({handleSubmit,handleChange,handleBlur})=>(\n                                <Form>\n                                    <div className = 'container w-50'>\n                                        <label className='font-weight-bold'>Nickname</label>\n                                        <input type='text' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Join game!</button>\n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                </div>\n            }\n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Join","import React, { useState } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form, Field} from 'formik'\nimport Logo from '../9.svg'\nconst {create} = require('../api')\n\nfunction Checkbox(props) {\n    return (\n      <Field name={props.name}>\n        {({ field, form }) => (\n        <div className='ml-n3'> \n          <input \n          className='custom-control-input'\n          type=\"checkbox\"\n          {...props}\n          checked={field.value.includes(props.value)}\n          onChange={() => {\n            if (field.value.includes(props.value)) {\n              const nextValue = field.value.filter(\n                value => value !== props.value\n              );\n              form.setFieldValue(props.name, nextValue);\n            } else {\n              const nextValue = field.value.concat(props.value);\n              form.setFieldValue(props.name, nextValue);\n            }\n          }}\n        />\n        <label className='ml-3'>\n            {props.displayname}\n          </label>\n        </div>\n        )}\n      </Field>\n    );\n  }\n\nconst Landing = withRouter(connect(null,dispatch=>({dispatch}))(({dispatch,history})=>{\n    const [loading,setLoading] = useState(false)\n\n    const createGame = async ({username,houseRule})=>{\n        setLoading(true)\n        const {data} = await create(username,houseRule)\n        const {token,id,playerid} = data\n        dispatch({type:'LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container background'>\n            <div className='row w-75 mx-auto' style={{maxWidth:400,fontFamily:'Arial Bold'}}>\n            {!loading &&\n                <div className='text-center mx-auto w-100'>\n                    <img src={Logo} style={{width:300,margin:'auto'}} className='floating'/>\n                    <div className='text-secondary'>Online version by Long Tran</div>\n                    <div className='pt-4 pb-4 mt-5' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',backgroundColor:'white',borderRadius:'15px'}}>\n                        <Formik initialValues={{username:'',houseRule:[]}} onSubmit={createGame}>\n                            {({handleSubmit,handleChange,handleBlur,values})=>(\n                                <Form>\n                                    <div className = 'container form-group'>\n                                        <div className='w-50 mx-auto'>\n                                            <label className='font-weight-bold '>Nickname:</label>\n                                            <input type='username' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        </div>\n                                        <label className='font-weight-bold mt-3'>House Rules:</label>\n                                        <div className=' custom-control custom-checkbox mt-n1'>\n                                            <Checkbox value='tripledouble' name='houseRule' displayname='Allow triple/double' className=''/>\n                                        </div>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Create game!</button>\n                                        \n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                    <p className='text-secondary mt-2'>Joining a friend's game? Ask them for a personal link!</p>\n                </div>\n            }\n            \n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Landing","import React,{useEffect} from 'react';\nimport './App.css';\nimport {Provider,connect} from 'react-redux'\nimport {BrowserRouter as Router,Switch,Link,Route,useLocation,withRouter} from 'react-router-dom'\nimport Store from './redux'\nimport Game from './Page/Game';\nimport Join from './Page/Join';\nimport Landing from './Page/Landing';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport lght from './lght/lght'\n\nconst Content = withRouter(connect(({loggedIn,joined})=>({loggedIn,joined}),(dispatch)=>({dispatch}))(({loggedIn,dispatch,history,joined})=>{\n    const {pathname} = window.location\n    useEffect(()=>{\n      lght.stopAll()\n      if(pathname.match(/join/) && !joined){\n        const tempJoinId = pathname.split('/')[2]\n        console.log(tempJoinId)\n        dispatch({type:'LOG_OUT_WITH_TEMP_JOIN',tempJoinId})\n        history.push('/join')\n      }\n      else if(loggedIn){\n        console.log('hello')\n        if(!pathname.match(/game/)) history.push('/game')\n      }\n      else history.push('/')\n    },[loggedIn,joined])\n\n    return(\n      <>\n      <Switch>\n        <Route path='/game' exact component={Game}/>\n        <Route path='/join' exact>\n          <Join changeHistory={history}/>\n        </Route>\n        <Route path='/'exact component={Landing}/>\n      </Switch>\n      <div className='backgrounddiv'></div>\n      </>\n    )\n}))\n\nfunction App() {\n  return (\n    <Provider store={Store}>\n      <Router>\n        <Content/>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/9.f703b21f.svg\";","const axios = require('axios')\nconst url = (process.env.NODE_ENV === 'production')?'/':'http://localhost:4000'\n\nconst baseAPI = axios.create({baseURL:url})\nconst join = (id,username)=>baseAPI.post('join',{id,username})\nconst create = (username,houseRule)=>baseAPI.post('create',{username,houseRule})\n\nmodule.exports = {join,create}"],"sourceRoot":""}