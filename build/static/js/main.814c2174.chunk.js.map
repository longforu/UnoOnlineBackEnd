{"version":3,"sources":["redux.js","lght/util/util.js","lght/lght.js","webView.js","mobileView.js","view.js","controller.js","Page/Game.js","Page/Join.js","Page/Landing.js","App.js","serviceWorker.js","index.js","9.svg","api.js"],"names":["createStore","require","token","localStorage","getItem","defaultState","id","playerid","parseInt","tempJoinID","joined","loggedIn","Store","state","type","tempJoinId","setItem","removeItem","console","log","mergeDefaultPropertyObject","p","d","o","prop","_","cloneDeep","findDistance2Point","x1","y1","x2","y2","Math","sqrt","pow","findAngle2Point","dx","dy","tan","atan","radToDeg","rad","PI","degToRad","deg","rotatePoint","cx","cy","x","y","calculateRotatePoint","r","angleIndex","indexOf","coeff","cos","sin","findIntersection","s1","s2","x11","y11","x12","y12","x21","y21","x22","y22","round","minX1","min","maxX1","max","minX2","maxX2","slope1","slope2","coeff1","findClosestPoint","s","angle","abs","findAngle3Point","d1","d2","changeByDotNotation","propertyString","object","value","propertyArray","split","objectLink","forEach","e","i","length","Array","isArray","getByDotNotation","lght","inputReference","movementIndex","coeffIndex","defaultAppConfig","initFunctions","animateFunctions","lastFrame","undefined","constantRender","background","pixelDensity","eventListeners","eventListenersFunction","defaultObjectProps","shapes","animations","hoverEvents","animationCount","static","rotation","positionIndicator","display","opacity","mouseUpEvent","mouseDownEvent","mouseMoveEvent","zIndex","defaultStorageProps","spacing","direction","model","defaultShapeOptions","kind","scaleX","scaleY","color","lineWidth","borderColor","borderWidth","border","borderOnly","shadow","defaultRectOptions","w","h","clip","clipImageLink","clipCanvas","clipSpriteSheetX","clipSpriteSheetY","spriteLengthX","spriteLengthY","defaultArcOptions","arcDegree","defaultTextOptions","textAlign","font","text","defaultImgOptions","spriteLink","drawWidth","drawHeight","loadedFunction","defaultPolyOptions","points","specialPolygon","numberOfSide","radius","defaultLineOptions","apps","gameloop","list","frameTime","loop","time","requestAnimationFrame","app","elem","options","this","canvas","objects","index","push","turnFunctions","prototype","obj","addEventListener","event","func","removeEventListenr","kill","f","killed","splice","update","translateMouseCoor","pageX","pageY","clientX","style","position","document","body","scrollLeft","documentElement","scrollTop","parentElement","offsetLeft","offsetTop","objectCount","property","parent","name","objectName","collide","pointInShape","xs","ys","findMax","minX","maxX","minY","maxY","storage","storageShapes","elementFunction","updateToModel","shape","reverse","width","firstX","content","height","firstY","updateVisual","spriteLinkReference","spriteImageReference","funcLists","sprite","link","image","complete","Image","onload","src","sound","createElement","oncanplaythrough","loaded","updateQueue","volume","setAttribute","appendChild","queue","running","mute","play","setTimeout","duration","audioReference","audioLinkReference","playSound","addToQueue","stopAll","from","getElementsByTagName","pause","muteAll","unmuteAll","vertex","findVertex","offsetMinX","borderWidthIfBorderIsOn","offsetMaxX","offsetMinY","offsetMaxY","shadowOffsetMinX","blur","shadowOffsetMaxX","shadowOffsetMinY","shadowOffsetMaxY","offsetX","offsetY","sides","findSides","compareSide","intersect","result","maxY1","minY1","maxY2","minY2","side1","side2","hasBorder","rect","rx","ry","nx","absoluteX","ny","absoluteY","arc","minAngle","maxAngle","minRadAngle","maxRadAngle","referenceX","referenceY","vertex1","vertex2","pureCircle","ray1","ray2","side","closest","roundedRectangle","borderRadius","clipImage","imageUrl","poly","polyPoints","map","radiusCoefficient","line","notIncluded","point","rotatedPoints","distance","angleQuadrant","firstDistance","pointOneInFirstQuadrant","pointSecondInSecondQuadrant","pointThreeInThirdQuadrant","pointFourInFourthQuadrant","c","context","save","measureText","restore","textSize","img","imageLoaded","attachQuickMovement","velocity","cooldown","cd","key","startCursor","cursor","endCursor","enterCursorEvent","alreadyCursorEvent","hoverEvent","attachEvent","trueEvent","window","mobileCheck","changedTouches","touch","mouseInputInit","handleCoor","pointInObject","LargeLoop","a","pressedEvent","makeDraggable","funcDone","onDrag","draggable","funcin","funcout","mouseIn","animate","timeDifference","animateFunctionReference","animation","init","timeUp","newValue","addAnimation","timeout","cancelAnimation","alreadyAnimated","find","findIndex","clearTimeout","arguments","render","clearCanvas","fillBackground","renderShape","visualInit","backgroundColor","getContext","renderPositions","sort","b","draw","clearRect","fillStyle","fillRect","beginPath","closePath","fill","preloader","maxes","createPreloader","clearPreloader","ox","oy","drawShape","drawPreloader","translate","drawImg","drawShapeKind","stroke","globalAlpha","strokeStyle","scale","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","drawRect","drawArc","drawText","drawPoly","drawLine","drawRoundedRectangle","clipImageLoaded","rotate","spriteWidth","spriteHeight","clipStartX","clipStartY","drawImage","strokeRect","moveTo","lineTo","quadraticCurveTo","br","er","fillText","addShape","addObject","addStorage","removeObject","webView","ref","ref2","ref3","drawSoundIcon","soundIcon","soundOn","soundOff","animatePlayerPlay","animatePlay","positionReference","playerDeck","animatePlayerDraw","animateDraw","animateLeaderboardDraw","leaderBoard","animateLeaderboardPlay","drawSpecialInfo","specialInfo","playDeck","colors","textColor","activateInfo","tc","toUpperCase","join","cancelInfo","endX","endY","Promise","card","createCard","drawDeck","startX","startY","match","drawColorChoser","choosingColor","resolveFunction","colorChooser","chooseColor","staticApp","cardSpriteColumn","cardSpriteRow","cardSpriteReference","wild","Draw4","colorReference","otherReference","handHeight","drawable","createDeck","flip","awaitDraw","cancelDraw","createHand","createLeaderboard","drawAnnouncement","configureStartGameMessage","configureUnoMessage","drawEmote","drawAddBot","drawEndGame","endGame","restartText","activateEndGame","tutorial","showTutorial","addBot","startAddBot","cancelAddBot","emoteChooser","emoteText","timeInterval","emote","emoji","clearInterval","actionFunction","actionalPanel","turnIndicator","updateTurnIndicator","turn","numberOfLoops","fadeOut","fadeIn","updateLeaderboard","players","verifyFunction","onSelect","playerHand","action","slice","offSetY","updateCards","awaitSelection","vf","cancelSelection","deckCardOption","deck","back","flipped","changeToBack","changeClipImage","changeToFront","flipAnimation","announcementQueue","announcmentPerpetual","onAnnouncementPerpetual","onAnnoucementChanged","announcement","annoucementText","fadeOutThenFadeIn","updateAnnouncement","uno","UNO","startGameObject","activated","initiateStartGameMessage","turnOffStartGameMessage","mobileView","cardApp","ratio","devicePixelRatio","clientWidth","screen","innerWidth","clientHeight","innerHeight","createActionPanel","textShapes","timeOut","totalLength","handWidth","left","getElementById","check","navigator","userAgent","vendor","opera","test","substr","View","io","Controller","canvasref","canvasstatic","userid","CopyLink","LeaveGame","canvasSpecial","view","drawTutorial","socket","connect","query","emit","verify","currentTopCard","color2","action2","m","oldModel","inGame","onTurn","then","newAnnoucements","feed","newDirectives","directives","username","oldPlayer","JSON","stringify","message","addToAnnoucementQueue","code","user","otherinfo","latestDraw","cards","animateToPlayer","animateToLeaderBoard","oldCard","newCard","on","RestartGame","drawEmoteChooser","winner","error","changeAnnoucementPerpetual","Game","dispatch","useRef","url","useEffect","current","str","el","select","execCommand","removeChild","cogoToast","success","copyToClipboard","className","alignItems","margin","overflow","top","bottom","Join","changeHistory","useState","loading","setLoading","joinGame","data","maxWidth","fontFamily","Logo","boxShadow","initialValues","onSubmit","handleSubmit","handleChange","handleBlur","onChange","onBlur","css","create","Checkbox","props","field","form","checked","includes","nextValue","filter","setFieldValue","concat","displayname","Landing","withRouter","history","createGame","houseRule","values","Content","pathname","location","path","exact","component","App","store","Boolean","hostname","ReactDOM","StrictMode","serviceWorker","ready","registration","unregister","catch","module","exports","baseAPI","baseURL","post"],"mappings":"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","file":"static/js/main.814c2174.chunk.js","sourcesContent":["const {createStore} = require('redux')\n\nconst token = localStorage.getItem('token')\nconst id = localStorage.getItem('id')\nconst playerid = parseInt(localStorage.getItem('playerid'))\nconst defaultState = {\n    token,id,playerid,tempJoinID:null,joined:false,\n    loggedIn:!!token,\n}\n\nconst reducer = (state=defaultState,{id,playerid,token,type,tempJoinId})=>{\n    switch(type){\n        case 'LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true}\n        case 'JOIN_LOG_IN':\n            localStorage.setItem('token',token)\n            localStorage.setItem('id',id)\n            localStorage.setItem('playerid',playerid)\n            return {...state,id,playerid,token,loggedIn:true,joined:true}\n        case 'LOG_OUT':\n            localStorage.removeItem('token')\n            localStorage.removeItem('id')\n            localStorage.removeItem('playerid')\n            return {...state,id:null,token:null,playerid:null,loggedIn:false}\n            case 'LOG_OUT_WITH_TEMP_JOIN':\n                localStorage.removeItem('token')\n                localStorage.removeItem('id')\n                localStorage.removeItem('playerid')\n                return {...state,id:null,token:null,playerid:null,loggedIn:false,tempJoinId:state.tempJoinId||tempJoinId}\n        case 'SET_TEMP_JOIN':\n            console.log(tempJoinId)\n            return {...state,tempJoinId}\n        case 'JOINED':\n            return {...state,joined:true}\n        default:\n            return{...state}\n    }\n}\n\nconst Store = createStore(reducer)\n\nexport default Store","import _ from 'lodash'\n\nconst random = (high,low) => {return Math.round(Math.random()*(high-low+1) + low);}\n\t\nconst mergeDefaultPropertyObject = (p,d,o)=>{\n\tfor(var prop in d){\n\t\tif(typeof p == 'object'){\n\t\t\tif(typeof p[prop] === 'function') o[prop] = p[prop]\n\t\t\telse if(typeof p[prop] != 'undefined') o[prop] = _.cloneDeep(p[prop]);\n\t\t\telse o[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t\telse{\n\t\t\to[prop] = _.cloneDeep(d[prop]);\n\t\t}\n\t}\n}\n\n//<---------------------GEOMETRIC FUNCTION-------------------->\n\nconst findQuadrant = (angle) => {\n\tif(angle < 90 && angle > 0) return 1;\n\tif(angle > 90 && angle < 180) return 2;\n\tif(angle > 180 && angle < 270) return 3;\n\tif(angle > 270 && angle < 360) return 4;\n}\n\nconst findDistance2Point = (x1,y1,x2,y2)=>Math.sqrt(Math.pow((x1-x2),2) + Math.pow((y1-y2),2))\n\n\nconst findAngle2Point = function(x1,y1,x2,y2){\n\t//CHECK SPECIAL CASES\n\tif(x1===x2&&y1===y2) return 0;\n\tif(x1===x2){\n\t\tif(y1 < y2) return 270;\n\t\tif(y1 > y2) return 90;\n\t} \n\tif(y1===y2){\n\t\tif(x1<x2) return 0;\n\t\tif(x2<x1) return 180;\n\t}\n\n\t//FIND QUADRANT\n\tvar dx = x2-x1; var dy = y2-y1;\n\tvar tan = Math.atan((-dy)/dx);\n\n\tif(x1<x2&&y1>y2) return radToDeg(tan);//QUADRANT 1\n\tif(x1>x2&&y1>y2) return\t180 + radToDeg(tan); //QUADRANT 2\n\tif(x1>x2&&y1<y2) return 180 + radToDeg(tan);//QUADRANT 3\n\tif(x1<x2&&y1<y2) return 360 + radToDeg(tan);//QUADRANT 4\n}\n\nconst radToDeg = (rad) => (rad*180)/Math.PI;\n\nconst degToRad = (deg) => (deg*Math.PI)/180;\n\nconst rotatePoint = (cx,cy,x,y,deg) => (deg===0||deg===360)? [x,y]: calculateRotatePoint(cx,cy,findAngle2Point(cx,cy,x,y)+deg,findDistance2Point(cx,cy,x,y));\n\nconst calculateRotatePoint = function(cx,cy,r,d){\n\tconst rad = degToRad(r);\n\n\t//IF IT'S IN SPECIAL CASE\n\tconst angleIndex = [0,90,180,270,360];\n\tconst coeffIndex = [[1,0],[0,1],[-1,0],[0,-1],[1,0]];\n\tif(angleIndex.indexOf(r) !== -1){\n\t\tconst coeff = coeffIndex[angleIndex.indexOf(r)];\n\t\treturn [cx+coeff[0]*d,cy-coeff[1]*d];\n\t}\n\treturn [cx + Math.cos(rad)*d, cy - Math.sin(rad)*d];\n}\n\n\n//<----------------------SEGMENT INTERSECTION, USED FOR OBJECT COLLISION------------------------------>\nlet findIntersection = function(s1,s2){\n\t//FIND CONSTRAINS FOR USE BEFORE INTERSECTION FUNCTION\n\tlet [x11,y11,x12,y12] = s1\n\tlet [x21,y21,x22,y22] = s2\n\tif(Math.round(x11) === Math.round(x12) || Math.round(x21) === Math.round(x22)){\n\t\t[x11,y11] = rotatePoint(0,0,x11,y11,30);\n\t\t[x12,y12] = rotatePoint(0,0,x12,y12,30);\n\t\t[x21,y21] = rotatePoint(0,0,x21,y21,30);\n\t\t[x22,y22] = rotatePoint(0,0,x22,y22,30);\n\t}\n\n\n\tconst minX1 = Math.min(x11,x12); const maxX1 = Math.max(x11,x12);\n\tconst minX2 = Math.min(x21,x22); const maxX2 = Math.max(x21,x22);\n\n\tconst slope1 =(y11-y12)/(x11-x12); \n\tconst slope2 =(y21-y22)/(x21-x22);\n\tconst coeff1 = -(x11*slope1) + y11;\n\tconst coeff2 = -(x21*slope2) + y21;\n\n\tif(slope1===slope2) return false;\n\tconst x = (coeff2 - coeff1)/(slope1 - slope2);\n\tconst y = slope1*x + coeff1;\n\tif(((x>minX1)&&(x<maxX1))&&((x>minX2)&&(x<maxX2))) return [x,y];\n\treturn false;\n}\n\n\n//<--------------------------OTHER SEGMENT FUNCTION------------------------------>\nconst findAngle3Point = (cx,cy,x1,y1,x2,y2) => Math.abs(findAngle2Point(cx,cy,x2,y2) - findAngle2Point(cx,cy,x1,y1))\n\n//FIND THE 'HEIGHT' OF A POINT TO A SEGMENT\nconst findClosestPoint = function(x,y,s){\n\tconst [x1,y1,x2,y2] = s\n\n\tlet angle = findAngle3Point(x1,y1,x,y,x2,y2);\n\tconst d = findDistance2Point(x,y,x1,y1);\n\n\tconst d1 = Math.abs(d*Math.cos(degToRad(angle)));\n\tconst d2 = Math.sqrt(Math.pow(d,2) - Math.pow(d1,2));\n\n\tif(d1 > findDistance2Point(x1,y1,x2,y2)) return false;\n\n\tangle = degToRad(findAngle2Point(x1,y1,x2,y2));\n\tconst xh = x1 + Math.cos(angle) * d1; \n\tconst yh = y1 - Math.sin(angle) * d1;\n\treturn [xh,yh,d2];\n}\n\nconst changeByDotNotation = (propertyString,object,value) => {\n\tconst propertyArray = propertyString.split(\".\")\n\tlet objectLink = object\n\tpropertyArray.forEach((e,i)=>{\n\t\tif (i === propertyArray.length - 1){\n\t\t\tif(Array.isArray(objectLink)) objectLink[parseInt(e)] = value\n\t\t\telse objectLink[e] = value\n\t\t}\n\t\telse{\n\t\t\tif(Array.isArray(objectLink)) objectLink = objectLink[parseInt(e)]\n\t\t\telse objectLink = objectLink[e]\n\t\t}\n\t})\n}\n\nconst getByDotNotation = (propertyString,object)=>{\n\tconst propertyArray = propertyString.split(\".\")\n\tlet value = object\n\tpropertyArray.forEach(e=>{\n\t\tif(Array.isArray(value)) value = value[parseInt(e)]\n\t\telse value=object[e]\n\t})\n\treturn value\n}\n\nexport {findClosestPoint,findAngle3Point,findAngle2Point,findIntersection,calculateRotatePoint,random,\nmergeDefaultPropertyObject,findQuadrant,findDistance2Point,radToDeg,degToRad,rotatePoint,changeByDotNotation,getByDotNotation}","/* eslint-disable no-fallthrough */\n/* eslint-disable no-unused-vars */\n//LIGHT LIBRARY IS DEVELOPED BY LONG TRAN\n//COPYRIGHT 2020, ALL RIGHTS RESERVED\n\nimport {getByDotNotation, changeByDotNotation , mergeDefaultPropertyObject, findDistance2Point, findIntersection, rotatePoint, degToRad, findAngle2Point ,findClosestPoint, calculateRotatePoint, radToDeg} from './util/util'\n\nlet lght = {};\n\n//Config\nlght.inputReference = {};\nlght.inputReference.movementIndex = \n    ['w','a','s','d','ArrowUp','ArrowLeft','ArrowDown','ArrowRight'];\n\nlght.inputReference.coeffIndex = \n    [[0,-1],[-1,0],[0,1],[1,0],[0,-1],[-1,0],[0,1],[1,0]];\n\nlght.defaultAppConfig = {\n    initFunctions:[\"visualInit\",'mouseInputInit'],\n    animateFunctions:[\"animate\",\"update\",\"render\"],\n    lastFrame:undefined,\n    constantRender:true,\n    background:\"black\",\n    pixelDensity:1,\n    eventListeners:[],\n    eventListenersFunction:[]\n}\n\nlght.defaultObjectProps = {\n    shapes:[],\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    initFunctions:[\"createPreloader\"],\n    static:true,\n    x:0,y:0,\n    rotation:0, \n    positionIndicator:false,\n    display:true,opacity:1,\n    mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[],\n    zIndex:0\n}\n\nlght.defaultStorageProps = {\n    spacing:0,\n    direction:'row',\n    model:[]\n}\n\nlght.defaultShapeOptions = {\n    kind:\"rect\",\n    animations:[],\n    hoverEvents:[],\n    animationCount:0,\n    x:0,y:0,rotation:0,scaleX:1,scaleY:1,\n    color:\"black\",display:true,\n    lineWidth:1, opacity:1,\n    borderColor:'yellow',\n    borderWidth:10,\n    border:false, borderOnly:false,\n    shadow:null,mouseUpEvent:[],mouseDownEvent:[],mouseMoveEvent:[]\n}\n\nlght.defaultRectOptions = {\n    w:0,h:0,clip:false,\n    clipImageLink:null,clipCanvas:null,\n    clipSpriteSheetX:null,clipSpriteSheetY:null,\n    spriteLengthX:null,spriteLengthY:null\n}\n\nlght.defaultArcOptions = {\n    rad:0, arcDegree:360,\n}\n\nlght.defaultTextOptions = {\n    textAlign:'left',\n    font:'10px Ariel',\n    text:'Hello World'\n}\n\nlght.defaultImgOptions = {\n    spriteLink:null,\n    drawWidth:null,drawHeight:null,\n    loadedFunction:undefined\n}\n\nlght.defaultPolyOptions = {\n    points:[],\n    specialPolygon:false,\n    numberOfSide:0,\n    radius:10,\n    clip:false,\n    clipImageLink:null\n}\n\nlght.defaultLineOptions = {\n    points:[]\n}\n\n//Main\nlght.apps = [];\n\nlght.gameloop = {\n    list:[],\n    frameTime:undefined,\n    lastFrame:undefined\n};\n\nlght.gameloop.loop = (time)=>{\n    requestAnimationFrame(lght.gameloop.loop);\n\n    for(var i = 0;i<lght.gameloop.list.length;i++){\n        lght.gameloop.list[i](lght.apps[i]);\n    }\n    \n    if(time!==undefined){\n        lght.lastFrame = lght.frameTime;\n        lght.frameTime = time;\n    }\n}\n\n\n\nlght.gameloop.loop();\n\nlght.app = function(elem,options) {\n\n    this.options = {};\n    mergeDefaultPropertyObject(options,lght.defaultAppConfig,this.options)        \n    this.canvas = elem;\n    this.eventListeners = []\n    this.eventListenersFunction = []\n    this.options.initFunctions.forEach((e)=>this[e]())\n    \n    this.objects = []\n    this.index = lght.gameloop.list.length\n    lght.gameloop.list.push((this.options.constantRender)?this.turnFunctions:()=>{})\n    lght.apps.push(this);\n}\n\nlght.app.prototype.turnFunctions = (obj)=>{\n    obj.options.animateFunctions.forEach((e)=>obj[e]())\n}\n\nlght.app.prototype.addEventListener =function(event,func){\n    this.eventListeners.push(event)\n    this.eventListenersFunction.push(func)\n    this.canvas.addEventListener(event,func)\n}\n\nlght.app.prototype.removeEventListenr = function(){\n    this.eventListeners.forEach((e,i)=>this.canvas.removeEventListenr(e,this.eventListenersFunction[i]))\n}\n\nlght.app.prototype.kill = function(){\n    this.objects.forEach(e=>{\n        e.shapes.forEach(f=>f.kill())\n        e.kill()\n    })\n    this.killed = true\n    lght.gameloop.list.splice(this.index,1)\n    lght.apps.splice(this.index,1)\n    this.removeEventListenr()\n}\n\nlght.app.prototype.update = function(){\n    this.objects.forEach(e => {\n        if(typeof e.update === 'function') e.update(e)\n    });\n}\n\nlght.app.prototype.translateMouseCoor = function(e){\n\tvar x;\n    var y;\n\tif (e.pageX || e.pageY) { \n\t\tx = e.pageX;\n\t\ty = e.pageY;\n\t}\n\telse { \n\t\tx = e.clientX\n        y=e.clientX\n    } \n    if(this.canvas.style.position !== 'fixed')x+= document.body.scrollLeft + document.documentElement.scrollLeft; \n    if(this.canvas.style.position !== 'fixed') y+= document.body.scrollTop + document.documentElement.scrollTop; \n    if(this.canvas.parentElement.scrollLeft && this.canvas.style.position !== 'fixed') x+=this.canvas.parentElement.scrollLeft\n    if(this.canvas.parentElement.scrollTop && this.canvas.style.position !== 'fixed') x+=this.canvas.parentElement.scrollTop\n\tx -= this.canvas.offsetLeft;\n\ty -= this.canvas.offsetTop;\n\treturn [x*this.pixelDensity,y*this.pixelDensity];\n}\n\n//Object\n\n//TOTAL OBJECT COUNT, USED TO PRODUCE ID\nlght.objectCount = 0;\n\nlght.object = class {\n    constructor(property,parent){\n        lght.objectCount++\n        this.id = lght.objectCount;\n        this.parent = parent;\n        this.parent.objects.push(this)\n        mergeDefaultPropertyObject\n        (property,lght.defaultObjectProps,this);    \n        this.initFunctions.forEach((e)=>this[e]())        \n        this.name = (property.objectName)?property.objectName:`Object ${this.id}`\n    }\n    \n    kill(){\n        this.parent.objects.splice(this.parent.objects.indexOf(this),1)\n    }\n\n    collide(obj){\n        for(let s1 of this.shapes){\n            for (let s2 of obj.shapes){\n                if(s1.collide(s2)) return true\n            }\n        }\n\n        return false\n    }\n\n    pointInObject(x,y){\n        for(let s1 of this.shapes){\n           if(s1.pointInShape(x,y)) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let xs = []\n        let ys = []\n        this.shapes.forEach(s=>{\n            let [minX,maxX,minY,maxY] = s.findMax()\n            xs = [...xs,minX,maxX]\n            ys = [...ys,minY,maxY]\n        })\n        return [Math.min(...xs),Math.max(...xs),Math.min(...ys),Math.max(...ys)]\n    }\n\n    findThePositionThatIsRelativeToThisObjectFromAbsolutePosition(x,y){\n        return [x-this.x,y-this.y]\n    }\n}\n\nlght.storage = class extends lght.object{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultStorageProps,this)\n        this.storageShapes = []\n        this.model = property.model || []\n        this.elementFunction = property.elementFunction || null\n        this.updateToModel()\n    }\n    get totalLength(){\n        if(!this.model.length) return 0\n        if(!this.elementFunction) return 0\n        let shape\n        switch(this.direction){\n            case 'row-reverse':\n            case 'row':\n                shape = this.elementFunction(this.model[0],0)\n                const w = shape.width\n                shape.kill()\n                return w*this.model.length + this.spacing*(this.model.length-1)\n            case 'column-reverse':\n            case 'column':\n                shape = this.elementFunction(this.model[0],0)\n                const h = shape.height\n                shape.kill()\n                return h*this.model.length + this.spacing*(this.model.length-1)\n            default:\n                return 0\n                break;\n        }\n    }\n    updateToModel(){\n        let model =[...this.model]\n        this.storageShapes.forEach(e=>{e.kill();})\n        this.storageShapes = []\n        if(!model.length) return\n        if(!this.elementFunction) return\n        let shape\n        let totalLength\n        switch(this.direction){\n            case 'row-reverse':\n                model.reverse()\n            case 'row':\n                shape = this.elementFunction(model[0],0)\n                const w = shape.width\n                shape.kill()\n                totalLength = w*model.length + this.spacing*(model.length-1)\n                const firstX = -totalLength/2 + 0.5*w\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.x = firstX + i*w + i*this.spacing\n                })\n                break;\n            case 'column-reverse':\n                model.reverse()\n            case 'column':\n                shape = this.elementFunction(model[0],0)\n                const h = shape.height\n                shape.kill()\n                totalLength = h*model.length + this.spacing*(model.length-1)\n                const firstY = -totalLength/2 + 0.5*h\n                model.forEach((content,i)=>{\n                    const shape = this.elementFunction(content,i)\n                    this.storageShapes.push(shape)\n                    shape.y = firstY +( i*h) + (i*this.spacing)\n                })\n                break\n            default:\n                break;\n        }\n        this.updateVisual()\n\n    }\n}\n\nlght.spriteLinkReference = []\nlght.spriteImageReference = []\nlght.funcLists = []\n\nlght.sprite = (link,func)=> {\n    const index = lght.spriteLinkReference.indexOf(link)\n    if(index !== -1){\n        const image = lght.spriteImageReference[index]\n        lght.funcLists[index].push(func)\n        if(image.complete) requestAnimationFrame(func)\n        return image\n    }\n    else{\n        const image = new Image()\n        const id = lght.spriteImageReference.length\n        image.onload = ()=>{\n            lght.funcLists[id].forEach(e=>e())\n        }\n        lght.funcLists[id] = []\n        lght.funcLists[id].push(func)\n        image.src = link\n        lght.spriteLinkReference.push(link)\n        lght.spriteImageReference.push(image)\n        return image\n    }\n}\n\nlght.sound = class{\n    constructor(link,loop){\n        this.elem = document.createElement('audio')\n        this.elem.oncanplaythrough = ()=>{\n            this.loaded = true\n            this.updateQueue()\n        }\n        this.elem.loop = loop\n        this.elem.volume = 0.2\n        this.elem.src = link\n        this.elem.setAttribute('preload','auto')\n        this.elem.setAttribute('controls','none')\n        this.elem.style.display = 'none'\n        document.body.appendChild(this.elem)\n        this.queue = 1\n        this.running = false\n        this.loaded = false\n    }\n    updateQueue(){\n        if(!this.running && this.queue && this.loaded && !lght.mute){\n            this.running = true\n            this.elem.play()\n            setTimeout(()=>{\n                this.running = false\n                this.updateQueue()\n            },this.elem.duration + 300)\n            this.queue--\n        }\n    }\n    addToQueue(){\n        this.queue++\n        this.updateQueue()\n    }\n}\n\nlght.audioReference = []\nlght.audioLinkReference = []\nlght.playSound = (src,loop)=>{\n    if(lght.audioLinkReference.indexOf(src)<0){\n        const sound = new lght.sound(src,loop)\n        lght.audioReference.push(sound)\n        lght.audioLinkReference.push(sound)\n    }\n    else lght.audioReference[lght.audioLinkReference.indexOf(src)].addToQueue()\n}\nlght.stopAll = ()=>{\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>{\n        e.pause()\n    })\n}\nlght.muteAll = ()=>{\n    lght.mute = true\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=true)\n}\nlght.unmuteAll = ()=>{\n    lght.mute = false\n    lght.stopAll()\n    Array.from(document.getElementsByTagName('audio')).forEach(e=>e.mute=false)\n    lght.audioReference.forEach(e=>{if(e.elem.loop) e.addToQueue()})\n}\n\nlght.shape = class {\n    constructor (property,parent) {\n        this.kind = property.kind\n        this.parent = parent;\n        this.parent.shapes.push(this);\n        mergeDefaultPropertyObject\n        (property,lght.defaultShapeOptions,this);\n    }\n\n    kill (){\n        const index = this.parent.shapes.indexOf(this)\n        if(index<0) return\n        this.parent.shapes.splice(index,1);\n        this.parent.updateVisual()\n    }\n\n    get absoluteX(){\n        return this.x + this.parent.x\n    }\n\n    get absoluteY(){\n        return this.y + this.parent.y\n    }\n\n    get hasBorder(){\n        return this.border||this.borderOnly\n    }\n\n    get width(){\n        return (((this.hasBorder)?(this.w + this.borderWidth):this.w))*this.scaleX\n    }\n\n    get height(){\n        return ((this.hasBorder)?this.h + this.borderWidth:this.h)*this.scaleY\n    }\n\n    get outOfBound(){\n        let [minX,maxX,minY,maxY] = this.findMax();\n        let {width,height} = this.parent.parent.canvas;\n        return (minX > width || maxX < 0 || minY > height || maxY < 0) \n    }\n\n    findVertex(){\n        return []\n    }\n\n    findMax(){\n        const vertex = this.findVertex()\n        const xs = []\n        const ys = []\n\n        vertex.forEach(([x,y])=>{\n            xs.push(x); ys.push(y)\n        })\n\n        let offsetMinX = - this.borderWidthIfBorderIsOn \n        let offsetMaxX = this.borderWidthIfBorderIsOn \n        let offsetMinY = - this.borderWidthIfBorderIsOn \n        let offsetMaxY = this.borderWidthIfBorderIsOn \n\n        if(this.shadow){\n            let shadowOffsetMinX = -this.shadow.blur -2\n            let shadowOffsetMaxX = this.shadow.blur + 2\n            let shadowOffsetMinY = -this.shadow.blur -2\n            let shadowOffsetMaxY = this.shadow.blur +2\n            if(this.shadow.offsetX){\n                shadowOffsetMinX += this.shadow.offsetX\n                shadowOffsetMaxX += this.shadow.offsetX\n            }\n            if(this.shadow.offsetY){\n                shadowOffsetMinY += this.shadow.offsetY\n                shadowOffsetMaxY += this.shadow.offsetY\n            }\n            if(shadowOffsetMinX<0) offsetMinX += shadowOffsetMinX\n            if(shadowOffsetMaxX>0) offsetMaxX += shadowOffsetMaxX\n            if(shadowOffsetMinY<0) offsetMinY += shadowOffsetMinY\n            if(shadowOffsetMaxY>0) offsetMaxY += shadowOffsetMaxY\n        }\n\n        return [\n            Math.min(...xs) + offsetMinX,\n            Math.max(...xs) + offsetMaxX,\n            Math.min(...ys) + offsetMinY,\n            Math.max(...ys) + offsetMaxY\n        ]\n    }\n\n    get borderWidthIfBorderIsOn(){\n        if(this.border||this.borderOnly) return this.borderWidth\n        return 0\n    }\n\n    pointInShape(x,y){\n        let sides = this.findSides()\n        const [minX,maxX,minY,maxY] = this.findMax()\n        let distance = findDistance2Point(x,y,maxX,maxY)\n        let compareSide = [x,y,x+distance,y]\n        let intersect = 0\n        if(x>maxX||x<minX||y>maxY||y<minY) return false\n        sides.forEach(e=>{\n            if(findIntersection(e,compareSide)) intersect++\n        })\n        return !(intersect%2 === 0)\n    }\n\n    findSides(){\n        let vertex = this.findVertex()\n        let result = []\n        for(let i = 0;i<vertex.length;i++){\n            result.push([...vertex[i],...((vertex[i+1])?vertex[i+1]:vertex[0])])\n        }\n        return result\n    }\n\n    collide(shape){\n        if(shape.kind==='arc') return shape.collide(this)\n        let [maxX1,minX1,maxY1,minY1] = this.findMax()\n        let [maxX2,minX2,maxY2,minY2] = shape.findMax()\n        if (((minX1 < minX2) && (maxX1 > maxX2) && (minY1<minY2) && (maxY1>maxY2)) || ((minX2 < minX1) && (maxX2 > maxX1) && (minY2<minY1) && (maxY2>maxY1))) return true\n\n        let side1 = this.findSides()\n        let side2 = shape.findSides()\n\n        for (let s1 of side1){\n            for (let s2 of side2){\n                if(findIntersection(s1,s2)) return true\n            }\n        }\n        return false\n    }\n}\n\nlght.rect = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultRectOptions,this)\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.arc = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultArcOptions,this)\n    }\n\n    get radius(){\n        return (this.hasBorder)?this.rad + this.borderWidth : this.rad\n    }\n\n    get minAngle(){\n        return this.rotation\n    }\n\n    get maxAngle(){\n        return this.rotation + this.arcDegree\n    }\n\n    get minRadAngle(){\n        return degToRad(this.minAngle)\n    }\n\n    get maxRadAngle(){\n        return degToRad(this.maxAngle)\n    }\n\n    get pureCircle(){\n        return this.arcDegree===360\n    }\n\n    pointInShape(x,y){\n        var angle = findAngle2Point(this.absoluteX,this.absoluteY,x,y)\n        if (angle>this.minAngle && angle<this.maxAngle){\n            if(findDistance2Point(this.absoluteX,this.absoluteY,x,y)<=this.radius) return true\n        }\n        return false\n    }\n\n    findMax(){\n        let result = [this.absoluteX-this.radius,this.absoluteX+this.radius,this.absoluteY-this.radius,this.absoluteY+this.radius]\n        let xs = [this.absoluteX,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius]\n        let ys = [this.absoluteY,this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        if(!this.pointInShape(result[0],this.absoluteY)) result[0] = Math.min(...xs) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(result[1],this.absoluteY)) result[1] = Math.max(...xs) + this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[2])) result[2] = Math.min(...ys) - this.borderWidthIfBorderIsOn/2;\n        if(!this.pointInShape(this.absoluteX,result[3])) result[3] = Math.max(...ys) + this.borderWidthIfBorderIsOn/2;\n        return result\n    }\n\n    findVertex(){\n        let [minX,maxX,minY,maxY] = this.findMax()\n        let referenceX = [this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteX+this.radius,this.absoluteX-this.radius,this.absoluteX]\n        let referenceY = [this.absoluteY-Math.sin(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius,this.absoluteY+this.radius,this.absoluteY-this.radius,this.absoluteY]\n\n        return [\n            [minX,referenceY[referenceX.indexOf(minX)]],\n            [maxX,referenceY[referenceX.indexOf(maxX)]],\n            [referenceX[referenceY.indexOf(minY)],minY],\n            [referenceX[referenceY.indexOf(maxY)],maxY],\n        ]\n    }\n\n    fidnSides(){\n        if(this.arcDegree === 360) return false\n        return [\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.minRadAngle)*this.radius,this.absoluteY-Math.sin(this.minRadAngle)*this.radius],\n            [this.absoluteX,this.absoluteY,this.absoluteX+Math.cos(this.maxRadAngle)*this.radius,this.absoluteY-Math.sin(this.maxRadAngle)*this.radius]\n        ]\n    }\n\n    collide(shape){\n        let vertex1 = this.findVertex()\n        let vertex2 = shape.findVertex()\n\n        for(let [x,y] of vertex1){\n            if(shape.pointInShape(x,y)) return true\n        }\n        for(let [x,y] of vertex2){\n            if(this.pointInShape(x,y)) return true\n        }\n        if(shape.kind==='arc'){                \n            //when checking for intersection between 2 arcs, there are 2 cases\n            //Case 1: they are both circles. In this case the distance between the 2 center have to be smaller or equal to\n            //sum of radius for them to intersect\n\n            if(this.pureCircle && shape.pureCircle){\n                return findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) <= this.radius + shape.radius\n            }\n\n            //Case 2: either of them are arcs\n            //In these cases, there are 2 scenarios\n            //Scenario 1: one of the vertexes will be inside the circle, this is easy to check\n            //Scenario 2: none of the vertex is inside the circle. There is only one possible explanation for this. In this case, check if \n            //the \"ray\" that connect the 2 center is inside both arcs, then check that the length of the ray is less than the length of both radius\n\n            if(findDistance2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY) > this.radius + shape.radius) return false\n\n            let ray1 = findAngle2Point(this.absoluteX,this.absoluteY,shape.absoluteX,shape.absoluteY)\n            let ray2 = findAngle2Point(shape.absoluteX,shape.absoluteY,this.absoluteX,this.absoluteY)\n            return ((ray1<this.maxAngle&&ray1>this.minAngle)&&(ray2<shape.maxAngle&&ray2>shape.minAngle))\n        }\n        else{\n            let side = shape.findSides()\n\n            for(let s of side){\n                let closest = findClosestPoint(this.absoluteX,this.absoluteY,s)\n                if(closest){\n                    if (this.pointInShape(closest[0],closest[1])) return true\n                }\n            }\n            return false\n        }\n    }\n}\n\nlght.roundedRectangle = class extends lght.rect{\n    constructor(property,parent){\n        super(property,parent)\n        this.borderRadius = (property.borderRadius) || 0\n        if(this.clip){\n            if(property.clipCanvas){\n                this.clipImage = property.clipCanvas;\n                this.clipCanvas=true\n            }\n            else{\n                this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                    this.parent.updateVisual()\n                })\n            }\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        if(this.clipCanvas) return true\n        return this.clipImage.complete\n    }\n\n    changeClipImage(imageUrl){\n        this.clipImage = lght.sprite(imageUrl,()=>{\n            this.parent.updateVisual()\n        })\n    }\n}\n\nlght.poly = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultPolyOptions,this)\n        if(this.clip){\n            this.clipImage = lght.sprite(this.clipImageLink,()=>{\n                this.parent.updateVisual()\n            })\n        }\n    }\n\n    get clipImageLoaded(){\n        if(!this.clip) return false\n        return this.clipImage.complete\n    }\n\n    get polyPoints(){\n        if(!this.specialPolygon) return this.points\n        const radiusCoefficient = 360/this.numberOfSide\n        const result = []\n        for(let i = 0;i<this.numberOfSide;i++){\n            result.push(calculateRotatePoint(0,0,radiusCoefficient*i,this.radius))\n        }\n        return result\n    }  \n\n    get width(){\n        return this.findMax()[1] - this.findMax()[0]\n    }\n\n    get height(){\n        return this.findMax()[3] - this.findMax()[2]\n    }\n\n    get sideLength(){\n        if(!this.specialPolygon) return null\n        const radiusCoefficient = degToRad(360/this.numberOfSide)\n        return Math.sqrt(2*Math.pow(this.radius,2) - 2*Math.pow(this.radius,2)*Math.cos(radiusCoefficient))\n    }\n\n    findVertex(){\n        return this.polyPoints.map(([x,y])=>rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation))\n    }\n}\n\nlght.line = class extends lght.shape{\n    constructor(property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultLineOptions,this)\n    }\n\n    get rotatedPoints(){\n        return this.points.map(([x,y])=>(rotatePoint(this.absoluteX,this.absoluteY,x+this.absoluteX,y+this.absoluteY,this.rotation)))\n    }\n\n    findVertex(){\n        const result = []\n        const notIncluded = ([x,y]) => {\n            for (const position of result) {\n                const [x2,y2] = position\n                if(~~ (x + 0.5)===~~ (x2+ 0.5) && ~~ (y + 0.5)===~~ (y2+0.5)) return false\n            }\n            return true\n        }\n        const point = [...this.rotatedPoints]\n        point.forEach(([x1,y1],index)=>{\n            if (index===point.length-1) return\n            const [x2,y2] = this.rotatedPoints[index+1]\n            const distance = findDistance2Point(x1,y1,x2,y2)\n            const tan = Math.atan((this.lineWidth/2)/distance)\n            const angle = findAngle2Point(x1,y1,x2,y2)\n            const angleQuadrant = radToDeg(tan)+angle\n            const firstDistance = Math.sqrt(distance*distance + (0.5*this.lineWidth)*(0.5*this.lineWidth))\n            const pointOneInFirstQuadrant = calculateRotatePoint(x1,y1,angleQuadrant,firstDistance)\n            const pointSecondInSecondQuadrant = calculateRotatePoint(...pointOneInFirstQuadrant,180+angle,distance)\n            const pointThreeInThirdQuadrant = calculateRotatePoint(...pointSecondInSecondQuadrant,270+angle,distance)\n            const pointFourInFourthQuadrant = calculateRotatePoint(...pointThreeInThirdQuadrant,angle,distance)\n            if(notIncluded(pointFourInFourthQuadrant)) result.push(pointFourInFourthQuadrant)\n            if(notIncluded(pointOneInFirstQuadrant)) result.push(pointOneInFirstQuadrant)\n            if(notIncluded(pointSecondInSecondQuadrant)) result.push(pointSecondInSecondQuadrant)\n            if(notIncluded(pointThreeInThirdQuadrant)) result.push(pointThreeInThirdQuadrant)\n        })\n        return result\n    }\n}\n\nlght.text = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultTextOptions,this)\n    }\n\n    get textSize(){\n        var c = lght.apps[0].context;\n        c.save();\n        c.font = this.font;\n        var width = c.measureText(this.text).width;\n        var height = c.measureText('gM').width;\n        c.restore();\n        return [width,height];\n    }\n\n    get w(){\n        return this.textSize[0] + this.borderWidthIfBorderIsOn\n    }\n\n    get h(){\n        return this.textSize[1] + this.borderWidthIfBorderIsOn\n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,0.5],[1,0.5]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\nlght.img = class extends lght.shape{\n    constructor (property,parent){\n        super(property,parent)\n        mergeDefaultPropertyObject(property,lght.defaultImgOptions,this)\n        this.sprite = lght.sprite(this.spriteLink,()=>{\n            if(this.loadedFunction) this.loadedFunction()\n            this.parent.updateVisual()\n        })\n    }\n\n    get imageLoaded(){\n        return this.sprite.complete\n    }\n\n    get w(){\n        if(this.drawWidth) return this.drawWidth\n        if(this.imageLoaded){\n            if(this.drawHeight) return (this.drawHeight*this.sprite.width)/this.sprite.height\n            return this.sprite.width\n        }\n        return 0\n    }\n\n    get h(){\n        if(this.drawHeight) return this.drawHeight\n        if(this.imageLoaded){\n            if(this.drawWidth) return (this.drawWidth*this.sprite.height)/this.sprite.width\n            return this.sprite.height\n        }\n        return 0 \n    }\n\n    findVertex(){\n        let reference = [[1,-1],[-1,-1],[-1,1],[1,1]]\n        let result = []\n        reference.forEach(([rx,ry])=>{\n            let nx = this.absoluteX + 0.5*this.width*rx\n            let ny = this.absoluteY + 0.5*this.height*ry\n            result.push(rotatePoint(this.absoluteX,this.absoluteY,nx,ny,this.rotation))\n        })\n        return result\n    }\n}\n\n//Input\n //<--------------KEYBOARD INPUT GO HERE------------------->\n lght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\nlght.app.prototype.startCursor = function(){\n    this.canvas.style.cursor = 'pointer'\n}\n\nlght.app.prototype.endCursor = function(){\n    this.canvas.style.cursor = 'default'\n}\n\nlght.object.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.startCursor(),()=>this.parent.endCursor())\n}\n\nlght.shape.prototype.enterCursorEvent = function(){\n    if(this.alreadyCursorEvent) return\n    this.alreadyCursorEvent = true\n    this.hoverEvent(()=>this.parent.parent.startCursor(),()=>this.parent.parent.endCursor())\n}\n\nlght.app.prototype.attachEvent = function(event,func){\n    const mobile = window.mobileCheck()\n    let trueEvent = event\n    if(mobile){\n        switch(trueEvent){\n            case 'mousedown':\n                trueEvent = 'touchstart'\n                break\n            case 'mouseup':\n                trueEvent='touchend'\n                break\n            case 'mousemove':\n                trueEvent='touchmove'\n                break\n            default:\n                break;\n        }\n    }\n    this.addEventListener(trueEvent,(e)=>{\n        if(this.killed) return \n        if(window.mobileCheck()){\n            Array.from(e.changedTouches).forEach(touch=>{\n                const [x,y] = this.translateMouseCoor(touch)\n                func(x,y)\n            })\n            return\n        }\n        const [x,y] = this.translateMouseCoor(e)\n        func(x,y)\n    })\n}\n\nlght.app.prototype.mouseInputInit = function(){\n    const handleCoor = (x,y,event)=>{\n        if(this.objects.length === 0) return\n        for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj[event].length === 0) continue\n            if(!obj.display) continue\n\n            if(obj.pointInObject(x,y)){\n                for(let func of obj[event])( func(x,y))\n                break;\n            }\n        }\n        LargeLoop:for (let i = this.objects.length;i--;i>=0){\n            const obj = this.objects[i]\n            if(obj.shapes.length === 0) continue\n            if(!obj.display) continue\n            for(let a = obj.shapes.length;a--;a>=0){\n                const shape = obj.shapes[a]\n                if(shape[event].length === 0) continue\n                if(!shape.display) continue\n                if(shape.pointInShape(x,y)){\n                    for(let func of shape[event]){func(x,y)}\n                    break LargeLoop;\n                }\n            }\n        }\n    }\n\n    this.attachEvent('mouseup',(x,y)=>handleCoor(x,y,'mouseUpEvent'))\n    this.attachEvent('mousemove',(x,y)=>handleCoor(x,y,'mouseMoveEvent'))\n    this.attachEvent('mousedown',(x,y)=>handleCoor(x,y,'mouseDownEvent'))\n}\n\n//PRESS EVENT FOR AN APP\nlght.object.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n}\n\n//MAKE AN OBJECT DRAGGABLE\nlght.object.prototype.makeDraggable = function (func,funcDone) {\n    this.enterCursorEvent()\n    this.onDrag = false; var obj = this; this.draggable = true;\n    var rx = 0; var ry = 0; \n\n    this.mouseDownEvent.push((x,y)=>{\n        if(obj.draggable){\n            if(!obj.onDrag){\n                obj.onDrag = true;\n                rx = x - obj.x; ry = y - obj.y;\n            }\n        }\n    })\n\n    this.parent.attachEvent('mousemove', (...c) => {\n        if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height) obj.onDrag = false\n        if(obj.onDrag){\n            obj.x = c[0] - rx; obj.y = c[1] - ry;\n            obj.updateVisual();\n            if(typeof func == 'function') func(obj);\n        }\n    })\n\n    this.parent.attachEvent('mouseup', (e) => {\n        if(obj.onDrag){\n            obj.onDrag = false;\n            if(funcDone) funcDone()\n        }\n    })\n}\n\n//HOVER EVENT\nlght.object.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        this.parent.attachEvent('mousemove', (...c)=>{\n            if(c[0] < 0 || c[0] >this.parent.canvas.width || c[1] < 0 || c[1] > this.parent.canvas.height){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.updateVisual()\n                return;\n            }\n            var touch = obj.pointInObject(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.updateVisual()\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.updateVisual()\n            }\n        })\n    }\n}\n\n//INPUT FOR SHAPES\nlght.object.prototype.attachQuickMovement = function (velocity,cooldown,func) {\n    var cd = true; var obj = this\n    document.addEventListener('keydown',function(key){\n        if(cd){\n            if(lght.inputReference.movementIndex.indexOf(key.key)!==-1){\n                obj.x += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][0]*velocity;\n                obj.y += lght.inputReference.coeffIndex[lght.inputReference.movementIndex.indexOf(key.key)][1]*velocity;\n                obj.updateVisual();\n                if(func) func(key,obj);\n                cd = false; \n                setTimeout(()=>{cd = true;},cooldown)\n            }\n        }\n    })\n}\n\n//<--------------MOUSE INPUT GO HERE---------------------->\n\n//PRESS EVENT FOR AN APP\nlght.shape.prototype.pressedEvent = function (func) {\n    this.enterCursorEvent()\n    this.mouseUpEvent.push(func)\n}\n\n//HOVER EVENT\nlght.shape.prototype.hoverEvent = function (funcin,funcout)  {\n    this.mouseIn = false; var obj = this;\n    this.hoverEvents.push([funcin,funcout])\n    if(this.hoverEvents.length === 1){\n        this.enterCursorEvent()\n        this.parent.parent.attachEvent('mousemove', (...c)=>{\n            if(!this.display) return\n            if(c[0] < 0 || c[0] >this.parent.parent.canvas.width || c[1] < 0 || c[1] > this.parent.parent.canvas.height){\n                obj.mouseIn = false; \n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n                return;\n            }\n            var touch = obj.pointInShape(c[0],c[1]);\n            if(obj.mouseIn && (!touch)){\n                obj.mouseIn = false;\n                for(let event of this.hoverEvents){\n                    if(event[1]) event[1]() \n                }\n                obj.parent.updateVisual();\n            }\n            \n        })\n        this.mouseMoveEvent.push(()=>{\n            if(!obj.mouseIn){\n                obj.mouseIn = true;\n                for(let event of this.hoverEvents){\n                    if(event[0]) event[0]() \n                }\n                obj.parent.updateVisual()\n            }\n        })\n    }\n}\n\n//Animation\nlght.app.prototype.animate = function() {\n    if(lght.frameTime !== undefined && lght.lastFrame !== undefined){\n        let timeDifference = lght.frameTime - lght.lastFrame\n        this.objects.forEach(e => {\n            e.animate(timeDifference);\n            e.shapes.forEach(a => {\n                a.animate(timeDifference)\n            })\n        });\n    }\n}\n\nconst addAnimation = function(property,value,time,func){\n    this.animationCount++;\n    let id = this.animationCount;\n\n    let timeout = setTimeout(()=>{\n        changeByDotNotation(property,this,value)\n        this.cancelAnimation(id)\n        if(this.parent.static !== undefined) this.parent.static = true\n        else this.static = true\n        if(func) func();\n    },time)\n\n    const alreadyAnimated = this.animations.find((animation)=>animation[0] === property)\n    if(alreadyAnimated){\n        this.cancelAnimation(alreadyAnimated[6])\n    }\n    if(property !== 'x' && property !== 'y'){\n        if(this.parent.static !== undefined) this.parent.static = false\n        else this.static = false\n    }\n    this.animations.push([property,value,getByDotNotation(property,this),time,timeout,func,id]);\n    return id;\n}\n\nconst cancelAnimation = function(){\n    for(let id of [...arguments]){\n        let animation = this.animations.find(e=>e[6] === id)\n        let index = this.animations.findIndex(e=>e[6]===id)\n        if(!animation) return false\n        clearTimeout(animation[4])\n        this.animations.splice(index,1)\n    }\n}\n\nconst animate = function (time){\n    let obj = this\n    this.animations.forEach(animation=>{\n        let [property,value,init,timeUp] = animation\n        let newValue = getByDotNotation(property,obj) + (time/timeUp)*(value-init)\n        if(init < value && newValue > value) newValue = value\n        if(init>value && newValue < value) newValue = value\n        changeByDotNotation(property,obj,newValue)\n    })\n}\n\nlght.animateFunctionReference = {\n    animate,\n    addAnimation,\n    cancelAnimation,\n}\n\nfor(var prop in lght.animateFunctionReference){\n    lght.object.prototype[prop] = lght.animateFunctionReference[prop];\n    lght.shape.prototype[prop] = lght.animateFunctionReference[prop];\n}\n\n//Draw\nlght.app.prototype.render = function(){\n    this.clearCanvas();\n    this.fillBackground();\n    this.renderShape();\n}\n\nlght.app.prototype.visualInit = function(){\n    this.backgroundColor = this.options.background;\n    this.context = this.canvas.getContext(\"2d\");\n}\n\nlght.app.prototype.renderShape = function(){\n    this.renderPositions();\n\n    this.objects.sort((a,b)=>a.zIndex -b.zIndex).forEach(obj=>{\n        obj.draw();\n    })\n}\n\n//<-------------------BASIC CANVAS STUFF---------------------->\n//CLEARING CANVAS AND BACKGROUND COLOR\nlght.app.prototype.clearCanvas = function(){\n    this.context.save(); \n    this.context.clearRect(0,0,this.canvas.width,this.canvas.height); \n    this.context.restore();\n}\n\nlght.app.prototype.fillBackground = function(){\n    if(this.backgroundColor!=='none'){\n        this.context.save(); \n        this.context.fillStyle = this.backgroundColor;\n        this.context.fillRect(0,0,this.canvas.width,this.canvas.height);\n        this.context.restore();\n    }\n}\n\n/*POSITION INDICATOR FUNCTIONS GO HERE\nDraw all position indicators at once to save performance from context state change*/\nlght.app.prototype.renderPositions = function(){\n    this.context.save();\n    this.context.fillStyle = 'red';\n\n    this.objects.forEach(({x,y,positionIndicator}) => {\n        if(!positionIndicator) return\n        this.context.beginPath()\n        this.context.arc(x,y,5,0,2*Math.PI)\n        this.context.closePath()\n        this.context.fill()\n    });\n    \n    this.context.restore();\n}\n\n\n/* SHAPE PRERENDERING FUNCTIONS GO HERE\nShape prerendering prerender shapes on canvases to save performance*/\n\nlght.object.prototype.updateVisual = function(){\n    //If the dimension changes a new canvas have to be created\n    var max = this.findMax();\n    for(var i = 0;i<max.length;i++){\n        if(~~ (max[i] + 0.5)!== ~~ (this.preloader.maxes[i] + 0.5)){\n            this.createPreloader(); return;\n        }\n    }\n\n    this.clearPreloader();\n\n    this.shapes.forEach(s=>{\n        let x = this.preloader.ox + s.x\n        let y = this.preloader.oy + s.y\n        lght.drawShape(this.preloader.context,x,y,s,)\n    })\n    if(!this.parent.options.constantRender) this.parent.turnFunctions(this.parent)\n}\n\nlght.object.prototype.clearPreloader = function(){\n    this.preloader.context.clearRect(0,0,this.preloader.width,this.preloader.height);\n}\n\nlght.object.prototype.createPreloader = function(){\n    this.preloader = document.createElement('canvas');\n    \n    this.preloader.maxes = this.findMax();\n    let [minX,maxX,minY,maxY] = this.preloader.maxes\n\n    this.preloader.width = maxX-minX;\n    this.preloader.height = maxY-minY;\n\n    this.preloader.ox = this.x - minX;\n    this.preloader.oy = this.y - minY;\n\n    this.preloader.context = this.preloader.getContext('2d');\n\n    this.updateVisual();\n}\n\nlght.object.prototype.drawPreloader = function(){\n    if(!this.display) return\n    if(this.preloader.width >0 && this.preloader.height > 0){\n        let x = this.preloader.maxes[0] + this.preloader.width/2;\n        let y = this.preloader.maxes[2] + this.preloader.height/2;\n        x = ~~(x+0.5); y = ~~(y+0.5);\n\n        this.parent.context.save()\n        this.parent.context.translate(x,y)\n        lght.drawImg(this.parent.context,this.preloader,this.preloader.width,this.preloader.height);\n        this.parent.context.restore()\n    }\n}\n\n\n//<------------------SHAPE DRAWING FUNCTION---------------->\nlght.object.prototype.draw = function(){\n    if(!this.display) return\n    this.shapes.forEach(s=>{\n        lght.drawShape(this.parent.context,this.x+s.x,this.y+s.y,s)\n    })\n}\n\n//MASTER FUNCTION\nlght.drawShape = function(c,x,y,shape){\n    x = ~~(x+0.5)\n    y = ~~(y+0.5)\n    if(!shape.display) return\n    if(shape.border || shape.borderOnly) this.drawShapeKind(c,shape,x,y,true,1,shape.borderColor,shape.shadow);\n    else if(!shape.borderOnly && !shape.border) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color,shape.shadow);\n    if(!shape.borderOnly) this.drawShapeKind(c,shape,x,y,false,shape.opacity,shape.color);\n}\n\nlght.drawShapeKind = function(c,s,x,y,stroke,opacity,color,shadow){\n    opacity = opacity * s.parent.opacity;\n    if(opacity == 0 || opacity <0 ) return\n\n    c.save()\n    c.globalAlpha = opacity\n    c.fillStyle = color\n    c.strokeStyle = color\n    c.lineWidth = s.borderWidth\n    c.translate(x,y)\n    c.scale(s.scaleX,s.scaleY)\n\n    if(shadow){\n        const {color,blur,offsetX,offsetY} = shadow\n        c.shadowColor = color\n        c.shadowBlur = blur\n        c.shadowOffsetX = offsetX\n        c.shadowOffsetY = offsetY\n    }\n\n    switch(s.kind){\n        case 'rect':\n            lght.drawRect(c, s.w, s.h, s.rotation, stroke); break;\n        case 'arc':\n            lght.drawArc(c, s.rad,s.arcDegree,s.rotation, stroke); break;\n        case 'text':\n            lght.drawText(c, s.text,s.font, stroke,s.textAlign ,s.w, s.h,s.rotation); break;\n        case 'img':\n            if(s.imageLoaded) lght.drawImg(c, s.sprite,s.w,s.h,s.rotation); break;\n        case 'poly':\n            lght.drawPoly(c, s.polyPoints,s.rotation, stroke); break;\n        case 'line':\n            if(stroke){\n                const points = s.points.map(((position,index)=>{\n                    const [x,y] = position\n                    if(index === 0){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index+1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else if(index === s.points.length-1){\n                        const angle = degToRad(findAngle2Point(...position,...s.points[index-1]))\n                        return [x-s.borderWidth*Math.cos(angle),y+s.borderWidth*Math.sin(angle)]\n                    }\n                    else return [x,y]\n                }))\n                lght.drawLine(c,points,s.rotation,s.lineWidth+s.borderWidth);\n            }\n            else lght.drawLine(c,s.points,s.rotation,s.lineWidth); break;\n        case 'roundedRectangle':\n            lght.drawRoundedRectangle(c,s.w,s.h,s.rotation,s.borderRadius,stroke)\n            break\n        default:\n            break\n    }\n    if(s.clip && s.clipImageLoaded){\n        c.clip()\n        c.rotate(degToRad(s.rotation))\n        if(typeof s.clipSpriteSheetX === 'number' && typeof s.clipSpriteSheetY === 'number'){\n            const spriteWidth = s.clipImage.width / s.spriteLengthX\n            const spriteHeight = s.clipImage.height / s.spriteLengthY\n            const clipStartX = s.clipSpriteSheetX * spriteWidth\n            const clipStartY = s.clipSpriteSheetY * spriteHeight\n            c.drawImage(s.clipImage,clipStartX,clipStartY,spriteWidth,spriteHeight,(-s.width/2)/s.scaleX,(-s.height/2)/s.scaleY,s.width/s.scaleX,s.height/s.scaleY)\n        }\n        else c.drawImage(s.clipImage,(-s.width/2)/ s.scaleX,(-s.height/2)/ s.scaleY,s.width / s.scaleX,s.height / s.scaleY)\n    }\n\n    c.restore()\n}\n\n//DRAWING RECTANGLE\nlght.drawRect = function(c,w,h,rotation,stroke){\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.strokeRect(-w/2,-h/2,w,h);\n    else c.fillRect(-w/2,-h/2,w,h);\n}\n\nlght.drawRoundedRectangle = (c,w,h,rotation,borderRadius,stroke)=>{\n    c.rotate(degToRad(360,rotation))\n    c.beginPath()\n    c.moveTo(0,-h*0.5)\n    c.lineTo(-w*0.5+borderRadius,-h*0.5)\n    c.quadraticCurveTo(-w*0.5,-h*0.5,-w*0.5,-h*0.5+borderRadius)\n    c.lineTo(-w*0.5,h*0.5-borderRadius)\n    c.quadraticCurveTo(-w*0.5,h*0.5,-w*0.5+borderRadius,h*0.5)\n    c.lineTo(w*0.5-borderRadius,h*0.5)\n    c.quadraticCurveTo(w*0.5,h*0.5,w*0.5,h*0.5-borderRadius)\n    c.lineTo(w*0.5,-h*0.5+borderRadius)\n    c.quadraticCurveTo(w*0.5,-h*0.5,w*0.5-borderRadius,-h*0.5)\n    c.lineTo(0,-h*0.5)\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\n//DRAWING CIRCLES\nlght.drawArc = function(c,rad,arcDegree,rotation,stroke){\n    c.beginPath();\n\n    const br = degToRad(360 - rotation - arcDegree);\n    const er = degToRad(360 - rotation);\n\n    if(arcDegree < 360){\n        const [x,y] = rotatePoint(0,0,rad,0,360-rotation-arcDegree);\n        c.moveTo(x,y); c.moveTo(0,0);\n    }\n\n    c.arc(0,0,rad,br,er);\n\n    if(stroke) c.stroke();\n    else c.fill();\n    c.closePath();\n\n}\n\n//DRAWING TEXT\n\nlght.drawText = function(c,text,font,stroke,textAlign,width,height,rotation){\n    c.textAlign = textAlign;\n    c.font = font;\n    c.rotate(degToRad(360-rotation))\n    if(stroke) c.fillText(text,~~(-width/2 +  0.5),~~(height/3.5 + 0.5));\n    else c.fillText(text,~~(-width/2 + 0.5),~~(height/3.5 + 0.5))\n}\n\n//DRAWING IMAGES\nlght.drawImg = function(c,sprite,w,h,rotation){\n    c.rotate(degToRad(360-rotation));\n    c.drawImage(sprite,-w/2,-h/2,w,h);\n}\n\nlght.drawPoly = (c,points,rotation,stroke) => {\n    if(points.length === 0 || !points) return \n    c.rotate(degToRad(360-rotation))\n    c.beginPath()\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.closePath()\n    if(stroke) c.stroke()\n    else c.fill()\n}\n\nlght.drawLine = (c,points,rotation,lineWidth)=>{\n    c.beginPath()\n    c.rotate(degToRad(360-rotation))\n    c.moveTo(...points[0])\n    points.forEach(([x,y])=>c.lineTo(x,y))\n    c.lineWidth = lineWidth\n    c.stroke()\n}\n\nlght.object.prototype.addShape = function (property) {\n    let shape = new lght[property.kind](property,this);\n    this.updateVisual()\n    return shape\n}\n\nlght.app.prototype.addObject = function (property) {\n    return new lght.object(property,this);\n}\n\nlght.app.prototype.addStorage = function (property){\n    return new lght.storage(property,this)\n}\n\nlght.app.prototype.removeObject = function (obj) {\n    this.objects.splice(this.objects.indexOf(obj),1);\n}\n\nexport default lght","import lght from './lght/lght'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst webView = class{\n  constructor(ref,ref2,ref3){\n\n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    this.app = new lght.app(ref)\n    this.app.backgroundColor = 'none'\n    this.staticApp = new lght.app(ref2,{constantRender:false})\n    this.staticApp.backgroundColor='none'\n    this.app.pixelDensity = pd\n    this.app.canvas.width = 850*pd\n    this.app.canvas.height = 650*pd\n    this.staticApp.pixelDensity = pd\n    this.staticApp.canvas.width = 850*pd\n    this.staticApp.canvas.height = 650*pd\n    console.log(this.staticApp.canvas)\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/wood.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.positionReference = {\n      leaderBoard:[700*pd,279*pd],\n      drawDeck:[300*pd,279*pd],\n      playDeck:[this.app.canvas.width/2 + 75*pd,279*pd],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',300*pd,279*pd)\n    this.drawDeck.addShape({kind:'text',text:'Draw Here',color:'black',y:85*pd,font:'35px Futura'})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      else resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n            drawable = true\n            resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawEmote()\n    this.drawAddBot()\n    this.drawEndGame()\n    this.drawSoundIcon()\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:800*pd,y:50*pd})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addShape({kind:'roundedRectangle',color:'#ffffed',w:700,h:200,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const text = endGame.addShape({kind:'text',text:'Someone had won the game!',font:'40px Arial Bold',y:-10})\n    let resolveFunction = ()=>{}\n    const restartText = endGame.addShape({kind:'text',text:'New Game',font:'30px Arial Bold',color:'blue',y:50})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    })\n    restartText.pressedEvent(()=>resolveFunction())\n    this.activateEndGame = (name,func)=>{\n      text.text = ` ${name} had won the game! `\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(){\n    const tutorial = this.app.addStorage({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000,direction:'column',spacing:5,})\n    tutorial.addShape({kind:'roundedRectangle',color:'#ffffed',w:750,h:750,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    x.pressedEvent(()=>tutorial.display = false)\n    tutorial.model = [\n      ' Welcome to Uno Online! ',\n      'Some quick pointers:',\n      ' Use \"Copy Link\" from the left to automatically',\n      'get a link you can send to your friends!',\n      ' You can start the game when at least 2 players ',\n      '(including bots) are present. The panel on the left',\n      'show you who is in the game.',\n      ' You can use the emote panel below to piss', \n      'off your friends when playing.',\n      \" And that is it! If you have any feedback\",\n      \"please  me at vietlongali@gmail.com\",\n      \"Have fun!\",\n      \"Love this app? Buy me a beer on \",\n      'Venmo @LongTran123'\n    ]\n    tutorial.elementFunction = (content)=>{\n      const shape = tutorial.addShape({kind:'text',font:'30px Arial Bold',text:content})\n      shape.x = -340 + 0.5*shape.width\n      return shape\n    }\n    tutorial.updateToModel()\n    this.showTutorial = ()=>tutorial.display = true\n  }\n\n  drawAddBot(){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 100*pd})\n    const text = addBot.addShape({kind:'text',font:'35px Arial Bold',text:'Add Bot ',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    })\n    text.pressedEvent(()=>resolveFunction())\n    this.startAddBot = (func)=>{\n      resolveFunction = func\n      addBot.display = true\n    }\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    const emoteChooser = this.app.addStorage({x:250*pd,y:470*pd,spacing:-15,zIndex:-1})\n    emoteChooser.addShape({kind:'roundedRectangle',color:'white',w:370*pd,h:40*pd,borderRadius:10*pd,border:true,borderColor:'black',borderWidth:5,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    emoteChooser.model = ['Emote:','','','','','','']\n    emoteChooser.elementFunction = (content,index)=>{\n      if(!index) return emoteChooser.addShape({kind:'text',text:content,font:'35px Arial Bold'})\n      const shape = emoteChooser.addShape({kind:'text',text:content,font:'35px Arial Bold'})\n      shape.hoverEvent(()=>{\n        shape.font = '50px Arial Bold';\n        emoteChooser.updateVisual()\n      },()=>{\n        shape.font = '30px Arial Bold';\n        emoteChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>func(content))\n      return shape\n    }\n    emoteChooser.updateToModel()\n  }\n\n  drawEmote(){\n    const emoteText = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 170*pd,zIndex:1000})\n    const text = emoteText.addShape({kind:'text',text:\"Someone emote something\",font:'60px Arial Bold',color:'green'})\n    emoteText.addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:100,display:false})\n    let timeInterval = null\n    \n    this.emote = (name,color,emoji)=>{\n      clearInterval(timeInterval)\n      text.text = `${name} emote ${emoji}`\n      text.color = color\n      emoteText.updateVisual()\n      emoteText.display = true\n      text.opacity = 0\n      text.addAnimation('opacity',1,100,()=>{timeInterval = setTimeout(()=>{\n        text.addAnimation('opacity',0,100,()=>{\n          emoteText.display = false\n        })\n        },1000)\n      })\n    }\n  }\n\n  animatePlayerPlay = (content)=>this.animatePlay(content,...this.positionReference.playerDeck)\n  animatePlayerDraw = ()=>this.animateDraw(...this.positionReference.playerDeck)\n  animateLeaderboardDraw = ()=>this.animateDraw(...this.positionReference.leaderBoard)\n  animateLeaderboardPlay = (content)=> this.animatePlay(content,...this.positionReference.leaderBoard)\n\n\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    specialInfo.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:50*pd})\n    const text = specialInfo.addShape({kind:'text',font:'40px Futura',text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    })\n    card.addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n    card.shapes[0].addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction){\n    const actionalPanel = this.app.addStorage({x:100*pd,y:279*pd,spacing:20,direction:'column'})\n    actionalPanel.addShape({kind:'roundedRectangle',w:120*pd,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    actionalPanel.addShape({kind:'text',font:'32px Futura',text:\"Actions:\",y:-60*pd})\n    actionalPanel.model = ['Copy Link','Leave Game','Restart Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addShape({kind:'text',font:'30px Futura',text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      })\n      shape.pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.staticApp.addStorage({x:700*pd,y:279*pd,spacing:10,direction:'column'})\n    leaderBoard.addShape({kind:'roundedRectangle',w:120*pd,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    leaderBoard.addShape({kind:'text',font:'32px Futura',text:\"Turn Board:\",y:-60*pd})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addShape({x:85*pd,kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:10*pd,rotation:180})\n    let color = ['green','red','darkyellow','blue']\n    leaderBoard.elementFunction = (content,i)=>{return leaderBoard.addShape({kind:'text',font:'30px Futura',color:color[i],text:content})}\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn+2]\n      turnIndicator.x = absoluteX + 10*pd\n      turnIndicator.addAnimation('y',absoluteY,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n    this.updateLeaderboard = (players)=>{\n          leaderBoard.model = players\n          leaderBoard.updateToModel()\n          this.staticApp.turnFunctions(this.staticApp)\n    }\n  }\n\n  createHand(){\n    let cards = []\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.app.addStorage({spacing:-70*pd,y:this.app.canvas.height-(handHeight/2),x:this.app.canvas.width/2,model:cards})\n    playerHand.addShape({kind:'rect',color:'brown',w:this.app.canvas.width,h:handHeight})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addShape({borderOnly:true,y:30,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd*1.2,h:145.5*pd*1.2,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n      shape.hoverEvent(()=>{\n        if(verifyFunction(content) && onSelect) shape.borderColor = 'yellow'\n        shape.borderWidth = 5*pd\n        shape.addAnimation('y',-100,200)\n      },()=>{\n        shape.borderColor = 'black'\n        shape.borderWidth = 1.25*pd\n        shape.addAnimation('y',30,200)\n      })\n      shape.pressedEvent(()=>{\n            if(!verifyFunction(content) || !onSelect) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deckCardOption = {kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'}\n    const deck = this.staticApp.addObject({x,y})\n    deck.addShape({x:6*pd,y:-5*pd,...deckCardOption})\n    deck.addShape({x:4*pd,y:-3.75*pd,...deckCardOption})\n    deck.addShape({x:3*pd,y:-2.5*pd,...deckCardOption})\n    deck.addShape({x:1.5*pd,y:-1.25*pd,...deckCardOption})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,display:false})\n    if(back){\n      card.addShape({kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:'assets/back.png',borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addShape({clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.png')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({display:false,zIndex:1000,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,model:colors,spacing:25,direction:'column'})\n    colorChooser.addShape({kind:'roundedRectangle',w:200*pd,h:200*pd,borderRadius:10*pd,color:'white',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    colorChooser.addShape({kind:'text',font:'35px Futura',text:'Choose a color:',y:-85*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addShape({kind:'text',color:textColor[i],font:'30px Futura',text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        colorChooser.updateVisual()\n      },()=>{\n        shape.color = textColor[i]\n        colorChooser.updateVisual()\n      })\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      this.onAnnouncementPerpetual = false\n      this.onAnnoucementChanged = false\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:this.app.canvas.width/2,y:50*pd,positionIndicator:false})\n      this.annoucementText = this.announcement.addShape({kind:'text',font:'100px Futura',color:'orange',text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else if(this.announcementQueue.length >0) return\n          else if(!this.onAnnouncementPerpetual && this.annoucementText.display) return fadeOut()\n          else if(this.onAnnouncementPerpetual && ((!this.annoucementText.display) || this.onAnnoucementChanged)) return fadeOutThenFadeIn(()=>{\n              let [text,color] = this.announcmentPerpetual\n              this.annoucementText.text = text\n              this.annoucementText.color = color\n          })\n      }\n    }\n\n    changeAnnoucementPerpetual(text,color){\n      this.announcmentPerpetual = [text,color]\n      this.onAnnoucementChanged = true\n      this.updateAnnouncement()\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/18.svg',scaleX:0,scaleY:0})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height-100*pd,display:false})\n      const text = startGameObject.addShape({kind:'text',text:'Start Game',color:'black',font:'50px Futura'})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default webView","import lght from './lght/lght'\nconst pd = 2\nconst handHeight = 75*pd\nconst spriteLink = 'https://upload.wikimedia.org/wikipedia/commons/9/95/UNO_cards_deck.svg'\nconst mobileView = class{\n  constructor(ref,ref2,ref3){\n\n      \n    this.cardSpriteColumn = 14\n    this.cardSpriteRow = 8\n    this.cardSpriteReference = {\n      wild:[0,13],\n      Draw4:[4,13],\n      colorReference:['red','yellow','green','blue'],\n      otherReference:['Skip','Reverse','Draw 2']\n    }\n    this.app = new lght.app(ref)\n    this.app.backgroundColor = 'none'\n    this.staticApp = new lght.app(ref2,{constantRender:false})\n    this.staticApp.backgroundColor='none'\n    this.app.pixelDensity = pd\n    this.cardApp = new lght.app(ref3,{constantRender:true})\n    this.cardApp.pixelDensity = pd\n    this.cardApp.backgroundColor = 'none'\n    var ratio = window.devicePixelRatio || 1;\n      var w = window.screen.width * ratio;\n      var h = window.screen.height * ratio;\n      var clientWidth = function () {  return Math.max(window.innerWidth);};\n    var clientHeight = function () {  return Math.max(window.innerHeight);};\n    this.app.canvas.width = clientWidth()*pd\n    this.app.canvas.height = clientHeight()*pd\n    this.staticApp.pixelDensity = window.devicePixelRatio\n    this.staticApp.canvas.width = clientWidth()*pd\n    this.staticApp.canvas.height = clientHeight()*pd\n    this.staticApp.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:-10}).addShape({kind:'roundedRectangle',w:this.app.canvas.width,h:this.app.canvas.height,clip:true,clipImageLink:'assets/woodMobile.jpg'})\n    this.staticApp.turnFunctions(this.staticApp)\n    this.positionReference = {\n      leaderBoard:[this.app.canvas.width/2,75],\n      drawDeck:[this.app.canvas.width/2 + 100*pd,this.app.canvas.height/2 - 40*pd],\n      playDeck:[this.app.canvas.width/2 - 100*pd,this.app.canvas.height/2 - 40*pd],\n      playerDeck:[this.app.canvas.width/2,this.app.canvas.height-(handHeight/2)]\n    }\n    let drawable = false\n    let resolveFunction = ()=>{}\n    this.drawDeck = this.createDeck('blue 2',this.app.canvas.width/2 + 100*pd,this.app.canvas.height/2 - 40*pd)\n    this.drawDeck.addShape({kind:'text',text:'Draw Here',color:'black',y:85*pd,font:'35px Futura'})\n    this.drawDeck.flip()\n    this.drawDeck.pressedEvent(()=>{\n      if(!drawable) return\n      else resolveFunction()\n    })\n    this.awaitDraw = ()=>new Promise(r=>{\n            drawable = true\n            resolveFunction = (r)\n    })\n    this.cancelDraw = ()=>drawable = false\n\n    this.createHand()\n    this.createLeaderboard()\n    this.drawAnnouncement()\n    this.configureStartGameMessage()\n    this.configureUnoMessage()    \n    this.createActionPanel()\n    this.drawColorChoser()\n    this.drawSpecialInfo()\n    this.drawAddBot()\n    this.drawEndGame()\n    this.drawSoundIcon()\n  }\n\n  drawSoundIcon = ()=>{\n    const soundIcon = this.app.addObject({x:50*pd,y:this.app.canvas.height/2 + 80*pd})\n    const soundOn = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundon.png',display:true})\n    const soundOff = soundIcon.addShape({kind:'img',drawWidth:70,spriteLink:'./assets/soundoff.png',display:false})\n    let sound = true\n    soundIcon.pressedEvent(()=>{\n      if(sound){\n        lght.muteAll()\n      }\n      else{\n        lght.unmuteAll()\n      }\n      soundOn.display = !soundOn.display\n      soundOff.display = !soundOff.display\n      soundIcon.updateVisual()\n      sound = !sound\n    })\n  }\n\n  drawEndGame(){\n    const endGame = this.app.addObject({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000000})\n    endGame.addShape({kind:'roundedRectangle',color:'#ffffed',w:700,h:400,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    const text = endGame.addShape({kind:'text',text:'Someone had won the game!',font:'50px Arial Bold',y:-20})\n    let resolveFunction = ()=>{}\n    const restartText = endGame.addShape({kind:'text',text:'New Game',font:'40px Arial Bold',color:'blue',y:70})\n    restartText.hoverEvent(()=>{\n      restartText.color = 'yellow'\n      endGame.updateVisual()\n    },()=>{\n      restartText.color = 'blue'\n      endGame.updateVisual()\n    })\n    restartText.pressedEvent(()=>resolveFunction())\n    this.activateEndGame = (name,func)=>{\n      text.text = ` ${name} had won the game! `\n      endGame.updateVisual()\n      endGame.display = true\n      resolveFunction = func\n    }\n  }\n\n  drawTutorial(){\n    // const tutorial = this.app.addStorage({display:false,x:this.app.canvas.width/2,y:this.app.canvas.height/2 - 50*pd,zIndex:100000,direction:'column',spacing:5,})\n    // tutorial.addShape({kind:'roundedRectangle',color:'#ffffed',w:this.app.canvas.width,h:750,border:true,borderWidth:10,borderColor:'black',borderRadius:20,shadow:{color:'black',offsetX:5,offsetY:-5,blur:10}})\n    // const x = tutorial.addShape({kind:'img',spriteLink:'assets/crossIcon.png',drawWidth:50,x:320,y:-320})\n    // x.pressedEvent(()=>tutorial.display = false)\n    // tutorial.model = [\n    //   ' Welcome to Uno Online! ',\n    //   'Some quick pointers:',\n    //   ' Use \"Copy Link\" from the left to automatically',\n    //   'get a link you can send to your friends!',\n    //   ' You can start the game when at least 2 players ',\n    //   '(including bots) are present. The panel on the left',\n    //   'show you who is in the game.',\n    //   ' You can use the emote panel below to piss', \n    //   'off your friends when playing.',\n    //   \" And that is it! If you have any feedback\",\n    //   \"please  me at vietlongali@gmail.com\",\n    //   \"Have fun!\",\n    //   \"Love this app? Buy me a beer on \",\n    //   'Venmo @LongTran123'\n    // ]\n    // tutorial.elementFunction = (content)=>{\n    //   const shape = tutorial.addShape({kind:'text',font:'30px Arial Bold',text:content})\n    //   shape.x = -340 + 0.5*shape.width\n    //   return shape\n    // }\n    // tutorial.updateToModel()\n    // this.showTutorial = ()=>tutorial.display = true\n    this.showTutorial = ()=>{}\n  }\n\n  drawAddBot(){\n    const addBot = this.app.addObject({display:false,x:this.positionReference.leaderBoard[0],y:this.positionReference.leaderBoard[1] + 55*pd})\n    const text = addBot.addShape({kind:'text',font:'35px Arial Bold',text:'Add Bot ',})\n    let resolveFunction = ()=>{}\n    text.hoverEvent(()=>{\n      text.color = 'yellow'\n      addBot.updateVisual()\n    },()=>{\n      text.color = 'black'\n      addBot.updateVisual()\n    })\n    text.pressedEvent(()=>resolveFunction())\n    this.startAddBot = (func)=>{\n      resolveFunction = func\n      addBot.display = true\n    }\n    this.cancelAddBot = ()=>{\n      addBot.display = false\n    }\n  }\n\n  drawEmoteChooser(func){\n    \n  }\n\n  animatePlayerPlay = (content)=>this.animatePlay(content,...this.positionReference.playerDeck)\n  animatePlayerDraw = ()=>this.animateDraw(...this.positionReference.playerDeck)\n  animateLeaderboardDraw = ()=>this.animateDraw(...this.positionReference.leaderBoard)\n  animateLeaderboardPlay = (content)=> this.animatePlay(content,...this.positionReference.leaderBoard)\n\n\n\n  drawSpecialInfo = ()=>{\n    const specialInfo = this.app.addObject({x:this.positionReference.playDeck[0],y:this.positionReference.playDeck[1] + 85*pd})\n    specialInfo.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:50*pd})\n    const text = specialInfo.addShape({kind:'text',font:'40px Futura',text:''})\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    this.activateInfo = (color)=>{\n      console.log(color)\n      const tc = textColor[colors.indexOf(color)]\n      text.color = tc\n      text.text = color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')\n      specialInfo.updateVisual()\n    }\n    this.cancelInfo = ()=>{\n      text.text = ''\n      specialInfo.updateVisual()\n    }\n  }\n\n  animateDraw = (endX,endY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(null,true)\n    card.x = this.positionReference.drawDeck[0]\n    card.y = this.positionReference.drawDeck[1]\n    card.zIndex = -1\n    card.display = true\n    lght.playSound('./assets/draw.mp3')\n    card.addAnimation('x',endX,animationTime)\n    card.addAnimation('y',endY,animationTime)\n    card.shapes[0].addAnimation('scaleX',0.2,animationTime,r)\n    card.shapes[0].addAnimation('scaleY',0.2,animationTime,()=>card.kill())\n  })\n\n  animatePlay = (content,startX,startY)=>new Promise(r=>{\n    const animationTime = 500\n    const card = this.createCard(content)\n    card.shapes[0].scaleX = 0.2\n    card.shapes[0].scaleY = 0.2\n    card.x = startX\n    card.y = startY\n    card.display = true\n    lght.playSound('./assets/deal.mp3')\n    card.addAnimation('x',this.playDeck.x,animationTime,()=>{\n      this.playDeck.kill()\n      this.playDeck=card\n    })\n    card.addAnimation('y',this.playDeck.y,animationTime,r)\n    card.shapes[0].addAnimation('scaleX',1,animationTime)\n    card.shapes[0].addAnimation('scaleY',1,animationTime)\n    if(content.match(/Draw 4/) || content.match(/Wild/)) this.activateInfo(content.split(' ')[0])\n    else this.cancelInfo()\n  })\n\n  createActionPanel(actionFunction){\n    const actionalPanel = this.app.addStorage({x:this.app.canvas.width / 2,y:this.app.canvas.height/2 + 120*pd,spacing:50*pd})\n    actionalPanel.addShape({kind:'roundedRectangle',display:false,w:this.app.canvas.width,h:150*pd,borderRadius:10*pd,color:'#ffffed',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    actionalPanel.addShape({kind:'text',font:'40px Futura',text:\"Actions:\",y:-40*pd})\n    actionalPanel.model = ['Copy Link','Leave Game','Restart Game']\n    actionalPanel.elementFunction = (link)=>{\n      const shape = actionalPanel.addShape({kind:'text',font:'35px Futura',text:link})\n      shape.hoverEvent(()=>{\n        shape.color = 'yellow'\n        actionalPanel.updateVisual()\n      },()=>{\n        shape.color = 'black'\n        actionalPanel.updateVisual()\n      })\n      shape.pressedEvent(()=>actionFunction[link.split(' ').join('')]())\n      return shape\n    }\n    actionalPanel.updateToModel()\n  }\n\n  createLeaderboard(){\n    const leaderBoard = this.app.addStorage({x:this.app.canvas.width/2,y:75,spacing:0})\n    const turnIndicator = this.app.addObject({display:false})\n    turnIndicator.addShape({y:55*pd,kind:'poly',specialPolygon:true,numberOfSide:3,color:'yellow',radius:7*pd,rotation:90,border:true,borderColor:'black',borderWidth:7})\n    let colors = ['#90ee90','#ee2400','#D3D3D3','#00FFFF']\n    leaderBoard.elementFunction = (content,i)=>{\n          return leaderBoard.addShape({kind:'rect',color:colors[i],w:this.app.canvas.width/4,h:150,border:true,borderColor:'black',borderWidth:5,shadow:{blur:7,color:'black',offsetY:5}})\n      }\n      leaderBoard.model = ['text1','test2','txt2','t34']\n      leaderBoard.updateToModel()\n      let textShapes = []\n      this.updateLeaderboard = (players)=>{\n            leaderBoard.model = players\n            leaderBoard.updateToModel()\n            textShapes.forEach(e=>e.kill())\n            textShapes = []\n            players.forEach((name,i)=>{\n                  const {x,y} = leaderBoard.storageShapes[i]\n                  const text = leaderBoard.addShape({kind:'text',text:name,x,y:y-20,font:'30px Arial Bold',color:'black'})\n                  textShapes.push(text)\n            })\n            this.staticApp.turnFunctions(this.staticApp)\n      }\n      let timeOut = null\n      this.emote = (name,color,emoji)=>{\n        clearTimeout(timeOut)\n        const shape = textShapes.find(e=>e.text===name)\n\n        shape.addAnimation('opacity',0,100,()=>{\n          shape.text = emoji\n          shape.font = '40px Arial Bold'\n          leaderBoard.updateVisual()\n          shape.addAnimation('opacity',1,100,()=>{\n            timeOut = setTimeout(()=>{\n              shape.addAnimation('opacity',0,100,()=>{\n                shape.text = name\n                shape.font = '30px Arial Bold'\n                leaderBoard.updateVisual()\n                shape.addAnimation('opacity',1,100)\n              })\n            },1500)\n          })\n        })\n\n        \n      }\n    \n    this.updateTurnIndicator = (turn)=>{\n      const {absoluteY,absoluteX} = leaderBoard.shapes[turn]\n      turnIndicator.addAnimation('x',absoluteX,200,()=>{\n        turnIndicator.display = true\n        let numberOfLoops = 5\n        const fadeOut = ()=>{\n          numberOfLoops--\n          if(numberOfLoops<0) return\n          turnIndicator.addAnimation('opacity',0,500,fadeIn)\n        }\n        const fadeIn = ()=>turnIndicator.addAnimation('opacity',1,500,fadeOut)\n        fadeOut()\n      })\n    }\n  }\n\n  createHand(){\n    let cards = []\n    let resolveFunction = ()=>{}\n    let verifyFunction = ()=>{}\n    let onSelect = false\n    const playerHand = this.cardApp.addStorage({spacing:-70*pd,y:this.cardApp.canvas.height})\n    playerHand.elementFunction = (content)=>{\n      let position = []\n      if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n      else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n      else{\n        const color = content.split(' ')[0]\n        const action = content.split(' ').slice(1).join(' ')\n        position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n        if(parseInt(action)) position[1] = parseInt(action)\n        else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n      }\n      const shape = playerHand.addShape({borderOnly:true,y:150,clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*1.2 *pd,h:145.5*1.2*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'})\n      shape.pressedEvent((x,y)=>{\n            if(!verifyFunction(content) || !onSelect) return\n            if(y<230) return\n            onSelect = false\n            shape.kill()\n            resolveFunction(content)\n      })\n      return shape\n    }\n    this.updateCards = (card)=>{\n      playerHand.model = card\n      this.cardApp.canvas.width = (playerHand.totalLength+300)\n      this.cardApp.canvas.style.width = `${(playerHand.totalLength+300)/pd}px`\n      playerHand.x = this.cardApp.canvas.width/2\n      this.cardApp.canvas.height = 350\n      const clientWidth = 0.5*(window.innerWidth)\n      const handWidth = 0.5*((playerHand.totalLength+300)/pd)\n      if(handWidth<clientWidth) this.cardApp.canvas.style.left = `${clientWidth - handWidth}px`\n      if(handWidth > clientWidth){\n            this.cardApp.canvas.style.left = `0px`\n            document.getElementById('scrollable').scrollLeft = handWidth-clientWidth\n      }\n      playerHand.updateToModel()\n    }\n    this.awaitSelection = (vf)=>new Promise(r=>{\n      verifyFunction = vf\n      resolveFunction = r\n      onSelect = true\n    })\n    this.cancelSelection = ()=>onSelect = false\n  }\n\n  createDeck(content,x,y){\n    const deckCardOption = {kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black'}\n    const deck = this.staticApp.addObject({x,y})\n    deck.addShape({x:6*pd,y:-5*pd,...deckCardOption})\n    deck.addShape({x:4*pd,y:-3.75*pd,...deckCardOption})\n    deck.addShape({x:3*pd,y:-2.5*pd,...deckCardOption})\n    deck.addShape({x:1.5*pd,y:-1.25*pd,...deckCardOption})\n    const card = this.createCard(content)\n    card.x = x; card.y = y\n    card.shapes[0].shadow = null\n    card.shapes[0].border = false\n    card.display = true\n    card.updateVisual()\n    this.staticApp.turnFunctions(this.staticApp)\n    return card\n  }\n\n  createCard(content,back = false){\n    const card = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,display:false})\n    if(back){\n      card.addShape({kind:'roundedRectangle',borderOnly:true,color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:'assets/back.png',borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n    }\n    else{let flipped = false\n    let position = []\n    if(content.match(/Wild/)) position = this.cardSpriteReference.wild\n    else if(content.match(/Draw 4/)) position = this.cardSpriteReference.Draw4\n    else{\n      const color = content.split(' ')[0]\n      const action = content.split(' ').slice(1).join(' ')\n      position[0] = this.cardSpriteReference.colorReference.indexOf(color)\n      if(parseInt(action)) position[1] = parseInt(action)\n      else position[1] = this.cardSpriteReference.otherReference.indexOf(action) + 10\n    }\n    const shape = card.addShape({clipSpriteSheetX:position[1],clipSpriteSheetY:position[0],spriteLengthX:this.cardSpriteColumn,spriteLengthY:this.cardSpriteRow,kind:'roundedRectangle',color:'white',w:102.5*pd,h:145.5*pd,clip:true,clipImageLink:spriteLink,borderRadius:20*pd,border:true,borderWidth:1.25*pd,borderColor:'black',shadow:{color:'black',blur:1.25*pd,offsetX:1.75*pd,offSetY:1.75*pd}})\n  \n    const changeToBack =()=>{\n      shape.clipSpriteSheetX = null\n      shape.changeClipImage('assets/back.png')\n    }\n\n    const changeToFront = ()=>{\n      shape.clipSpriteSheetX = position[1]\n      shape.changeClipImage(spriteLink)\n    }\n\n    const flipAnimation = (back=true)=>new Promise(r=>{\n      shape.addAnimation('scaleX',0,100,()=>{\n        if(back) changeToBack()\n        else changeToFront()\n        shape.addAnimation('scaleX',1,100,r)\n      })\n    })\n    card.flip = ()=>{\n      flipped = !flipped\n      return flipAnimation(flipped)\n    }}\n    return card\n  }\n\n  drawColorChoser = ()=>{\n    const colors = ['red','blue','yellow','green']\n    const textColor = ['red','blue','#9b870c','green']\n    let choosingColor = false\n    let resolveFunction = ()=>{}\n    const colorChooser = this.app.addStorage({display:false,zIndex:1000,x:this.app.canvas.width/2,y:this.app.canvas.height/2,model:colors,spacing:25,direction:'column'})\n    colorChooser.addShape({kind:'roundedRectangle',w:300*pd,h:300*pd,borderRadius:10*pd,color:'white',shadow:{color:'black',offsetX:5,offsetY:-5,blur:10},border:true,borderWidth:5,borderColor:'black'})\n    colorChooser.addShape({kind:'text',font:'35px Futura',text:'Choose a color:',y:-105*pd})\n    colorChooser.elementFunction = (color,i)=>{\n      const shape = colorChooser.addShape({kind:'roundedRectangle',w:250,h:50,color:'white'})\n      shape.pressedEvent(()=>{if(choosingColor){resolveFunction(color);colorChooser.display = false}})\n      return shape\n    }\n    colorChooser.updateToModel()\n    colorChooser.storageShapes.forEach((e,i)=>{\n      const {x,y} = e\n      const color = colors[i]\n      const shape = colorChooser.addShape({x,y,kind:'text',color:textColor[i],font:'45px Futura',text:color.split('').map((e,i)=>(i===0)?e.toUpperCase():e).join('')})\n    })\n    this.chooseColor = ()=>new Promise(r=>{\n      colorChooser.display = true\n      choosingColor = true\n      resolveFunction = r\n    })\n  }\n\n  drawAnnouncement(){\n      let animationDuration = 100\n\n      this.announcementQueue = []\n      this.announcmentPerpetual = []\n      this.onAnnouncementPerpetual = false\n      this.onAnnoucementChanged = false\n      \n      //Format: [text,color,time/perpetual,started]\n      this.announcement = this.app.addObject({x:this.app.canvas.width/2,y:110*pd,positionIndicator:false})\n      this.annoucementText = this.announcement.addShape({kind:'text',font:'70px Futura',color:'orange',text:'',display:false})\n      this.announcement.addShape({kind:'roundedRectangle',w:this.app.canvas.width/2,h:100*pd,display:false})\n      const fadeOut = (func)=>this.annoucementText.addAnimation('opacity',0,animationDuration,()=>{this.annoucementText.display=false;if(func) func()})\n      const fadeIn = (funcDone)=>this.annoucementText.addAnimation('opacity',1,animationDuration,funcDone)\n      const fadeOutThenFadeIn = (func,funcDone)=> fadeOut(()=>{func();this.annoucementText.display = true; fadeIn(funcDone)})\n\n      this.updateAnnouncement = ()=>{\n          if(this.announcementQueue.length > 0 && !this.announcementQueue[0][3]){\n              let [text,color,time] = this.announcementQueue[0]\n              fadeOutThenFadeIn(()=>{\n                  this.annoucementText.text = text\n                  this.annoucementText.color = color\n                  setTimeout(()=>{this.announcementQueue.splice(0,1);this.updateAnnouncement();},time+animationDuration)\n              })\n              this.announcementQueue[0][3] = true\n          }\n          else if(this.announcementQueue.length >0) return\n          else if(!this.onAnnouncementPerpetual && this.annoucementText.display) return fadeOut()\n          else if(this.onAnnouncementPerpetual && ((!this.annoucementText.display) || this.onAnnoucementChanged)) return fadeOutThenFadeIn(()=>{\n              let [text,color] = this.announcmentPerpetual\n              this.annoucementText.text = text\n              this.annoucementText.color = color\n          })\n      }\n    }\n\n    changeAnnoucementPerpetual(text,color){\n      this.announcmentPerpetual = [text,color]\n      this.onAnnoucementChanged = true\n      this.updateAnnouncement()\n    }\n\n    addToAnnoucementQueue(text,color,time){\n      this.announcementQueue.push([text,color,time,false])\n      this.updateAnnouncement()\n    }\n\n    configureUnoMessage(){\n      const uno = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2,zIndex:1000})\n      const shape = uno.addShape({kind:'img',spriteLink:'./assets/18.svg',scaleX:0,scaleY:0})\n      uno.display = false\n      this.UNO = ()=>{\n        uno.display = true\n        shape.addAnimation('scaleX',1.5,400,()=>{\n          setTimeout(()=>{\n            shape.addAnimation('scaleX',0,100,()=>uno.display = false)\n            shape.addAnimation('scaleY',0,100)\n          },500)\n        })\n        shape.addAnimation('scaleY',1.5,400)\n      }\n    }\n\n    configureStartGameMessage(){\n      const startGameObject = this.app.addObject({x:this.app.canvas.width/2,y:this.app.canvas.height/2+50*pd,display:false})\n      const text = startGameObject.addShape({kind:'text',text:'Start Game',color:'black',font:'50px Futura'})\n      startGameObject.addShape({kind:'roundedRectangle',w:200,h:100,display:false})\n      let activated = false\n      let resolveFunction = ()=>{}\n      const fadeIn = ()=>{\n          if(!activated){\n              text.opacity = 1;\n          }\n          else text.addAnimation('opacity',1,1000,fadeOut)\n      }\n      const fadeOut = ()=>{\n          if(!activated){\n              text.opacity = 1\n          }\n          else text.addAnimation('opacity',0,1000,fadeIn)\n      }\n\n      startGameObject.pressedEvent(()=>{\n          activated = false\n          startGameObject.display = false\n          resolveFunction()\n      })\n\n      this.initiateStartGameMessage = (func=()=>{})=>{\n          if(!activated){\n              resolveFunction = func\n              activated = true\n              startGameObject.display = true\n              fadeOut()\n          }\n      }\n      this.turnOffStartGameMessage = ()=>{\n          startGameObject.display = false\n      }\n  }\n  kill = ()=>{\n    this.app.kill()\n    this.staticApp.kill()\n    lght.stopAll()\n  }\n}\n\nexport default mobileView","import webView from './webView'\nimport mobileView from './mobileView'\nwindow.mobileCheck = function() {\nlet check = false;\n(function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\nreturn check;\n};\nlet View \nif(window.mobileCheck()) View = mobileView\nelse View = webView\nexport default View","import View from './view'\nconst io = require('socket.io-client')\nconst axios = require('axios')\nconst _ = require('lodash')\n\nconst Controller = async (canvasref,canvasstatic,token,userid,CopyLink,LeaveGame,canvasSpecial)=>{\n      let view = new View(canvasref,canvasstatic,canvasSpecial)\n      view.drawTutorial()\n      let model = null\n      const url = (process.env.NODE_ENV==='production')?'/':'http://localhost:4000'\n      const socket = io.connect(url,{query:{token}})\n      view.showTutorial()\n      const play = (card)=>{\n            socket.emit('Play Card',card)\n      }\n\n      const draw = ()=>{\n            socket.emit('Draw Card')\n      }\n\n      const emote = (emoji)=>{\n            socket.emit('Emote',emoji)\n      }\n      \n      const addBot = ()=>socket.emit('Add Bot')\n\n      const verify = card=>{\n            if(card === 'Wild' || card==='Draw 4' || model.currentTopCard === 'Wild' || model.currentTopCard === 'Draw 4') return true\n            const color = model.currentTopCard.split(' ')[0]\n            const action = model.currentTopCard.split(' ').slice(1).join(' ')\n            const color2 = card.split(' ')[0]\n            const action2 = card.split(' ').slice(1).join(' ')\n            return ((color===color2) || (action===action2))\n      }\n\n      const update = async (m)=>{\n            let oldModel = (model)?_.cloneDeep(model):null\n            model = m\n            if(!model.inGame && model.players.length > 1 && !model.endGame) view.initiateStartGameMessage(()=>socket.emit('Start Game'))\n            else view.turnOffStartGameMessage()\n            if(!model.inGame && model.players.length < 4 && !model.endGame) view.startAddBot(addBot)\n            else view.cancelAddBot()\n            if(parseInt(model.onTurn) == userid){\n                  view.awaitSelection(verify).then((content)=>{view.cancelDraw();view.cancelSelection();play(content)})\n                  view.awaitDraw().then(()=>{view.cancelSelection();view.cancelDraw();draw()})\n            }\n            else{\n                  view.cancelDraw()\n                  view.cancelSelection()\n            }\n            //check with old model\n            if(oldModel){\n                  if(parseInt(oldModel.onTurn) != parseInt(model.onTurn) && model.onTurn >= 0) view.updateTurnIndicator(parseInt(model.onTurn))\n                  let newAnnoucements = model.feed.slice(oldModel.feed.length)\n                  let newDirectives = model.directives.slice(oldModel.directives.length)\n                  const players = model.players.map(e=>e.username)\n                  const oldPlayer = oldModel.players.map(e=>e.username)\n                  if(JSON.stringify(players) !== JSON.stringify(oldPlayer)) view.updateLeaderboard(players)\n                  if(newAnnoucements.length) newAnnoucements.forEach(message=>view.addToAnnoucementQueue(message,'black',500))\n                  if(newDirectives.length){\n                        for(let [code,user,otherinfo] of newDirectives){\n                              switch(code){\n                                    case 1:\n                                          if(user === userid){\n                                                await view.animatePlayerDraw()\n                                                const latestDraw = model.players[userid].cards.slice(oldModel.players[userid].cards.length)[0]\n                                                if(verify(latestDraw)) play(latestDraw)\n                                                else socket.emit('Pass Turn')  \n                                          }\n                                          else view.animateLeaderboardDraw()\n                                          break;\n                                    case 2:\n                                          if(user === userid) for(let i = 0;i<4;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 3:\n                                          if(user === userid) for(let i = 0;i<2;i++)(await view.animatePlayerDraw())\n                                          else for(let i = 0;i<2;i++)(await view.animateLeaderboardDraw())\n                                          break;\n                                    case 4:\n                                          if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                          else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          break;      \n                                    case 5:\n                                          view.UNO()\n                                          break;\n                                    case 7:\n                                          const animateToPlayer = async ()=>{for(let i = 0;i<4;i++)(await view.animatePlayerDraw())}\n                                          const animateToLeaderBoard = async ()=>{for(let i = 0;i<4;i++)(await view.animateLeaderboardDraw())}\n                                          animateToPlayer()\n                                          animateToLeaderBoard()\n                                          break;\n                                    case 8:\n                                          for(let i = 0;i<otherinfo;i++){\n                                                if(user===userid) await view.animatePlayerPlay(model.currentTopCard)\n                                                else await view.animateLeaderboardPlay(model.currentTopCard)\n                                          }\n                                          break;\n                                    default:break;\n                              }\n                        }\n                  }\n                  const oldCard = oldModel.players[userid].cards\n                  const newCard = model.players[userid].cards\n                  if(JSON.stringify(oldCard) !== JSON.stringify(newCard))view.updateCards(model.players[userid].cards)\n            }\n            else{\n                  const players = model.players.map(e=>e.username)\n                  view.updateLeaderboard(players)\n                  view.updateCards(model.players[userid].cards)\n                  if(model.onTurn>=0)view.updateTurnIndicator(model.onTurn)\n                  view.playDeck = view.createDeck(model.currentTopCard,...view.positionReference.playDeck)\n            }\n      }\n\n      socket.on('Update',update)\n      socket.on('New Game',(m)=>{\n            view.kill()\n            view = new View(canvasref,canvasstatic,canvasSpecial)\n            view.createActionPanel({\n                  CopyLink,\n                  LeaveGame,\n                  RestartGame:()=>socket.emit('Restart Game')\n            })\n            view.drawEmoteChooser(emote)\n            model = null\n            update(m)\n      })\n\n      socket.on('End Game',(winner)=>{\n            view.activateEndGame(model.players[winner].username,()=>socket.emit('Restart Game'))\n      })\n\n      socket.on('Choose Color',async ()=>{\n            const color = await view.chooseColor()\n            socket.emit('Choose Color',color)\n      })\n\n      socket.on('Error',(error)=>console.log(error))\n      socket.on('Emote',({emoji,userid})=>{\n            const colorCode = ['green','red','black','blue']\n            view.emote(model.players[userid].username,colorCode[userid],emoji)\n      })\n      socket.on('Delete Inactive',()=>view.changeAnnoucementPerpetual('This game was delete due to inactivity'))\n      socket.on('Critical Error',LeaveGame)\n      view.createActionPanel({\n            CopyLink,\n            LeaveGame,\n            RestartGame:()=>socket.emit('Restart Game')\n      })\n      view.drawEmoteChooser(emote)\n      console.log = ()=>{}\n}\n\nexport default Controller","import React, { useEffect, useState, useRef } from 'react'\nimport {connect} from 'react-redux'\nimport Controller from '../controller'\nimport cogoToast from 'cogo-toast'\nimport mobileView from '../mobileView'\n\nconst Game = connect(({token,playerid,id})=>({token,playerid,id}),dispatch=>({dispatch}))(({token,playerid,id,dispatch})=>{\n    const ref = useRef()\n    const ref2 = useRef()\n    const ref3 = useRef()\n    \n    const copyToClipboard = str => {\n        const el = document.createElement('textarea');\n        el.value = str;\n        document.body.appendChild(el);\n        el.select();\n        document.execCommand('copy');\n        document.body.removeChild(el);\n        cogoToast.success('Copied!')\n    };\n    const url = `http://playuno.net/join/${id}`\n\n    useEffect(()=>{\n      Controller(ref.current,ref2.current,token,playerid,()=>copyToClipboard(url),()=>dispatch({type:'LOG_OUT'}),ref3.current)\n    },[])\n    return (\n      <div className=\"App\">\n        {!window.mobileCheck()&&\n          <>\n          <div className='d-flex game' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n            <canvas ref={ref}  style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n          </div>\n          <div className='d-flex game2' style={{alignItems:'center',height:'100%',width:'100%',position:'absolute'}}>\n            <canvas ref={ref2} style={{width:850,height:650,margin:'auto',backgroundColor:'transparent'}}></canvas>      \n          </div>\n          </>\n        }\n        {window.mobileCheck()&&\n          <div className='position-absolute' id='scrollable' style={{overflow:'auto',position:'absolute',top:'0px',left:'0px',width:'100%',height:'100%'}}>\n            <canvas ref={ref}  style={{zIndex:'100',position:'fixed',left:0,top:0,width:'100%',height:'100%',margin:'auto',backgroundColor:'transparent'}}></canvas>      \n            <canvas ref={ref2} style={{zIndex:'0',position:'fixed',left:0,top:0,width:'100%',height:'100%',margin:'auto'}}></canvas>      \n            <canvas ref={ref3} style={{zIndex:'1000',margin:'auto',position:'absolute',bottom:0,left:0}}></canvas>      \n          </div>\n        }\n      </div>\n    );\n})\nexport default Game","import React, { useState, useEffect } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form} from 'formik'\nimport Logo from '../9.svg'\nconst {join} = require('../api')\n\nconst Join = (connect(({tempJoinId})=>({tempJoinId}),dispatch=>({dispatch}))(({dispatch,changeHistory,tempJoinId})=>{\n    const [loading,setLoading] = useState(false)\n\n\n    useEffect(()=>{\n        console.log(tempJoinId)\n        if(!tempJoinId){\n            dispatch({type:'JOINED'})\n        }\n    },[])\n\n    const joinGame = async ({username})=>{\n        setLoading(true)\n        console.log(tempJoinId)\n        const {data} = await join(tempJoinId,username)\n        const {token,id,playerid} = data\n        console.log(data)\n        dispatch({type:'JOIN_LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container'>\n            <div className='row w-50 mx-auto' style={{maxWidth:400}}>\n            {!loading &&\n                <div className='text-center w-100 mx-auto' style={{fontFamily:'Arial Bold'}}>\n                    <img src={Logo} style={{width:300,margin:'auto'}} className='floating'/>\n                    <div className='text-secondary'>Online version by Long Tran</div>\n                    <div className='pt-5 pb-5 mt-5' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',borderRadius:'15px',backgroundColor:'white'}}>\n                        <Formik initialValues={{username:''}} onSubmit={joinGame}>\n                            {({handleSubmit,handleChange,handleBlur})=>(\n                                <Form>\n                                    <div className = 'container w-50'>\n                                        <label className='font-weight-bold'>Nickname</label>\n                                        <input type='text' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Join game!</button>\n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                </div>\n            }\n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Join","import React, { useState } from 'react'\nimport BarLoader from 'react-spinners/BarLoader'\nimport {withRouter} from 'react-router-dom'\nimport {connect} from 'react-redux'\nimport {Formik,Form, Field} from 'formik'\nimport Logo from '../9.svg'\nconst {create} = require('../api')\n\nfunction Checkbox(props) {\n    return (\n      <Field name={props.name}>\n        {({ field, form }) => (\n        <div className='ml-n3'> \n          <input \n          className='custom-control-input'\n          type=\"checkbox\"\n          {...props}\n          checked={field.value.includes(props.value)}\n          onChange={() => {\n            if (field.value.includes(props.value)) {\n              const nextValue = field.value.filter(\n                value => value !== props.value\n              );\n              form.setFieldValue(props.name, nextValue);\n            } else {\n              const nextValue = field.value.concat(props.value);\n              form.setFieldValue(props.name, nextValue);\n            }\n          }}\n        />\n        <label className='ml-3'>\n            {props.displayname}\n          </label>\n        </div>\n        )}\n      </Field>\n    );\n  }\n\nconst Landing = withRouter(connect(null,dispatch=>({dispatch}))(({dispatch,history})=>{\n    const [loading,setLoading] = useState(false)\n\n    const createGame = async ({username,houseRule})=>{\n        setLoading(true)\n        const {data} = await create(username,houseRule)\n        const {token,id,playerid} = data\n        dispatch({type:'LOG_IN',token,id,playerid})\n        setLoading(false)\n    }\n\n    return (\n        <div className='container background'>\n            <div className='row w-75 mx-auto' style={{maxWidth:400,fontFamily:'Arial Bold'}}>\n            {!loading &&\n                <div className='text-center mx-auto w-100'>\n                    <img src={Logo} style={{width:300,margin:'auto'}} className='floating'/>\n                    <div className='text-secondary'>Online version by Long Tran</div>\n                    <div className='pt-4 pb-4 mt-5' style={{boxShadow:'0px 4px 16px rgba(31, 31, 31, 0.16)',border:'1px solid black',backgroundColor:'white',borderRadius:'15px'}}>\n                        <Formik initialValues={{username:'',houseRule:[]}} onSubmit={createGame}>\n                            {({handleSubmit,handleChange,handleBlur,values})=>(\n                                <Form>\n                                    <div className = 'container form-group'>\n                                        <div className='w-50 mx-auto'>\n                                            <label className='font-weight-bold '>Nickname:</label>\n                                            <input type='username' name='username' className='form-control' onChange={handleChange} onBlur={handleBlur}/>\n                                        </div>\n                                        <label className='font-weight-bold mt-3'>House Rules:</label>\n                                        <div className=' custom-control custom-checkbox mt-n1'>\n                                            <Checkbox value='tripledouble' name='houseRule' displayname='Allow triple/double' className=''/>\n                                        </div>\n                                        <button className='btn btn-success mt-4' onSubmit={handleSubmit}>Create game!</button>\n                                        \n                                    </div>\n                                </Form>\n                            )}                            \n                        </Formik>\n                    </div>\n                    <p className='text-secondary mt-2'>Joining a friend's game? Ask them for a personal link!</p>\n                </div>\n            }\n            \n            </div>\n            <div style={{position:'absolute',top:'50%',width:'100%'}}>\n                <BarLoader color='blue' loading={loading} width='200px' css={{margin:'auto'}}/>\n            </div>\n        </div>\n    )\n}))\nexport default Landing","import React,{useEffect} from 'react';\nimport './App.css';\nimport {Provider,connect} from 'react-redux'\nimport {BrowserRouter as Router,Switch,Link,Route,useLocation,withRouter} from 'react-router-dom'\nimport Store from './redux'\nimport Game from './Page/Game';\nimport Join from './Page/Join';\nimport Landing from './Page/Landing';\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport lght from './lght/lght'\n\nwindow.mobileCheck = function() {\n  let check = false;\n  (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\n  return check;\n};\n\nconst Content = withRouter(connect(({loggedIn,joined})=>({loggedIn,joined}),(dispatch)=>({dispatch}))(({loggedIn,dispatch,history,joined})=>{\n    const {pathname} = window.location\n    useEffect(()=>{\n      lght.stopAll()\n      if(pathname.match(/join/) && !joined){\n        const tempJoinId = pathname.split('/')[2]\n        console.log(tempJoinId)\n        dispatch({type:'LOG_OUT_WITH_TEMP_JOIN',tempJoinId})\n        history.push('/join')\n      }\n      else if(loggedIn){\n        console.log('hello')\n        if(!pathname.match(/game/)) history.push('/game')\n      }\n      else history.push('/')\n    },[loggedIn,joined])\n\n    return(\n      <>\n      <Switch>\n        <Route path='/game' exact component={Game}/>\n        <Route path='/join' exact>\n          <Join changeHistory={history}/>\n        </Route>\n        <Route path='/'exact component={Landing}/>\n      </Switch>\n      <div className='backgrounddiv'></div>\n      </>\n    )\n}))\n\nfunction App() {\n  return (\n    <Provider store={Store}>\n      <Router>\n        <Content/>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/9.f703b21f.svg\";","const axios = require('axios')\nlet url = (process.env.NODE_ENV === 'production')?'/':'http://localhost:4000'\nconst baseAPI = axios.create({baseURL:url})\nconst join = (id,username)=>baseAPI.post('join',{id,username})\nconst create = (username,houseRule)=>baseAPI.post('create',{username,houseRule})\n\nmodule.exports = {join,create}"],"sourceRoot":""}